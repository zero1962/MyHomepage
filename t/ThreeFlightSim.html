<!DOCTYPE html>
<!-- --------------------------------------------------------------------------
ThreeFlightSim (Ver 1.1) 3D model Flight Simulation software
Coded by kuniyuki.tsujimoto @ 2018.08.06 using three.js and Quaternion.
-------------------------------------------------------------------------------
No need compile and without special 3D viewer,
You can display any three-dimensional models in only Web browser.
The VRML Aircraft Museum,
There are a lot of three-dimensional(VRML format) aircraft models data.
Converting them into obj format by Blender, you can display all.
You can view the three-dimensional display in WindowsPC / Mac / Linux / iOS.
-------------------------------------------------------------------------------
kuniyuki.tsujimoto1182@nifty.com
http://zero1962.world.coocan.jp/
Please check me @ FaceBook.
-------------------------------------------------------------------------------
◎良いところ：
・スマホのジャイロで操縦できます。
・特別な３Ｄ表示ビューアを必要としない。
・iPhoneでもPCでも同じデータが表示できる。
・コンパイル不要。
・クオータニオンを使っているのでジンバルロックしない。
・VRMLエアクラフト博物館のモデルは変換すれば全部表示可能。
・お金がかからない。
・遠くに明石大橋が見えます。
-------------------------------------------------------------------------------
○使い方：
・ボタンをクリックして操作します。1Click 加速, 2Click 巡行.
・iOSの場合、画面をスライドして拡大縮小視点変更できます。
・PCの場合、マウス操作で拡大縮小視点変更できます。
・VRML/MMDのモデルは、BlenderでOBJ/MTL形式ファイルに変換することで表示できます。

アイコンクリック   ==>	(START)   ==> RV-6Aが表示される。
			  |
プルダウン選択	   ==>	(View)    ==> Runway,Cockpit etc.
			  |
プルダウン選択	   ==>	(Field)   ==> KobeAirport,Mt.Fuji,Suzuka  etc.
			  |
プルダウン選択	   ==>	(SkyType) ==> BlueSky,Space  etc.
			  |
プルダウン選択	   ==>	(Models)  ==> モデル機種  RV-6A, Savioa21 etc.
			  |
プルダウン選択	   ==>	(Setting) ==> ボタン表示、Gyro使用など
			  |
ボタン操作	   ==>	(Bottun)  ==> 機体操縦、カメラ操作
			  |
端末Gyro	   ==>	(Gyro)    ==> 機体操縦、カメラ操作
			  |
WindowCloze	   ==>	(END)

【ボタン定義】
・Model：表示モデル切替 21モデル収録。
  1.RV-6A, 2.Savoia21, 3.F-35B, 4.SH-60J, 5.A6M2, 6.KI-61 7.F-2A, 8.2000GT, 9.F240Z, 10.Delta
・View ：カメラ視点切替
・VTOL/HOVER/PLANE ：推力変更
・RL：左ロール
・RR：右ロール
・PU：ピッチアップ
・PD：ピッチダウン
・YL：左ヨー
・YR：右ヨー
・Go：スロットルアップ
・Bk：ストットルダウン
・STP：ストップ、RST：初期位置に戻る。
・ＰＣでは、W,A,S,D / Up,Down,Left,Rightで操作可能

【文字表示定義】
・this source.　<- クリックするとソースが表示される。
・Time：経過時間
・Px/Py/Pz：機体位置
・P1x/P1y/P1z：DEMO機 AI1位置
・P2x/P2y/P2z：DEMO機 AI2位置
・P3x/P3y/P3z：DEMO機 AI3位置
・Pitch/Yaw/Roll
・Vz ：機軸方向速度
・Vcz：機軸方向速度

【Control メニュー】
・Gyro:ジャイロ操縦モード
・RePlay：飛行データの再生（ファイル選択）
・log ：飛行データ記録開始／終了（ファイル出力）
・Camera：カメラ操作モード
・AI1 ：DEMOフライト機体表示(タッチ＆ゴー)
・AI2 ：DEMOフライト機体表示(旋回)
・AI3 ：DEMOフライト機体表示(旋回)
・Rudder：操舵面表示
・Demo：ランダムデモ表示
・INT ：
・Speed：速度変更
・Zoom：カメラ位置の変更
・PCでは、Hを押すと Open Controls ( dat.GUI )が隠れる。
-------------------------------------------------------------------------------
□注意事項：
・IE10以下では、動作しません。
-------------------------------------------------------------------------------
△問題点：
(13) Obj/Mtl でC172やA6M2とかプロペラ機をフォルダから読み込んだ場合、プロペラがない。->モデルを変える。
(12) Pmd/Pmxをフォルダ読込が成功しない。NG 2018.02.12
(11) 物理運動を追加したら非常に動作が遅くなった。（スイッチでON/OFFさせる)2017.10.08
(1) 機体表面のスームスシェーディングできない。(RV-6A以外)
(2) プロペラ、タイヤの回転表示方法不明（サンプルを分析する。）2017.08.29 解決
(3) 地上走行時脚が消えてしまう。解決
(4) 尾輪接地機体（A6M2,KI-61)は、地上走行せずそのまま離陸してしまう。2017.08.30 解決
(5) 羽田空港風景データはPCローカルで表示できるが、iPhoneでは表示できない。
(6) iPhoneでは、ダブルタップすると表示サイズが変わってしまう。
(7) Texture付コンコルドは、iOSで表示できなかった。
(8) ドロップシャドウが表示できない？( 2017.08.26 )解決しかし、OBJはNG
(9) シャドウメッシュも表示できない？( 2017.08.26 )
(10) FMV2ではKey入力不能　解決？
-------------------------------------------------------------------------------
▽その他：
・改造再配布は、ご自身の責任でお願いします。
・ご意見、ご質問は、上記にメール願います。
・要望、アイデアをお待ちしております。
・VTOLボタンの表示をPLANE に切り替えたい 2017.08.29 解決
・STOPボタンの表示をRESTARTに切り替えたい2017.08.29 解決
・ミッションの表示
・ターゲットをパッシングすると１０点
・ターゲットをパッシングするまでの最速時間記録
・指定時間ないに何回ターゲットをパッシングできるか
・規定どおり着陸できるか
・ターゲット：幾何学機体、飛行船のAIフライト　済
・宇宙用ThreeFlight 2017.09.09 ThreeSpace作成済
・Carは、左右のみ
-------------------------------------------------------------------------------
◇履歴：

2018.08.06 mon
・Gyro情報UDP受信データをNode.js応答ｻｰﾊﾞからAjaxで取り込む機能追加した。
　これによりiPhoneアプリのHascLoggerを使ってiPhoneでモデルの姿勢操作可能になった。
　また、Dinput.exe/UDP_text.exeを組み合わせるとジョイスティック操作可能になった。

2018.05.03 thu
・モデル一覧をファイル定義、配列化する。

2018.04.29 sun
・149個目の機体モデル登録済

2018.04.20
・PFD,FI,PLOT機能追加

2018.04.12 thu
・jQuery Flight Indicators Plugin

2018.02.18 sun
・宇宙背景の組み込み完了
・軍用機、民間機、WWII機体、その他、67モデル登録

2018.02.14
・視点モード選択をプルダウンに登録する ok
・事務所モデルを登録する
・Gyro ONすると視点もうごいてしまい制御できないことの解決。OK
・Walk アバターに人物を取り入れる。Miki OK
・宇宙シーンもとりこむ。

2018.02.12
・起動時ボタンを非表示としモデルビューワーシミュレータを切り替える ok
・フライトデータの読込書き出しを完成させる。Ok

2018.02.04 sun
・ﾓﾃﾞﾙﾃﾞｰﾀの事前読み込みをやめ、その都度、ファイル読み込みとした。
・スマホのジャイロ出力読み込み可能になった。

2018.02.03 sat
・Skydome/Stars追加

2017.10.08 sun
物理運動追加
・揺れる布
・ブロック崩し壁
・砲弾が当たると破壊されるオブジェ
・砲弾発射機能

2017.10.01 sun
・飛行データ・ファイル読み込み、飛行再生機能追加

2017.09.29 fri
・飛行データ記録、ファイル出力機能追加

2017.09.22 fri
・編隊飛行の僚機表示追加

2017.09.21 thu
・Cameraモードでは、操作ボタンでカメラ位置方向を操作できる。

2017.09.02 sat
・ドロップシャドウ処理
・ミッション課題：メッセージ表示
・AI2のモデル変更不良
・Deltaモデルの操縦表示追加
・AI1/AI2の姿勢表示改善
・PCKey入力不能
・STPの後、方向変更できない。
2017.08.31 thu
・Key入力操作対応
・モデル切替時不良の改善
・SH60J,Takanami,BS-Yamato,GT-Rを追加
2017.08.30 wed 下記の機能追加
・操作中のボタンの色を変更する。
・モデルとビューのボタン表示を変更する
・舵面表示をMenuでオン／オフする
2017.08.26 sat 機体追加 Concorde2,C172A
2017.08.24 thu Ver 1.1 機能拡張
2017.08.17 thu Ver 1.0 新規コーディング
2017.01.11 wed 時間と共に視点と機体が切替るデモ機能追加
2017.01.09 mon GuiMENUで表示モデルを選択できるようになった。
2016.11.28 mon Textureのパスはsetpathで通るようになった。
2016.11.12 sat FireFox最新版ならOBJLoaderがローカルPCで実行できる。
2016.11.11 fri Ver 1.3
2016.11.10 thu 自作クォータニオン関数による航法計算で問題解決できた。
2016.11.10 thu 仕様追加
2016.11.09 wed クォータニオン関数化
2016.11.07 mon ランダム地形、太陽光、鳥の群れ、霧
2016.11.01 tue 簡易機体形状、練習用飛行経路設定した。
2016.10.30 sun Camera Lookup 成功。ｺｸﾋﾟｯﾄﾋﾞｭｰも改善し、MRJ90版も作成した。
2016.10.29 sat 古いIE9/Chrom(on WindoesVista)では動作しない。
2016.10.28 fri 数値表示できた。しかし、iOSでは表示できない。
2016.10.22 Ver 1.0 新規コーディング
--------------------------------------------------------------------------- -->
<html lang="en" dir="ltr">
<title>ThreeFlightSim</title>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" type="text/css" href="_examples_data/prism/prism.css" />
    <link rel="stylesheet" type="text/css" href="_examples_data/style.css" />
    <link rel="stylesheet" type="text/css" href="css/flightindicators.css" />
    <link class="include" rel="stylesheet" type="text/css" href="css/jquery.jquery.jqplot.min.min.css" />
    <script class="include" type="text/javascript" src="js/jquery-3.3.1.min.js"></script>
<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1, maximum-scale=1" />
<!-- --------------------------------------------------------------------------
スタイル
--------------------------------------------------------------------------- -->
<style type="text/css">
body {
	background:#000;
	color: #eee;
	padding:0;
	margin:0;
	font-weight:bold;
	overflow:hidden;
	font-family:Monospace;
	font-size:13px;
}
div#canvas-frame{
	border: none;
	cursor: pointer;
	height: 0px;
	background-color: #EEEEEE;
	max-width: 100%;
}
div#canvas-frame canvas{
	max-width: 100%;
}

canvas#c_1 {
	position: absolute;
	left:   0px;
	bottom: 10px;
	border:10px;
	solid #FFFFFF;
	height:300px;
	width :300px;"
}
canvas#c_2 {
	position: absolute;
	left:   0px;
	bottom: 10px;
	border:10px;
	solid #FFFFFF;
	height:300px;
	width :300px;"
}
canvas#c_3 {
	position: absolute;
	left:   0px;
	bottom: 10px;
	border:10px;
	solid #FFFFFF;
	height:300px;
	width :300px;"
}

#info { position: absolute; top: 60px; left: 20px; font-size: 16px;}

#ModelButton {
	position: absolute;
	right: 10px;
	top:   30px;
	opacity: 0.4;
	font-size: 20px;
	border : solid 0px #ffffff;
	border-radius : 15px;
	padding : 4px 6px;
	background-color : #77FF77;
	visibility:	hidden;
}
#View_Button {
	position: absolute;
	right: 10px;
	top:   90px;
	opacity: 0.4;
	font-size: 20px;
	border : solid 0px #ffffff;
	border-radius : 15px;
	padding : 4px 6px;
	background-color : #77FF77;
	visibility:	hidden;
}
#VTOL_Button {
	position: absolute;
	right: 10px;
	top:   150px;
	opacity: 0.4;
	font-size: 20px;
	border : solid 0px #ffffff;
	border-radius : 15px;
	padding : 4px 6px;
	background-color : #77FF77;
	visibility:	hidden;
}
#STP_Button {
	color: #FF0000;
	position: absolute;
	left:   120px;
	bottom: 10px;
	opacity: 0.4;
	font-size: 30px;
	border : solid 0px #ffffff;
	border-radius : 15px;
	moz-border-radius : 15px;
	padding : 4px 6px;
	background-color : #77FF77;
	visibility:	hidden;
}
#Go_Button {
	color: #0000FF;
	position: absolute;
	left:  250px;
	bottom: 10px;
	opacity: 0.4;
	font-size: 30px;
	border : solid 0px #ffffff;
	border-radius : 15px;
	moz-border-radius : 15px;
	padding : 4px 6px;
	background-color : #77FF77;
	visibility:	hidden;
}
#Back_Button {
	color: #0000FF;
	position: absolute;
	left:   10px;
	bottom: 10px;
	opacity: 0.4;
	font-size: 30px;
	border : solid 0px #ffffff;
	border-radius : 15px;
	moz-border-radius : 15px;
	padding : 4px 6px;
	background-color : #77FF77;
	visibility:	hidden;
}
#YR_Button {
	color: #00FF00;
	position: absolute;
	left:  250px;
	bottom: 80px;
	opacity: 0.4;
	font-size: 30px;
	border : solid 0px #ffffff;
	border-radius : 15px;
	moz-border-radius : 15px;
	padding : 4px 6px;
	background-color : #77FF77;
	visibility:	hidden;
}
#YL_Button {
	color: #00FF00;
	position: absolute;
	left:   10px;
	bottom: 80px;
	opacity: 0.4;
	font-size: 30px;
	border : solid 0px #ffffff;
	border-radius : 15px;
	moz-border-radius : 15px;
	padding : 4px 6px;
	background-color : #77FF77;
	visibility:	hidden;
}
#PU_Button {
	color: #00FF00;
	position: absolute;
	left:   120px;
	bottom: 160px;
	opacity: 0.4;
	font-size: 30px;
	border : solid 0px #ffffff;
	border-radius : 15px;
	moz-border-radius : 15px;
	padding : 4px 6px;
	background-color : #77FF77;
	visibility:	hidden;
}
#PD_Button {
	color: #00FF00;
	position: absolute;
	left:   120px;
	bottom: 80px;
	opacity: 0.4;
	font-size: 30px;
	border : solid 0px #ffffff;
	border-radius : 15px;
	moz-border-radius : 15px;
	padding : 4px 6px;
	background-color : #77FF77;
	visibility:	hidden;
}
#RR_Button {
	color: #00FF00;
	position: absolute;
	left:  250px;
	bottom: 160px;
	opacity: 0.4;
	font-size: 30px;
	border : solid 0px #ffffff;
	border-radius : 15px;
	moz-border-radius : 15px;
	padding : 4px 6px;
	background-color : #77FF77;
	visibility:	hidden;
}
#RL_Button {
	color: #00FF00;
	position: absolute;
	left:   10px;
	bottom: 160px;
	opacity: 0.4;
	font-size: 30px;
	border : solid 0px #ffffff;
	border-radius : 15px;
	moz-border-radius : 15px;
	padding : 4px 6px;
	background-color : #77FF77;
	visibility:	hidden;
}
#OP_Button {
	position: absolute;
	left:   10px;
	top:   150px;
	opacity: 0.4;
	font-size: 20px;
	border : solid 0px #ffffff;
	border-radius : 15px;
	padding : 4px 6px;
	background-color : #77FF77;
	visibility:	hidden;
}
#Flight_Data {
	display: none;
}
#fileUploadInput {
	display: none;
}
#fileUploadInput2 {
	display: none;
}
</style>
<!-- --------------------------------------------------------------------------
ヘッダ  display: block;
--------------------------------------------------------------------------- -->
</head>
<body>
<div id="canvas-frame"></div>
<div id="container">
    <div class="Flight_Indicators">
        <div>
            <span id="attitude"></span>
            <span id="heading"></span>
            <span id="airspeed"></span>
            <span id="altimeter"></span>            
        </div>
    </div>
</div>
<canvas id='c_1'></canvas>
<canvas id='c_2'></canvas>
<canvas id='c_3'></canvas>
<!-- --------------------------------------------------------------------------
            <span id="turn_C"></span>
            <span id="variometer"></span>
--------------------------------------------------------------------------- -->
<div id="info"><a href="./ThreeFlightSim.txt"> The source code. </a></div>
<div id="text"></div>
<!-- --------------------------------------------------------------------------
インプット・フォーム
--------------------------------------------------------------------------- -->
<FORM name="f1">
<input id= "ModelButton" type="button" value="Model" onclick= "ModelButtonHandler()">
<input id= "View_Button" type="button" value="View"  onclick= "View_ButtonHandler()">
<input id= "VTOL_Button" type="button" value="VTOL"  onclick= "VTOL_ButtonHandler()">
<input id=   "OP_Button" type="button" value="Gear"  onclick=   "OP_ButtonHandler()">
<input id=  "STP_Button" type="button" value="STP"   onclick=  "STP_ButtonHandler()">
<input id=   "Go_Button" type="button" value="Go"    onclick=   "Go_ButtonHandler()">
<input id= "Back_Button" type="button" value="Bk"    onclick= "Back_ButtonHandler()">
<input id=   "YR_Button" type="button" value="YR"    onclick=   "YR_ButtonHandler()">
<input id=   "YL_Button" type="button" value="YL"    onclick=   "YL_ButtonHandler()">
<input id=   "PU_Button" type="button" value="PU"    onclick=   "PU_ButtonHandler()">
<input id=   "PD_Button" type="button" value="PD"    onclick=   "PD_ButtonHandler()">
<input id=   "RR_Button" type="button" value="RR"    onclick=   "RR_ButtonHandler()">
<input id=   "RL_Button" type="button" value="RL"    onclick=   "RL_ButtonHandler()">
<input id= "Flight_Data"      type="file" name="files[]" multiple accept=".txt" />
<input id= "fileUploadInput"  type="file" name="files[]" multiple accept=".obj,.mtl,.pmd,.pmx" />
<input id= "fileUploadInput2" type="file" name="files[]" multiple accept=".mtl" />
</FORM>
<!-- --------------------------------------------------------------------------
関連 JavaScripts
--------------------------------------------------------------------------- -->
<script type="text/javascript" src="js/three.js">        	</script>
<script type="text/javascript" src="js/dat.gui.min.js">  	</script>
<script type="text/javascript" src="js/Detector.js">		</script>
<script type="text/javascript" src="js/BufferLoader.js">	</script>
<script type="text/javascript" src="js/MTLLoader.js">    	</script>
<script type="text/javascript" src="js/OBJLoader.js">    	</script>
<script type="text/javascript" src="js/OBJLoader2.js">		</script>
<script type="text/javascript" src="js/WWOBJLoader2.js">	</script>
<script type="text/javascript" src="js/TGALoader.js">    	</script>
<script type="text/javascript" src="js/MMDLoader.js">		</script>
<script type="text/javascript" src="js/MMDPhysics.js">		</script>
<script type="text/javascript" src="js/OrbitControls.js">	</script>
<script type="text/javascript" src="js/DeviceOrientationControls.js">	</script>
<script type="text/javascript" src="js/ImprovedNoise.js">	</script>
<script type="text/javascript" src="js/Projector.js">		</script>
<script type="text/javascript" src="js/CanvasRenderer.js">	</script>
<script type="text/javascript" src="js/ConvexObjectBreaker.js">	</script>
<script type="text/javascript" src="js/ConvexGeometry.js">	</script>
<script type="text/javascript" src="js/ShadowMesh.js">   	</script>
<script type="text/javascript" src="js/SkyShader.js">		</script>
<script type="text/javascript" src="js/Mirror.js">		</script>
<script type="text/javascript" src="js/WaterShader.js">		</script>
<script type="text/javascript" src="js/Bird.js">		</script>
<script type="text/javascript" src="js/libs/ammo.js">		</script>
<script type="text/javascript" src="js/libs/mmdparser.min.js">  </script>
<script type="text/javascript" src="js/libs/charsetencoder.min.js"></script>
<script type="text/javascript" src="js/utils/ShadowMapViewer.js"></script>
<script type="text/javascript" src="js/utils/ShadowMapViewer.js"></script>
<!-- --------------------------------------------------------------------------
関連関数　宇宙背景関連　 JavaScripts
--------------------------------------------------------------------------- -->
<script type="text/javascript" src="js/GPUParticleSystem.js" charset="utf-8">	</script>
<script type="text/javascript" src="js/shaders/CopyShader.js">			</script>
<script type="text/javascript" src="js/shaders/FilmShader.js">			</script>
<script type="text/javascript" src="js/postprocessing/EffectComposer.js">	</script>
<script type="text/javascript" src="js/postprocessing/ShaderPass.js">		</script>
<script type="text/javascript" src="js/postprocessing/MaskPass.js">		</script>
<script type="text/javascript" src="js/postprocessing/RenderPass.js">		</script>
<script type="text/javascript" src="js/postprocessing/FilmPass.js">		</script>
<!-- --------------------------------------------------------------------------
関連関数　Flight Indicators　 JavaScripts
--------------------------------------------------------------------------- -->
<script src="_examples_data/prism/prism.js"></script>
<script src="js/jquery-3.3.1.min.js"></script>
<script src="js/jquery.flightindicators.js"></script>
<!-- --------------------------------------------------------------------------
関連関数
--------------------------------------------------------------------------- -->
<script type="text/javascript" class="code">
if ( ! Detector.webgl ) Detector.addGetWebGLMessage();
/*----------------------------------------------------------------------------*/
//userAgent
/*----------------------------------------------------------------------------*/
var ua 　　　= {};
ua.name      = window.navigator.userAgent.toLowerCase();
ua.isIE      = (ua.name.indexOf("msie") >= 0 || ua.name.indexOf("trident") >= 0);
ua.isiPhone  = ua.name.indexOf("iphone") >= 0;
ua.isiPod    = ua.name.indexOf("ipod") >= 0;
ua.isiPad    = ua.name.indexOf("ipad") >= 0;
ua.isiOS     = (ua.isiPhone || ua.isiPod || ua.isiPad);
ua.isAndroid = ua.name.indexOf("android") >= 0;
ua.isTablet  = (ua.isiPad || (ua.isAndroid && ua.name.indexOf("mobile") < 0));
ua.isChrome  = ua.name.indexOf("chrome") != -1;
/*------------------------------------------------------------------------------
JavaScript  グローバル変数宣言
------------------------------------------------------------------------------*/
var clock     = new THREE.Clock();
var lastTime  = (new Date()).getTime();
var frameTime = 0;
var Time      = 0;
var Nc        = 0;
var wtime;
var container;
var Gyro_CTRL;
var controls0, controls1, controls2, controls3;
var controls4, controls5, controls6, controls7, controls8;
var controls9, controls10, controls11, controls12;
var renderer = new THREE.WebGLRenderer({antialias: true, alpha: true});
var scene = new THREE.Scene();
var SCREEN_WIDTH  = window.innerWidth;
var SCREEN_HEIGHT = window.innerHeight;
/*----------------------------------------------------------------------------*/
// GUI メニュー関係
/*----------------------------------------------------------------------------*/
var gui = new dat.GUI();
var controls = {};
var setting  = gui.addFolder( 'Setting' );
var View     = gui.addFolder( 'View'    );
var skytypes = gui.addFolder( 'SkyType' );
var fields 　= gui.addFolder( 'Field'   );
var models   = gui.addFolder( 'Models'  );
gui.close();
//setting.open();
//skytypes.open();
//fields.open();
//models.open();
setting.close();
View.close();
skytypes.close();
fields.close();
models.close();
/*----------------------------------------------------------------------------*/
// 宇宙パラメータ
/*----------------------------------------------------------------------------*/
var radius = 6371;
var tilt = 0.41;
var rotationSpeed = 0.05;
var SunScale = 10;
var cloudsScale = 1.005;
var moonScale = 0.23;
var d, dPlanet, dMoon, dMoonVec = new THREE.Vector3();
var H2A_SEP      = new THREE.Group();
var H2A_2nd      = new THREE.Group();
var H2A_1st      = new THREE.Group();
var H2A_SRB      = new THREE.Group();
var H2A_SSB      = new THREE.Group();
var H2A_FL       = new THREE.Group();
var ML_mesh      = new THREE.Group();
var Mercury_mesh = new THREE.Group();
var Venus_mesh   = new THREE.Group();
var Earth_mesh   = new THREE.Group();
var Moon_mesh    = new THREE.Group();
var Mars_mesh    = new THREE.Group();
var Jupiter_mesh = new THREE.Group();
var Saturn_mesh  = new THREE.Group();
var Ring_mesh    = new THREE.Group();
var Ring2_mesh   = new THREE.Group();
var Earth_Obit   = new THREE.Group();
var Moon_Obit    = new THREE.Group();
var ISS          = new THREE.Group();
var ISS_Obit     = new THREE.Group();
var shuttle      = new THREE.Group();
var LM5          = new THREE.Group();
var LM5_Obit     = new THREE.Group();
var H2A          = new THREE.Group();
var ML           = new THREE.Group();
var ML_Obit      = new THREE.Group();

var r = radius, starsGeometry = [ new THREE.Geometry(), new THREE.Geometry() ];
var stars;
var starsMaterials = [
		new THREE.PointsMaterial( { color: 0xFFFFFF, size: 2, sizeAttenuation: false } ),
		new THREE.PointsMaterial( { color: 0xFF0000, size: 1, sizeAttenuation: false } ),
		new THREE.PointsMaterial( { color: 0x0000FF, size: 2, sizeAttenuation: false } ),
		new THREE.PointsMaterial( { color: 0xFFFFFF, size: 1, sizeAttenuation: false } ),
		new THREE.PointsMaterial( { color: 0xFFFF00, size: 2, sizeAttenuation: false } ),
		new THREE.PointsMaterial( { color: 0x00FFFF, size: 1, sizeAttenuation: false } )
	];
var tick = 0;
var particleSystem = new THREE.GPUParticleSystem({ maxParticles: 250000 });
var spawnerOptions = {
	horizontalSpeed: 	0.45,
	verticalSpeed: 		0.133,
	velocityRandomness:	3.0,
	positionRandomness:	3.0,
	size:			1.0,
	sizeRandomness:		25.0,
	colorRandomness:	1.0,
	lifetime:		2.0,
	turbulence:		1.0,
	spawnRate:		60000,
	timeScale:		2.0,
};
var options = {
	position: new THREE.Vector3(),
	positionRandomness: 	3.0,
	velocity: new THREE.Vector3(),
	velocityRandomness: 	3.0,
	color: 			0xaa88ff,
	colorRandomness: 	1.0,
	turbulence: 		1.0,
	lifetime: 		2.0,
	size: 			1.0,
	sizeRandomness: 	25.0,
	spawnRate:		60000,
};
/*----------------------------------------------------------------------------*/
// カメラセッティング
/*----------------------------------------------------------------------------*/
var activeCamera;
var camera   = new THREE.PerspectiveCamera( 20, SCREEN_WIDTH / SCREEN_HEIGHT, 0.2, 1e7 );
    camera.position.z = radius * 5;
var camera0  = new THREE.PerspectiveCamera( 55, SCREEN_WIDTH / SCREEN_HEIGHT, 1, 50000000 );
var camera1  = new THREE.PerspectiveCamera( 60, SCREEN_WIDTH / SCREEN_HEIGHT, 0.095, 50000000 );
var camera2  = new THREE.PerspectiveCamera( 55, SCREEN_WIDTH / SCREEN_HEIGHT, 1, 50000000 );
var camera3  = new THREE.PerspectiveCamera( 55, SCREEN_WIDTH / SCREEN_HEIGHT, 1, 50000000 );
var camera4  = new THREE.PerspectiveCamera( 55, SCREEN_WIDTH / SCREEN_HEIGHT, 1, 50000000 );
var camera5  = new THREE.PerspectiveCamera( 60, SCREEN_WIDTH / SCREEN_HEIGHT, 0.095, 50000000 );
var camera6  = new THREE.PerspectiveCamera( 55, SCREEN_WIDTH / SCREEN_HEIGHT, 1, 50000000 );
var camera7  = new THREE.PerspectiveCamera( 55, SCREEN_WIDTH / SCREEN_HEIGHT, 1, 50000000 );
var camera8  = new THREE.PerspectiveCamera( 55, SCREEN_WIDTH / SCREEN_HEIGHT, 1, 50000000 );
var camera9  = new THREE.PerspectiveCamera( 55, SCREEN_WIDTH / SCREEN_HEIGHT, 1, 50000000 );
var camera10 = new THREE.PerspectiveCamera( 55, SCREEN_WIDTH / SCREEN_HEIGHT, 1, 50000000 );
var camera11 = new THREE.PerspectiveCamera( 60, SCREEN_WIDTH / SCREEN_HEIGHT, 0.095, 50000000 );
var camera12 = new THREE.PerspectiveCamera( 55, SCREEN_WIDTH / SCREEN_HEIGHT, 1, 50000000 );
var Gyro     = new THREE.PerspectiveCamera( 80, SCREEN_WIDTH / SCREEN_HEIGHT, 1, 50000000 );
Gyro.position.set   ( 0,  5,    15 );
camera3.position.set( 0, 30,    50 );
camera7.position.set( 0,  5,   200 );
camera8.position.set( 0,  5, -1200 );
/*----------------------------------------------------------------------------*/
// マウスコントローラー
/*----------------------------------------------------------------------------*/
	controls = new THREE.OrbitControls( camera, renderer.domElement);
//	controls.maxDistance = 5000;
//	controls.maxPolarAngle = Math.PI * 0.49;
//	controls.target.y = 2;
//	controls.enabled = true;
	controls0  = new THREE.OrbitControls ( camera0,renderer.domElement);
//	controls1  = new THREE.OrbitControls ( camera1,renderer.domElement);
//	controls2  = new THREE.OrbitControls ( camera2,renderer.domElement);
	controls3  = new THREE.OrbitControls ( camera3,renderer.domElement);
//	controls4  = new THREE.OrbitControls ( camera4,renderer.domElement);
//	controls5  = new THREE.OrbitControls ( camera5,renderer.domElement);
	controls6  = new THREE.OrbitControls ( camera6,renderer.domElement);
	controls7  = new THREE.OrbitControls ( camera7,renderer.domElement);
	controls8  = new THREE.OrbitControls ( camera8,renderer.domElement);
	controls9  = new THREE.OrbitControls ( camera9,renderer.domElement);
	controls10 = new THREE.OrbitControls ( camera10,renderer.domElement);
	controls11 = new THREE.OrbitControls ( camera11,renderer.domElement);
	controls12 = new THREE.OrbitControls ( camera12,renderer.domElement);
	Gyro_CTRL  = new THREE.DeviceOrientationControls( Gyro );
	scene.add( activeCamera );
/*----------------------------------------------------------------------------*/
// Light
/*----------------------------------------------------------------------------*/
var SHADOW_MAP_WIDTH = 514, SHADOW_MAP_HEIGHT = 514;
var sunLight = new THREE.SpotLight( 0xffcccc, 1, 0, Math.PI / 2 );
var ambient  = new THREE.AmbientLight( 0x444444 ,1.5 );
var useDirectionalLight = true;
var lightSphere, lightHolder;
var lightShadowMapViewer;
var directionalLightShadowHelper
var sky, sunSphere,waterNormals,water;
var parameters = {
	width: 2000,
	height: 2000,
	widthSegments: 250,
	heightSegments: 250,
	depth: 1500,
	param: 4,
	filterparam: 1
};
/*----------------------------------------------------------------------------*/
var elemFileInput3 = document.getElementById( 'Flight_Data' );
var mouse          = new THREE.Vector2();
var mouseCoords    = new THREE.Vector2();
var raycaster      = new THREE.Raycaster();
var ballMaterial   = new THREE.MeshPhongMaterial( { color: 0xffff00 } );
/*----------------------------------------------------------------------------*/
// Physics variables　物理パラメータ
/*----------------------------------------------------------------------------*/
var gravityConstant1 = -9.8;
var gravityConstant = 7.8;
var collisionConfiguration;
var dispatcher;
var broadphase;
var solver;
var physicsWorld;
var physicsWorld1;
var margin = 0.05;
var convexBreaker = new THREE.ConvexObjectBreaker();
var hinge;
var cloth;
var clothWidth = 4;
var clothHeight = 3;
var clothNumSegmentsZ = clothWidth * 5;
var clothNumSegmentsY = clothHeight * 5;
var clothSegmentLengthZ = clothWidth / clothNumSegmentsZ;
var clothSegmentLengthY = clothHeight / clothNumSegmentsY;
var clothPos = new THREE.Vector3( -45, 3, -22 );
var armMovement = 0;
var armMass = 2;
var armLength = 3 + clothWidth;
var pylonHeight = clothPos.y + clothHeight;
var baseMaterial = new THREE.MeshPhongMaterial( { color: 0x606060 } );
var pylon;
/*----------------------------------------------------------------------------*/
// Rigid bodies include all movable objects
var rigidBodies = [];
var pos   = new THREE.Vector3();
var quat  = new THREE.Quaternion();
var pos2  = new THREE.Vector3();
var quat2 = new THREE.Quaternion();
var transformAux1 = new Ammo.btTransform();
var tempBtVec3_1 = new Ammo.btVector3( 0, 0, 0 );
var objectsToRemove = [];
for ( var i = 0; i < 500; i++ ) {
    objectsToRemove[ i ] = null;
}
var numObjectsToRemove = 0;
var impactPoint  = new THREE.Vector3();
var impactNormal = new THREE.Vector3();
/*----------------------------------------------------------------------------*/
var Rock_data;
var F_birds;
var birds, bird;
/*----------------------------------------------------------------------------*/
var Direction = new THREE.Vector3()
var Heading   = new THREE.Vector3(  0, 0, -1 );
var Heading_L = new THREE.Vector3(  0, 0, -1 );
var Gun1      = new THREE.Vector3(  2, 0,  3 );
var Gun1_L    = new THREE.Vector3(  2, 0,  3 );
var Gun2      = new THREE.Vector3( -2, 0,  3 );
var Gun2_L    = new THREE.Vector3( -2, 0,  3 );
/*----------------------------------------------------------------------------*/
//  UDPデータ受信
var UDP_Data = [];
var  G        = new THREE.Vector3(  0, 0,  0 );
var dG        = new THREE.Vector3(  0, 0,  0 );
var  Oil      = new THREE.Vector3(  0, 0,  0 );
var avr_G     = new THREE.Vector3(  0, 0,  0 );
var C_avr = 0;

/*----------------------------------------------------------------------------*/
var Model_BTN_No	= 0;
var View_BTN_No 	= 0;
var VTOL_BTN_Status	= 0;
var   OP_BTN_Status	= 0;
var  STP_BTN_Status 	= true;
var   Go_BTN_Status 	= true;
var Back_BTN_Status 	= true;
var   YR_BTN_Status 	= true;
var   YL_BTN_Status 	= true;
var   PU_BTN_Status 	= true;
var   PD_BTN_Status 	= true;
var   RR_BTN_Status 	= true;
var   RL_BTN_Status 	= true;
var   SkyType_No 	= 0;
var   Field_No 	        = 0;
var   Reset             = 0;
//
var rad_Yaw 		= 0.0;
var rad_Pitch 		= 0.0;
var rad_Roll 		= 0.0;
//
var grid;
var Torus        = new THREE.Group();
var Rock         = new THREE.Group();
var FLD          = new THREE.Group();
var Skydome      = new THREE.Group();
var temp_Mesh    = new THREE.Group();
var GreenMesh    = new THREE.Group();
var GreenMesh2   = new THREE.Group();
var WaterMesh    = new THREE.Group();
var SeaMesh      = new THREE.Group();
var groundMesh   = new THREE.Group();
var mesh         = new THREE.Group();
var mesh_AI1     = new THREE.Group();
var mesh_AI2     = new THREE.Group();
var mesh_AI3     = new THREE.Group();
var hanger       = new THREE.Group();
var hanger_Plane = new THREE.Group();
var mesh_Base1   = new THREE.Group();
var mesh_Wing1   = new THREE.Group();
var mesh_Base2   = new THREE.Group();
var mesh_Wing2   = new THREE.Group();
var rudder_mesh  = new THREE.Group();
var R_rudder     = new THREE.Group();
var R_elevator   = new THREE.Group();
var R_aileronL   = new THREE.Group();
var R_aileronR   = new THREE.Group();
var temp_Mesh1   = new THREE.Group();
var temp_Mesh2   = new THREE.Group();
var temp_Mesh3   = new THREE.Group();
var temp_Mesh4   = new THREE.Group();
var temp_Mesh5   = new THREE.Group();
var temp_Mesh6   = new THREE.Group();
var temp_Mesh7   = new THREE.Group();
var Clear_Mesh   = new THREE.Group();
var Ship_Mesh1   = new THREE.Group();
var Ship_Mesh2   = new THREE.Group();
var propMesh     = new THREE.Group();
var propMesh1    = new THREE.Group();
var propMesh2    = new THREE.Group();
var propMesh3    = new THREE.Group();
var propMesh0    = new THREE.Group();
var MR_propMesh  = new THREE.Group();
var TR_propMesh  = new THREE.Group();
var Gear_mesh    = new THREE.Group();
var Gear1_mesh   = new THREE.Group();
var Gear2_mesh   = new THREE.Group();
var F35B1_mesh   = new THREE.Group();
var F35B2_mesh   = new THREE.Group();
var VTIL_mesh    = new THREE.Group();
var C172A_propMesh  = new THREE.Group();
var Corn_mesh    = new THREE.Group();
var AirRace      = new THREE.Group();
var LW_mesh      = new THREE.Group();
var HW_mesh      = new THREE.Group();
var Bunner_mesh  = new THREE.Group();
//
var SHouse  = new THREE.Group();
var SHouse1 = new THREE.Group();
var UTAU    = new THREE.Group();
var UTAU1F  = new THREE.Group();
var UTAU2F  = new THREE.Group();
var UTAU3F  = new THREE.Group();
var UTAU_1F = new THREE.Group();
var UTAU_E  = new THREE.Group();
var FUJI    = new THREE.Group();
//
var Q_Base1 = new THREE.Quaternion();
var Q_Wing1 = new THREE.Quaternion();
var Q_Base2 = new THREE.Quaternion();
var Q_Wing2 = new THREE.Quaternion();
var Qrudder = new THREE.Quaternion();
//
var Cockpit;
var propDelta = 7;
var VTOL_V = 0;
var valueNode,valueNode1,valueNode2,valueNode3;
//
var axis_n,  axis_v;
var X_axis  = new THREE.Vector3( 1,  0,  0 ).normalize();
var Y_axis  = new THREE.Vector3( 0,  1,  0 ).normalize();
var Z_axis  = new THREE.Vector3( 0,  0,  1 ).normalize();
var Qaxis   = new THREE.Quaternion();
var Qbuff   = new THREE.Quaternion();
//
var target  = new THREE.Quaternion();
var Qmodel  = new THREE.Quaternion();
var P       = new THREE.Vector3( 0,  1,  3 );
var P_1     = new THREE.Vector3( 0,  1,  3 );
var A_b     = new THREE.Vector3( 0,  0,  0 );  // 機体姿勢
var V       = new THREE.Vector3( 0,  0,  0 );  // 速度
var Av_b    = new THREE.Vector3( 0,  0,  0 );  // 機体座標系角速度
var DCM_bL  = [ 0, 0, 0,
	 	0, 0, 0,
		0, 0, 0 ];
//
var target1 = new THREE.Quaternion();
var Qmodel1 = new THREE.Quaternion();
var Qview1  = new THREE.Quaternion();
var P1      = new THREE.Vector3( 0,  0,  0 );
var A1_b    = new THREE.Vector3( 0,  0,  0 );  // 機体姿勢
var V1      = new THREE.Vector3( 0,  0,  0 );  // 速度
var A1v_b   = new THREE.Vector3( 0,  0,  0 );  // 機体座標系角速度
var DCM_AI1 = [ 0, 0, 0,
	 	0, 0, 0,
		0, 0, 0 ];
//
var target2 = new THREE.Quaternion();
var Qmodel2 = new THREE.Quaternion();
var Qview2  = new THREE.Quaternion();
var P2      = new THREE.Vector3( 0,  0,  0 );
var A2_b    = new THREE.Vector3( 0,  0,  0 );  // 機体姿勢
var V2      = new THREE.Vector3( 0,  0,  0 );  // 速度
var A2v_b   = new THREE.Vector3( 0,  0,  0 );  // 機体座標系角速度
var DCM_AI2 = [ 0, 0, 0,
	 	0, 0, 0,
		0, 0, 0 ];
var target3 = new THREE.Quaternion();
var Qmodel3 = new THREE.Quaternion();
var Qview3  = new THREE.Quaternion();
var P3      = new THREE.Vector3( 0,  0,  0 );
var A3_b    = new THREE.Vector3( 0,  0,  0 );  // 機体姿勢
var V3      = new THREE.Vector3( 0,  0,  0 );  // 速度
var A3v_b   = new THREE.Vector3( 0,  0,  0 );  // 機体座標系角速度
var DCM_AI3 = [ 0, 0, 0,
	 	0, 0, 0,
		0, 0, 0 ];
//
	camera4.position.set ( P1.x, P1.y, P1.z );
	camera6.position.set ( P2.x, P2.y, P2.z );
	camera12.position.set( P3.x, P3.y, P3.z );
	Qview1 = camera4.quaternion;
	Qview2 = camera6.quaternion;
	Qview3 = camera12.quaternion;
//
var No;
var mmdloader     = new THREE.MMDLoader();
var mtlLoader     = new THREE.MTLLoader();
var objLoader     = new THREE.OBJLoader();
var textureLoader = new THREE.TextureLoader();
var tex           = new THREE.Texture();
var manager       = new THREE.LoadingManager();
var texLoader     = new THREE.ImageLoader( manager );
var skyloader     = new THREE.ImageLoader();
var onProgress;
var onError;
var mtlFile;
var objFile;
var Size;
var Position;
/*----------------------------------------------------------------------------*/
var txt1 = "ミッションに挑戦しますか？";// Go = YES, STP = NO
var txt2 = "ミッション達成！！";
var txt3 = "";  // Clear
var txt4 = "(1) ミッション：赤い橋まで行って下さい。Point=10";
var txt5 = "(2) Takanamiに着艦してください。Point=10";
var txt6 = "(3) AI1を追跡してください。Point=100";
/*----------------------------------------------------------------------------*/
// 新規ファイル作成
var Flight_Data = [];
var a = document.createElement("a");
var Tc = 0;
/*----------------------------------------------------------------------------*/
var Validator = THREE.OBJLoader2.prototype._getValidator();
var wwObjLoader2 = new THREE.OBJLoader2.WWOBJLoader2();
    wwObjLoader2.setCrossOrigin( 'anonymous' );
var elemFileInput = document.getElementById( 'fileUploadInput' );
var elemFileInput2 = document.getElementById( 'fileUploadInput2' );
var pivot = new THREE.Group();
var streamMeshes = true;
var pathTexture = 'obj/female02/';
var fileMtl2 = null;
var files2;
var uint8Array;
/*----------------------------------------------------------------------------*/
var	nameFiles = [
		'RV-6A',	// 0
		'YS11',		// 1
		'B727',		// 2
		'B737',		// 3
		'B747',		// 4
		'B787SA',	// 5
		'L1011',	// 6
		'Concorde',	// 7
		'Q400',		// 8
		'MU-2',		// 9
		'MU-300',	// 10
		'MRJ',		// 11
		'LearJet',	// 12
		'CitationX',	// 13
		'Honda-JET',	// 14
		'Avanti',	// 15
		'SC01',		// 16
		'Extra3000',	// 17
		'C172A',	// 18
		'BlueAngels',	// 19
		'ThanderBirds',	// 20
		'RedArrows',	// 21
		'T2_Blueimpulse',	// 22
		'T4_Blueimpulse',	// 23
		'A-10',		// 24
		'F14',		// 25
		'F20A',		// 26
		'F-22A',	// 27
		'F-35B',	// 28
		'F117A',	// 29
		'YF23',		// 30
		'X29_A88',	// 31
		'B-52',		// 32
		'B-1B',		// 33
		'B-2A',		// 34
		'AC130',	// 35
		'SR71A',	// 36
		'AirForce1',	// 37
		'RQ1',		// 38
		'Mirage2000',	// 39
		'Rafale',	// 40
		'HarrierGR7F',	// 41
		'AlphaJet',	// 42
		'J35F',		// 43
		'JAS39',	// 44
		'Su30MKI',	// 45
		'Su27Haruhi',	// 46
		'Su47',		// 47
		'F104J',	// 48
		'T2B',		// 49
		'T2CCV',	// 50
		'F-4EJ',	// 51
		'F-15J',	// 52
		'F-2A 525',	// 53
		'F3X2',		// 54
		'E2C',		// 55
		'US2A',		// 56
		'HSSB2',	// 57
		'SH-60J',	// 58
		'GT-R',		// 59
		'Mach5',	// 60
		'F288GTO',	// 61
		'T2000',	// 62
		'kart',		// 63
		'GP_Rider',	// 64
		'T90TK',	// 65
		'M1A2',		// 66
		'M113A2',	// 67
		'BTR-70',	// 68
		'Panther',	// 69
		'panzer_iii',	// 70
		'i17',		// 71
		'SM-Yamato',	// 72
		'P20380',	// 73
		'MVPP-10',	// 74
		'H-2A',		// 75
		'HOPEX',	// 76
		'shuttle',	// 77
		'TB1',		// 78
		'TB2',		// 79
		'TB3',		// 80
		'UH001',	// 81
		'SP-Yamato',	// 82
		'Arcadia',	// 83
		'Frx00',	// 84
		'Frx01Jam',	// 85
		'FRR31',	// 86
		'Yakumo',	// 87
		'NabooRSS',	// 88
		'XW-F',		// 89
		'R2D2',		// 90
		'Tachikoma',	// 91
		'MK2',		// 92
		'RX78',		// 93
		'MS06J',	// 94
		'MS05',		// 95
		'G5Phenix',	// 96
		'CatBus',	// 97
		'Mave',		// 98
		'Savoia21',	// 99
		'F-2A',		// 100
		'2000GT',	// 101
		'F240Z',	// 102
		'Miki',		// 103
		'Dr1',		// 104
		'camelF110',	// 105
		'WrightFlyer',	// 106
		'Spitfire',	// 107
		'JU87',		// 108
		'BF109',	// 109
		'FW140',	// 110
		'Me262a',	// 111
		'F4F',		// 112
		'F6F',		// 113
		'F4U',		// 114
		'P38',		// 115
		'P39',		// 116
		'P51',		// 117
		'B29',		// 118
		'M96',		// 119
		'M99',		// 120
		'M97',		// 121
		'Tenzan',	// 122
		'Saiun_B6N2',	// 123
		'1sikiRikukou',	// 124
		'M100tei Kou',	// 125
		'Gekko',	// 126
		'Kamikaze',	// 127
		'Osuikan',	// 128
		'Osuitei',	// 129
		'z2suisen',	// 130
		'Seiran',	// 131
		'Kyoufu',	// 132
		'2sikiDaitei',	// 133
		'Shinden',	// 134
		'A7M2 Reppu',	// 135
		'A7M2 Reppu2',	// 136
		'B7A2 Ryusei',	// 137
		'D4Y2 Suisei',	// 138
		'Raiden',	// 139
		'KI61B',	// 140
		'KI61II',	// 141
		'KI61 Hien',	// 142
		'A6M6z64',	// 143
		'A6M5z52',	// 144
		'A6M3z32',	// 145
		'A6M4z22',	// 146
		'A6M2z21',	// 147
		'A6M2 Iwamoto',	// 148
		'T-400',	// 149
		'SFFMP_4ch',	// 150
		'Delta',	// 151
	];


var NN_RV6A =	  	0;
var NN_YS11 =  		1;
var NN_B727 =  		2;
var NN_B737 =  		3;
var NN_B747 =  		4;
var NN_B787SA =  	5;
var NN_L1011 =  	6;
var NN_Concorde =  	7;
var NN_Q400 =  		8;
var NN_MU2 =  		9;
var NN_MU300 =  	10;
var NN_T400  =  	149;
var NN_MRJ =  		11;
var NN_LearJet =  	12;
var NN_CitationX =  	13;
var NN_HondaJET =  	14;
var NN_Avanti =  	15;
var NN_SC01 =  		16;
var NN_Extra3000 =  	17;
var NN_C172A =  	18;
var NN_BlueAngels =  	19;
var NN_ThanderBirds =  	20;
var NN_RedArrows =  	21;
var NN_T2_Blueimpulse =  22;
var NN_T4_Blueimpulse =  23;
var NN_A10 =  		24;
var NN_F14 =  		25;
var NN_F20A =  		26;
var NN_F22A = 	 	27;
var NN_F35B =  		28;
var NN_F117A =  	29;
var NN_YF23 =  		30;
var NN_X29_A88 =  	31;
var NN_B52 =  		32;
var NN_B1B =  		33;
var NN_B2A =  		34;
var NN_AC130 =  	35;
var NN_SR71A =  	36;
var NN_AirForce1 =  	37;
var NN_RQ1 =  		38;
var NN_Mirage2000 =  	39;
var NN_Rafale =  	40;
var NN_HarrierGR7F =  	41;
var NN_AlphaJet =  	42;
var NN_J35F =  		43;
var NN_JAS39 =  	44;
var NN_Su30MKI =  	45;
var NN_Su27Haruhi =  	46;
var NN_Su47 =  		47;
var NN_F104J =  	48;
var NN_T2B =  		49;
var NN_T2CCV =  	50;
var NN_F4EJ =  		51;
var NN_F15J =  		52;
var NN_F2A525 =  	53;
var NN_F3X2 =  		54;
var NN_E2C =  		55;
var NN_US2A =  		56;
var NN_HSSB2 =  	57;
var NN_SH60J =  	58;
var NN_GTR =  		59;
var NN_Mach5 =  	60;
var NN_F288GTO =  	61;
var NN_T2000 =  	62;
var NN_Kart =		63;
var NN_GP_Rider =  	64;
var NN_T90TK =  	65;
var NN_M1A2 =  		66;
var NN_M113A2 =  	67;
var NN_BTR70 =  	68;
var NN_Panther =  	69;
var NN_Panzer_iii =  	70;
var NN_i17 =  		71;
var NN_SM_Yamato =  	72;
var NN_P20380 = 	73;
var NN_MVPP10 = 	74;
var NN_H2A =  		75;
var NN_HOPEX =  	76;
var NN_Shuttle =  	77;
var NN_TB1 =  		78;
var NN_TB2 =  		79;
var NN_TB3 =  		80;
var NN_UH001 =  	81;
var NN_SP_Yamato =  	82;
var NN_Arcadia =  	83;
var NN_Frx00 =  	84;
var NN_Frx01Jam =  	85;
var NN_FRR31 =  	86;
var NN_Yakumo =  	87;
var NN_NabooRSS =  	88;
var NN_XW =  		89;
var NN_R2D2 =  		90;
var NN_Tachikoma =  	91;
var NN_MK2 =  		92;
var NN_RX78 =  		93;
var NN_MS06J =  	94;
var NN_MS05 =  		95;
var NN_G5Phenix =  	96;
var NN_CatBus =  	97;
var NN_Mave =  		98;
var NN_Savoia21 =  	99;
var NN_F2A =  		100;
var NN_2000GT =  	101;
var NN_F240Z =  	102;
var NN_Miki =  		103;
var NN_Dr1 =  		104;
var NN_camelF110 =  	105;
var NN_WrightFlyer =  	106;
var NN_Spitfire =  	107;
var NN_JU87 =  		108;
var NN_BF109 =  	109;
var NN_FW140 =  	110;
var NN_Me262a =  	111;
var NN_F4F =  		112;
var NN_F6F =  		113;
var NN_F4U =  		114;
var NN_P38 =  		115;
var NN_P39 =  		116;
var NN_P51 =  		117;
var NN_B29 =  		118;
var NN_M96 =  		119;
var NN_M99 =  		120;
var NN_M97 =  		121;
var NN_Tenzan =  	122;
var NN_B6N2_Saiun =  	123;
var NN_1sikiRikukou =  	124;
var NN_M100tei =  	125;
var NN_Gekko =  	126;
var NN_Kamikaze =  	127;
var NN_Osuikan =  	128;
var NN_Osuitei =  	129;
var NN_z2suisen =  	130;
var NN_Seiran =  	131;
var NN_Kyoufu =  	132;
var NN_2sikiDaitei =  	133;
var NN_Shinden =  	134;
var NN_A7M2_Reppu =  	135;
var NN_A7M2_Reppu2 =	136;
var NN_B7A2_Ryusei = 	137;
var NN_D4Y2_Suisei = 	138;
var NN_Raiden =  	139;
var NN_KI61B =  	140;
var NN_KI61II =  	141;
var NN_KI61 = 	 	142;
var NN_A6M6z64 =  	143;
var NN_A6M5z52 =  	144;
var NN_A6M3z32 =  	145;
var NN_A6M4z22 =  	146;
var NN_A6M2z21 =  	147;
var NN_A6M2 =  		148;
var NN_SFFMP_4ch =  	150;
var NN_Delta =  	151;

var	ViewMode = [
		'Opening',	// 0
		'Runway',	// 1
		'Cockpit',	// 2
		'OutSide',	// 3
		'Far',		// 4
		'AI1',		// 5
		'AI1 Cockpit',	// 6
		'AI2',		// 7
		'AI3',		// 8
		'ISS',		// 9
		'LM5',		// 10
		'H-2A+ML',	// 11
		'Walk',		// 12
	];
var	SkyNames = [
		'Sky',		// 0
		'SkyBox',	// 1
		'BlueSky',	// 2
		'Stars',	// 3
		'Space',	// 4
		'None',		// 5
	];
var	FieldNames = [
		'Meshs',	// 0
		'GuideRing',	// 1
		'Lawn',		// 2 Grass
		'Sea',		// 3
		'Water',	// 4
		'Block&Cloth',	// 5
		'Storn Wall',	// 6
		'Kobe Airport',	// 7
		'Mt.Fuji',	// 8
		'Suzuka',	// 9
		'Mt.Rock',	// 10
		'birds',	// 11
		'BaseSet',	// 12
		'House',	// 13
		'Mother',	// 14
		'Nimitz',	// 15
		'BShips',	// 16
		'Runway',	// 17
		'ML',		// 18
		'Takanami',	// 19
		'AirRace',	// 20
		'Nothing',	// 21
	];
// オブジェ
var	hanger_vertices = [
				-10,   0,  -10,
				-10,  10,  -10,
				  0,  15,  -10,
				 10,  10,  -10,
				 10,   0,  -10,
				-10,  10,   10,
				-10,   0,   10,
				 10,   0,   10,
				 10,  10,   10,
				  0,  15,   10,
				 -5,   0,   10,
				  5,   0,   10,
				 -5,  10,   10,
				  5,  10,   10,
			];

var	hanger_Faces = [
				 0, 3, 1,
				 0, 1, 3,
				 0, 3, 4,
				 0, 4, 3,
				 1, 2, 3,
				 1, 3, 2,
				 0, 5, 1,
				 0, 1, 5,
				 0, 5, 6,
				 0, 6, 5,
				 4, 3, 8,
				 4, 8, 3,
				 4, 8, 7,
				 4, 7, 8,
				 1, 2, 9,
				 1, 9, 2,
				 1, 5, 9,
				 1, 9, 5,
				 2, 9, 3,
				 2, 3, 9,
				 9, 8, 3,
				 9, 3, 8,
				 9, 8, 5,
				 9, 5, 8,
				12, 6, 10,
				12, 10, 6,
				12, 5, 6,
				12, 6, 5,
				13, 8, 7,
				13, 7, 8,
				13,11, 7,
				13, 7,11,
			];
// 簡易機体形状
var verticesOfCube = 	[
				0,   0, -2, -1,   0, 1,  1, 0,  1,
				0, 0.2,  1,
				0,   0,  0,  0, 0.4, 1,  0, 0, 0.5,
			];
var indicesOfFaces = 	[
				0, 2, 1,
				0, 1, 3,
				0, 3, 2,
				1, 2, 3,
				4, 5, 6,
				4, 6, 5,
			];
var meshGeometry1 = new THREE.PolyhedronGeometry ( verticesOfCube, indicesOfFaces, 10, 0 );
var meshMaterial1 = new THREE.MeshLambertMaterial ( { color: 'rgb(0,0,255)', emissive: 0x200000 } );
var meshGeometry2 = new THREE.PolyhedronGeometry ( verticesOfCube, indicesOfFaces, 10, 0 );
var meshMaterial2 = new THREE.MeshLambertMaterial ( { color: 'rgb(0,255,0)', emissive: 0x200000 } );
var meshGeometry3 = new THREE.PolyhedronGeometry ( verticesOfCube, indicesOfFaces, 10, 0 );
var meshMaterial3 = new THREE.MeshLambertMaterial ( { color: 'rgb(255,0,0)', emissive: 0x200000 } );
/*------------------------------------------------------------------------------
jQuery Flight Indicators Plugin
------------------------------------------------------------------------------*/
var attitude;
var heading;
var variometer;
var airspeed;
var altimeter;
var turn_C;
var timerId;

/*------------------------------------------------------------------------------
JavaScript  関数構成
------------------------------------------------------------------------------*/
init(); // 初期化処理
loop(); // 周期処理
/*------------------------------------------------------------------------------
JavaScript  初期化処理
------------------------------------------------------------------------------*/
function init() {
	document.getElementById('canvas-frame').appendChild ( renderer.domElement );
	container = document.getElementById( 'container' );

// Rendering
	renderer.setSize       ( SCREEN_WIDTH, SCREEN_HEIGHT );
	renderer.setClearColor ( 'rgb(0,100,256)' );
	renderer.setPixelRatio ( window.devicePixelRatio );
	renderer.sortObjects = false;
// Drop Shadow
	renderer.shadowMap.renderReverseSided = true;
	renderer.shadowMapEnabled = true;
	renderer.shadowMap.type = THREE.PCFShadowMap;
// Set Loader
	texLoader.setPath( 'mmd/' );
	mtlLoader.setPath( 'mmd/' );
// Shadow
	sunLight.castShadow = true;
	sunLight.shadow = new THREE.LightShadow( new THREE.PerspectiveCamera( 50, 1, 1200, 1000 ) );
	sunLight.shadow.bias = 0.0001;
	sunLight.shadow.camera.near = 500;
	sunLight.shadow.camera.far = 2000;
	sunLight.shadow.camera.top = 40;
	sunLight.shadow.camera.bottom = -40;
	sunLight.shadow.camera.left = 40;
	sunLight.shadow.camera.right = -40;
	sunLight.shadow.mapSize.width = SHADOW_MAP_WIDTH;
	sunLight.shadow.mapSize.height = SHADOW_MAP_HEIGHT;
// Light
	sunLight.position.set( 1000, 1000, -1000 );
	scene.add( sunLight );
	scene.add( ambient );
// Water
	waterNormals = new THREE.TextureLoader().load( 'textures/waternormals.jpg' );
	waterNormals.wrapS = waterNormals.wrapT = THREE.RepeatWrapping;
	water = new THREE.Water( renderer, camera1, scene, {
		textureWidth:  1024,
		textureHeight: 1024,
		waterNormals: waterNormals,
		alpha: 	1.0,
		sunDirection: sunLight.position.clone().normalize(),
		sunColor: 0xffffff,
		waterColor: 0x001e0f,
		distortionScale: 500.0
	} );
// EVENTS
	renderer.domElement.addEventListener( 'mousemove', onDocumentMouseMove, false );
	renderer.domElement.addEventListener( 'mousedown', onDocumentMouseDown, false );
	renderer.domElement.addEventListener( 'mouseup'  , onDocumentMouseUp,   false );
	document.addEventListener( 'keydown', onKeyDown, false );
	window.addEventListener( 'resize' , onWindowResize, false );
	onWindowResize();
var	renderModel = new THREE.RenderPass( scene, camera );
var	effectFilm = new THREE.FilmPass( 0.35, 0.75, 2048, false );
	effectFilm.renderToScreen = true;
	composer = new THREE.EffectComposer( renderer );
	composer.addPass( renderModel );
	composer.addPass( effectFilm );
// 機体初期位置
	P1.x =   0;
	P1.y =   0;
	P1.z =   0;
	P2.x =   0;
	P2.y =   0;
	P2.z =   0;
// テキスト数値表示 1行目
	var valueDiv = document.createElement( 'div' );
	valueDiv.style.position = 'absolute';
	valueDiv.style.top      = '200px';
	valueDiv.style.right    = '0px';
	valueDiv.style.width    = '300px';
	valueDiv.style.height   = '200px';
	valueDiv.style.fontSize = '15px';
	valueDiv.style.color	= '#FFFF00';
	container.appendChild( valueDiv );
	valueNode  = document.createTextNode( '' );
	valueDiv.appendChild( valueNode );
// テキスト数値表示 2行目
	var valueDiv1 = document.createElement( 'div' );
	valueDiv1.style.position = 'absolute';
	valueDiv1.style.top      = '215px';
	valueDiv1.style.right    = '0px';
	valueDiv1.style.width    = '300px';
	valueDiv1.style.height   = '200px';
	valueDiv1.style.fontSize = '15px';
	valueDiv1.style.color	= '#00FF00';
	container.appendChild( valueDiv1 );
	valueNode1 = document.createTextNode( '' );
	valueDiv1.appendChild( valueNode1 );

// テキスト数値表示 3行目
	var valueDiv2 = document.createElement( 'div' );
	valueDiv2.style.position = 'absolute';
	valueDiv2.style.top      = '230px';
	valueDiv2.style.right    = '0px';
	valueDiv2.style.width    = '300px';
	valueDiv2.style.height   = '200px';
	valueDiv2.style.fontSize = '15px';
	valueDiv2.style.color	= '#00FF00';
	container.appendChild( valueDiv2 );
	valueNode2 = document.createTextNode( '' );
	valueDiv2.appendChild( valueNode2 );

// テキスト数値表示 4行目
	var valueDiv3 = document.createElement( 'div' );
	valueDiv3.style.position = 'absolute';
	valueDiv3.style.top      = '245px';
	valueDiv3.style.right    = '0px';
	valueDiv3.style.width    = '300px';
	valueDiv3.style.height   = '200px';
	valueDiv3.style.fontSize = '15px';
	valueDiv3.style.color	= '#00FF00';
	container.appendChild( valueDiv3 );
	valueNode3 = document.createTextNode( '' );
	valueDiv3.appendChild( valueNode3 );

//AxisHelper作成
	axis_n = new THREE.AxisHelper(100);
	scene.add(axis_n);
	axis_v = new THREE.AxisHelper(10);
	var Qaxis = axis_v.quaternion;
	scene.add(axis_v);
	axis_v.position.set( 0, 0.9, 3 );
	axis_v.rotation.set( 0, 0, 0 );

// GUI MENU
	initGui();
	ObjectLoad( 0 );
	onChangeAI1();
	onChangeAI2();
	initPhysics();
// 初期化処理の終了

}
/*------------------------------------------------------------------------------
JavaScript  周期処理
------------------------------------------------------------------------------*/
function loop() {
	requestAnimationFrame( loop );
	frameTime = clock.getDelta();
	Time  += frameTime;
	if ( Menu.Demo == true )
	{
		Nc++
		if( Nc > Menu.Int ){ Nc = 0; ModelButtonHandler(); }
		//if( Nc ==       0 ){ View_BTN_No = 5; }
		//if( Nc ==     200 ){ View_BTN_No = 6; }
	}
	if( SkyType_No == 4 )
	{
		meshPlanet.rotation.y   += rotationSpeed * frameTime;
		mesh_AI1louds.rotation.y   += 1.25 * rotationSpeed * frameTime;
		Moon_Obit.rotation.y    += 0.5  * rotationSpeed * frameTime;
		Sun_mesh.rotation.y     += rotationSpeed * frameTime;
		Mercury_mesh.rotation.y += rotationSpeed * frameTime;
		Venus_mesh.rotation.y   += rotationSpeed * frameTime;
		Mars_mesh.rotation.y    += rotationSpeed * frameTime;
		Jupiter_mesh.rotation.y += rotationSpeed * frameTime;
		Saturn_mesh.rotation.y  += rotationSpeed * frameTime;
		ISS_Obit.rotation.x     -= rotationSpeed * frameTime * 4;
		Earth_Obit.rotation.y   += rotationSpeed * frameTime * 1.3;
		if (ua.isiPhone) {
			;
		}
		else
		{
			var delta = frameTime * spawnerOptions.timeScale;
			tick += delta;
			if (tick < 0) tick = 0;
			if (delta > 0) {
				options.position.x = 500 * Math.sin(tick * spawnerOptions.horizontalSpeed);
				options.position.y = 100 * Math.sin(tick * spawnerOptions.verticalSpeed);
				options.position.z = -2000 + 2000 * Math.sin(tick * spawnerOptions.horizontalSpeed + spawnerOptions.verticalSpeed);
				for (var x = 0; x < spawnerOptions.spawnRate * delta; x++) {
					particleSystem.spawnParticle(options);
				}
			}
			particleSystem.update(tick);
		}
	// slow down as we approach the surface
		dPlanet = camera.position.length();
		dMoonVec.subVectors( camera.position, meshMoon.position );
		dMoon = dMoonVec.length();
		if ( dMoon < dPlanet ) {
			d = ( dMoon - radius * moonScale * 1.01 );
		} else {
			d = ( dPlanet - radius * 1.01 );
		}
		composer.render( frameTime );
	}
/*----------------------------------------------------------------------------*/
// ボタン入力
/*----------------------------------------------------------------------------*/
if( !Menu.Camera )
{
	if ( Go_BTN_Status && Back_BTN_Status )
	{
		;
	}
	
	if (( !Go_BTN_Status   ) || ( VTOL_BTN_Status == 1 ))
	{
		V.z += Menu.Speed * frameTime * -1.2;
	}
	if (( !Back_BTN_Status ) || ( VTOL_BTN_Status == 1 ))
	{
		V.z += Menu.Speed * frameTime  * 1.2;
	}
	if (( !Go_BTN_Status   ) || ( VTOL_BTN_Status == 0 ))
	{
		V.y += Menu.Speed * frameTime *  1.2;
	}
	if (( !Back_BTN_Status ) || ( VTOL_BTN_Status == 0 ))
	{
		V.y += Menu.Speed * frameTime  * -1.2;
	}
}
else
{
	if ( Go_BTN_Status && Back_BTN_Status )
	{
		;
	}
	
	if (( !Go_BTN_Status   ) || ( VTOL_BTN_Status == 1 ))
	{
		Menu.Zoom += Menu.Speed * frameTime * -10;
	}
	if (( !Back_BTN_Status ) || ( VTOL_BTN_Status == 1 ))
	{
		Menu.Zoom += Menu.Speed * frameTime  * 10;
	}
	if (( !Go_BTN_Status   ) || ( VTOL_BTN_Status == 0 ))
	{
		activeCamera.position.y += Menu.Speed * frameTime *  100;
	}
	if (( !Back_BTN_Status ) || ( VTOL_BTN_Status == 0 ))
	{
		activeCamera.position.y += Menu.Speed * frameTime  * -100;
	}
}
/*----------------------------------------------------------------------------*/
	if ( Reset == 1 )
	{
		V.y = 0;
		V.z = 0;
		rad_Yaw 	= 0.0;
		rad_Pitch 	= 0.0;
		rad_Roll 	= 0.0;
		Go_BTN_Status 	= true;
		Back_BTN_Status = true;
		YR_BTN_Status   = true;
		YL_BTN_Status   = true;
		PU_BTN_Status   = true;
		PD_BTN_Status   = true;
		RR_BTN_Status   = true;
		RL_BTN_Status   = true;
		document.f1.Go_Button.style.background = '#77FF77';
		document.f1.Go_Button.style.opacity = 0.4;
		document.f1.Back_Button.style.background = '#77FF77';
		document.f1.Back_Button.style.opacity = 0.4;
		document.f1.YR_Button.style.background = '#77FF77';
		document.f1.YR_Button.style.opacity = 0.4;
		document.f1.YL_Button.style.background = '#77FF77';
		document.f1.YL_Button.style.opacity = 0.4;
		document.f1.PU_Button.style.background = '#77FF77';
		document.f1.PU_Button.style.opacity = 0.4;
		document.f1.PD_Button.style.background = '#77FF77';
		document.f1.PD_Button.style.opacity = 0.4;
		document.f1.RR_Button.style.background = '#77FF77';
		document.f1.RR_Button.style.opacity = 0.4;
		document.f1.RL_Button.style.background = '#77FF77';
		document.f1.RL_Button.style.opacity = 0.4;
	}
	
	if ( Reset == 2 )
	{
		Reset = 0;
/*----------------------------------------------------------------------------*/
// 簡易モデル用　リセット設定
/*----------------------------------------------------------------------------*/
		if( Menu.AI1 )
		{
			P1.x            =   0;
			P1.y            =   0;
			P1.z            =   0;
			mesh_AI1.position = P1;
			mesh_AI1.rotation.set  (   0, 0, 0 );
		}
		if( Menu.AI2 )
		{
			P2.x            =   0;
			P2.y            =   0;
			P2.z            =   0;
			mesh_AI2.rotation.set  (   0, 0, 0 );
			mesh_AI2.position.set  (   0, 0, 0 );
		}
		if( Menu.AI3 )
		{
			P3.x            =   0;
			P3.y            =   0;
			P3.z            =   0;
			mesh_AI3.rotation.set  (   0, 0, 0 );
			mesh_AI3.position.set  (   0, 0, 0 );
		}
		
		camera0.position.set( 0,    5,   20);
		mesh.rotation.set  ( 0, 0, 0 );
		
		if ( Model_BTN_No == NN_RV6A)
		{ // RV6A
			P.x = 0;
			P.y = 1.2;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_Savoia21 )
		{//Savoia21
			P.x = 220;
			P.y = -10+1;
			P.z = -160;
 			camera0.position.set(  220,    5, -140 ) ;
		}
		else if ( Model_BTN_No == NN_F35B )
		{// F35B
			P.x = 0;
			P.y = 3.2;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_SH60J )
		{// SH60J
			P.x = 0;
			P.y = 2.5;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_F2A )
		{// F2A
			P.x = 0;
			P.y = 0;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_2000GT )
		{// TOYOTA 2000GT
			P.x = 0;
			P.y = 0;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_F240Z )
		{// F240Z
			P.x = 0;
			P.y = 0;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_Miki )
		{// Miki
			P.x = 0;
			P.y = 2;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_A6M2 )
		{// A6M2
			P.x = 0;
			P.y = 2.7;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_KI61 )
		{// KI61
			P.x = 0;
			P.y = 2.2;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_Shinden )
		{// Shinden
			P.x = 0;
			P.y = 4.3;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_M100tei )
		{// M100tei Kou
			P.x = 0;
			P.y = 3.3;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_2sikiDaitei )
		{// 2sikiDaitei
			P.x = 0;
			P.y = 2.5;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_1sikiRikukou )
		{// 1sikiRikukou
			P.x = 0;
			P.y = 2.3;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_i17 )
		{// i17
			P.x = 0;
			P.y = 0;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_F2A525 )
		{// F2A525
			P.x = 0;
			P.y = 1.8;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_F4EJ )
		{// F4EJ
			P.x = 0;
			P.y = 1.8;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_F22A )
		{// F22A
			P.x = 0;
			P.y = 2.8;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_F15J )
		{// F15J
			P.x = 0;
			P.y = 2.5;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_A10 )
		{// A10
			P.x = 0;
			P.y = 2.2;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_B1B )
		{// B1B
			P.x = 0;
			P.y = 2.5;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_C172A )
		{// C172A
			P.x =  0;
			P.y =  2;
			P.z =  3;
		}
		else if ( Model_BTN_No == NN_MRJ)
		{// MRJ
			P.x =  0;
			P.y =  2;
			P.z =  3;
		}
		else if ( Model_BTN_No == NN_Concorde)
		{// Concorde
			P.x =  0;
			P.y =  3.6;
			P.z =  3;
		}
		else if ( Model_BTN_No == NN_YS11)
		{// YS11
			P.x = 0;
			P.y = 2.5;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_B787SA)
		{// B787SA
			P.x = 0;
			P.y = 2.6;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_MU300)
		{// MU300
			P.x = 0;
			P.y = 0.8;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_HondaJET )
		{// HondaJET
			P.x = 0;
			P.y = 1.3;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_Avanti )
		{// Avanti
			P.x = 0;
			P.y = 1.6;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_MU2)
		{// MU2
			P.x = 0;
			P.y = 1.2;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_SC01)
		{// SC01
			P.x = 0;
			P.y = 1;
			P.z = 3;
		}
		else if (( Model_BTN_No == NN_H2A ) && (SkyType_No != 4 ))
		{// H2A
			P.x = 0;
			P.y = 17;
			P.z = -20;
		}
		else if (( Model_BTN_No == NN_H2A ) && (SkyType_No == 4 ))
		{ // H2A
			P.x = 0;
			P.y = 17;
			P.z = 0;
			H2A.rotation.set( 1.57, 0, 0 );
		}
		else if ( Model_BTN_No == NN_SM_Yamato )
		{// SM_Yamato
			P.x = 0;
			P.y = 0;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_Extra3000 )
		{// Extra3000
			P.x = 0;
			P.y = 2;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_GTR )
		{// GTR
			P.x = 0;
			P.y = 1.5;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_Mach5 )
		{// Mach5
			P.x = 0;
			P.y = 1;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_F288GTO )
		{// F288GTO
			P.x = 0;
			P.y = 1;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_GP_Rider )
		{// GP_Rider
			P.x = 0;
			P.y = 2.5;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_BTR70 )
		{// BTR70
			P.x = 0;
			P.y = 0.5;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_T90TK )
		{// T90TK
			P.x = 0;
			P.y = 2.5;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_M1A2 )
		{// M1A2
			P.x = 0;
			P.y = 3.0;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_M113A2 )
		{// M113A2
			P.x = 0;
			P.y = 2.5;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_Panther )
		{// Panther
			P.x = 0;
			P.y = 3.5;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_Panzer_iii )
		{// Panzer_iii
			P.x = 0;
			P.y = 2.0;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_T2000 )
		{// T2000
			P.x = 0;
			P.y = 3.5;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_Kart )
		{// Kart
			P.x = 0;
			P.y = 0.8;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_MVPP10 )
		{// MVPP10
			P.x = 0;
			P.y = 1.5;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_SP_Yamato )
		{// SP_Yamato
			P.x = 0;
			P.y = 1;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_Arcadia )
		{// Arcadia
			P.x = 0;
			P.y = 3;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_XW )
		{// XW
			P.x = 0;
			P.y = 2;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_Frx00 )
		{// Frx00
			P.x = 0;
			P.y = 1;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_Frx01Jam )
		{// Frx01Jam
			P.x = 0;
			P.y = 1.5;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_Yakumo )
		{// Yakumo
			P.x = 0;
			P.y = 1;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_Shuttle )
		{// Shuttle
			P.x = 0;
			P.y = 1;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_NabooRSS )
		{// NabooRSS
			P.x = 0;
			P.y = 1;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_TB1 )
		{// TB1
			P.x = 0;
			P.y = 3;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_TB2 )
		{// TB2
			P.x = 0;
			P.y = 3;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_TB3 )
		{// TB3
			P.x = 0;
			P.y = 1;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_Tachikoma )
		{// Tachikoma
			P.x = 0;
			P.y = 1.2;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_R2D2 )
		{// R2D2
			P.x = 0;
			P.y = 0.5;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_MK2 )
		{// MK2
			P.x = 0;
			P.y = 4;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_RX78 )
		{// RX78
			P.x = 0;
			P.y = 4;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_MS06J )
		{// MS06J
			P.x = 0;
			P.y = 4;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_MS05 )
		{// MS05
			P.x = 0;
			P.y = 4;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_Mave )
		{// Mave
			P.x = 0;
			P.y = 1;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_WrightFlyer)
		{// WrightFlyer
			P.x = 0;
			P.y = 0.5;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_G5Phenix )
		{// G5Phenix
			P.x = 0;
			P.y = 5;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_CatBus )
		{// CatBus
			P.x = 0;
			P.y = 1.3;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_M96 )
		{// M96
			P.x = 0;
			P.y = 2.7;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_M97 )
		{// M97
			P.x = 0;
			P.y = 2.7;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_M99 )
		{// M99
			P.x = 0;
			P.y = 2.7;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_A7M2_Reppu2 )
		{// A7M2
			P.x = 0;
			P.y = 2.2;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_B7A2_Ryusei )
		{// B7A2
			P.x = 0;
			P.y = 2.8;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_D4Y2_Suisei)
		{// D4Y2
			P.x = 0;
			P.y = 2.5;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_Spitfire )
		{// Spitfire
					P.x = 0;
					P.y = 2.5;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_JU87 )
		{// JU87
					P.x = 0;
					P.y = 2.8;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_BF109 )
		{// BF109
					P.x = 0;
					P.y = 2.5;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_FW140 )
		{// FW140
					P.x = 0;
					P.y = 2.8;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_F4F )
		{// F4F
					P.x = 0;
					P.y = 2.3;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_F6F )
		{// F6F
					P.x = 0;
					P.y = 3.2;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_P38 )
		{// P38
					P.x = 0;
					P.y = 3.2;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_P39 )
		{// P39
					P.x = 0;
					P.y = 3;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_P51 )
		{// P51
					P.x = 0;
					P.y = 2.7;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_B29 )
		{// B29
					P.x = 0;
					P.y = 2.7;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_B727 )
		{// B727
					P.x = 0;
					P.y = 2.9;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_B737 )
		{// B737
					P.x = 0;
					P.y = 1.9;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_B747 )
		{// B747
					P.x = 0;
					P.y = 4;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_CitationX )
		{// CitationX
					P.x = 0;
					P.y = 1.3;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_L1011 )
		{// L1011
					P.x = 0;
					P.y = 4;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_Q400 )
		{// Q400
					P.x = 0;
					P.y = 2.2;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_FRR31 )
		{// FRR31
					P.x = 0;
					P.y = 2.2;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_UH001 )
		{// UH001
					P.x = 0;
					P.y = 2.2;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_F104J )
		{// F104J
					P.x = 0;
					P.y = 2;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_T2B )
		{// T2B
					P.x = 0;
					P.y = 3.3;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_T2CCV )
		{// T2CCV
					P.x = 0;
					P.y = 3.3;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_SR71A )
		{// SR71A
					P.x = 0;
					P.y = 3.4;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_F14 )
		{// F14
					P.x = 0;
					P.y = 3;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_F3X2 )
		{// F3X2
					P.x = 0;
					P.y = 2.7;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_Mirage2000 )
		{// Mirage2000
					P.x = 0;
					P.y = 2.2;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_Rafale )
		{// Rafale
					P.x = 0;
					P.y = 2.6;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_X29_A88 )
		{// X29_A88
					P.x = 0;
					P.y = 2.5;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_Su30MKI )
		{// Su30MKI
					P.x = 0;
					P.y = 2.7;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_Su27Haruhi )
		{// Su27Haruhi
					P.x = 0;
					P.y = 2.7;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_Su47 )
		{// Su47
					P.x = 0;
					P.y = 2.7;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_YF23 )
		{// YF23
					P.x = 0;
					P.y = 3.5;
					P.z = 3;
					mesh.rotation.set( 0, 1.57, 0 );
		}
		else if ( Model_BTN_No == NN_BlueAngels )
		{// BlueAngels
					P.x = 0;
					P.y = 3.5;
					P.z = 3;
					mesh.rotation.set( 0, 1.57, 0 );
		}
		else if ( Model_BTN_No == NN_ThanderBirds )
		{// ThanderBirds
					P.x = 0;
					P.y = 3.5;
					P.z = 3;
					mesh.rotation.set( 0, 1.57, 0 );
		}
		else if ( Model_BTN_No == NN_RedArrows )
		{// RedArrows
					P.x = 0;
					P.y = 3.5;
					P.z = 3;
					mesh.rotation.set( 0, 1.57, 0 );
		}
		else if ( Model_BTN_No == NN_T2_Blueimpulse )
		{// T2_Blueimpulse
					P.x = 0;
					P.y = 3.5;
					P.z = 3;
					mesh.rotation.set( 0, 1.57, 0 );
		}
		else if ( Model_BTN_No == NN_T4_Blueimpulse )
		{// T4_Blueimpulse
					P.x = 0;
					P.y = 3.5;
					P.z = 3;
					mesh.rotation.set( 0, 1.57, 0 );
		}
		else if ( Model_BTN_No == NN_E2C )
		{// E2C
					P.x = 0;
					P.y = 2.5;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_US2A )
		{// US2A
					P.x = 0;
					P.y = 1.2;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_AC130 )
		{// AC130
					P.x = 0;
					P.y = 3.3;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_HarrierGR7F )
		{// HarrierGR7F
					P.x = 0;
					P.y = 3.3;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_AlphaJet )
		{// AlphaJet
					P.x = 0;
					P.y = 2.5;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_J35F )
		{// J35F
					P.x = 0;
					P.y = 3;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_JAS39 )
		{// JAS39
					P.x = 0;
					P.y = 3.6;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_P20380 )
		{// P20380
					P.x = 0;
					P.y = 7;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_F20A )
		{// F20A
					P.x = 0;
					P.y = 3;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_F117A )
		{// F117A
					P.x = 0;
					P.y = 3;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_AirForce1 )
		{// AirForce1
					P.x = 0;
					P.y = 3;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_LearJet )
		{// LearJet
					P.x = 0;
					P.y = 3;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_HOPEX )
		{// HOPEX
					P.x = 0;
					P.y = 3;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_Osuikan )
		{// osuikan
					P.x = 0;
					P.y = 2.5;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_Osuitei )
		{// osuitei
					P.x = 0;
					P.y = 2.5;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_z2suisen )
		{// z2suisen
					P.x = 0;
					P.y = 2.5;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_B6N2_Saiun )
		{// Saiun_B6N2
					P.x = 0;
					P.y = 2.7;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_B52 )
		{// B52
					P.x = 0;
					P.y = 2.2;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_B2A )
		{// B2A
					P.x = 0;
					P.y = 2.2;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_Dr1 )
		{// Dr1
					P.x = 0;
					P.y = 2.2;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_camelF110 )
		{// camelF110
					P.x = 0;
					P.y = 2.2;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_HSSB2 )
		{// HSSB2
					P.x = 0;
					P.y = 1.5;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_RQ1 )
		{// RQ1
					P.x = 0;
					P.y = 2.4;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_Me262a )
		{// me262a
					P.x = 0;
					P.y = 3.9;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_F4U )
		{// F4U
					P.x = 0;
					P.y = 3.5;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_Gekko )
		{// Gekko
					P.x = 0;
					P.y = 3.9;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_Kamikaze )
		{// Kamikaze
					P.x = 0;
					P.y = 3.9;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_Seiran )
		{// Seiran
					P.x = 0;
					P.y = 3.9;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_Kyoufu )
		{// Kyoufu
					P.x = 0;
					P.y = 4.2;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_Raiden )
		{// Raiden
					P.x = 0;
					P.y = 3.1;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_Tenzan )
		{// Tenzan
					P.x = 0;
					P.y = 3.1;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_A7M2_Reppu2 )
		{// Reppu
					P.x = 0;
					P.y = 3.1;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_KI61B )
		{// KI61B
					P.x = 0;
					P.y = 3.1;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_KI61II )
		{// KI61II
					P.x = 0;
					P.y = 3.1;
					P.z = 3;
		}

		else if ( Model_BTN_No == NN_A6M6z64 )
		{// z64
					P.x = 0;
					P.y = 3.1;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_A6M5z52 )
		{// z52
					P.x = 0;
					P.y = 3.1;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_A6M3z32 )
		{// z32
					P.x = 0;
					P.y = 3.1;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_A6M4z22 )
		{// z22
					P.x = 0;
					P.y = 3.1;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_A6M2z21 )
		{// z21
					P.x = 0;
					P.y = 3.1;
					P.z = 3;
		}
		else if ( Model_BTN_No == NN_T400)
		{// T-400
			P.x = 0;
			P.y = 0.8;
			P.z = 3;
		}
		else if ( Model_BTN_No == NN_SFFMP_4ch )
		{// SFFMP_4ch
					P.x = 0;
					P.y = 2.5;
					P.z = 3;
		}		
		else if ( Model_BTN_No == NN_Delta )
		{// Delta
			P.x = 0;
			P.y = 1.2;
			P.z = 3;
		}
		mesh.position = P;
		Qmodel= mesh.quaternion;
		Qbuff = mesh.quaternion;
		STP_BTN_Status 	= true;
		Go_BTN_Status 	= true;
		Back_BTN_Status = true;
		YR_BTN_Status 	= true;
		YL_BTN_Status 	= true;
		PU_BTN_Status 	= true;
		PD_BTN_Status 	= true;
		RR_BTN_Status 	= true;
		RL_BTN_Status 	= true;
		rad_Yaw 	= 0.0;
		rad_Pitch 	= 0.0;
		rad_Roll 	= 0.0;
		V.x             = 0.0;
		V.y             = 0.0;
		V.z             = 0.0;
		A_b.x		= 0.0;
		A_b.y		= 0.0;
		A_b.z		= 0.0;
		Tc		= 0;
		axis_v.rotation.set(   0,   0, 0 );
	}
/*----------------------------------------------------------------------------*/
// AI1 自動飛行モデル 飛行パターン
/*----------------------------------------------------------------------------*/
if( Menu.AI1 )
{
	Qmodel1 = mesh_AI1.quaternion;
	if (( P1.z > -20 )&&( P1.x == 0))
	{
		mesh_AI1.rotation.x = ( Math.PI / 180 ) * 0;
		A1v_b.x             = ( Math.PI / 180 ) * 0;
		mesh_AI1.rotation.y = ( Math.PI / 180 ) * 0;
		A1v_b.y             = ( Math.PI / 180 ) * 0;
		mesh_AI1.rotation.z = ( Math.PI / 180 ) * 0;
		A1v_b.z             = ( Math.PI / 180 ) * 0;
		V1.z = Menu.Speed * frameTime * -150;
	}
	else if(( P1.z > -100 )&&( P1.x == 0))
	{
		mesh_AI1.rotation.x = ( Math.PI / 180 ) * 2;
		A1v_b.x             = ( Math.PI / 180 ) * 2;
		mesh_AI1.rotation.y = ( Math.PI / 180 ) * 0;
		A1v_b.y             = ( Math.PI / 180 ) * 0;
		mesh_AI1.rotation.z = ( Math.PI / 180 ) * 0;
		A1v_b.z             = ( Math.PI / 180 ) * 0;
		V1.z = Menu.Speed * frameTime * -150;
	}
	else if(( P1.y < 50 )&&( P1.x == 0))
	{
		mesh_AI1.rotation.x = ( Math.PI / 180 ) * 5;
		A1v_b.x             = ( Math.PI / 180 ) * 5;
		mesh_AI1.rotation.y = ( Math.PI / 180 ) * 0;
		A1v_b.y             = ( Math.PI / 180 ) * 0;
		mesh_AI1.rotation.z = ( Math.PI / 180 ) * 0;
		A1v_b.z             = ( Math.PI / 180 ) * 0;
		V1.z = Menu.Speed * frameTime * -150;
	}
	else if(( P1.z < -250 )&&( P1.z > -430 )&&( P1.x < 30))
	{
		mesh_AI1.rotation.x = ( Math.PI / 180 ) * 0;
		A1v_b.x             = ( Math.PI / 180 ) * 0;
		mesh_AI1.rotation.y = ( Math.PI / 180 ) * -2;
		A1v_b.y             = ( Math.PI / 180 ) * -2;
		mesh_AI1.rotation.z = ( Math.PI / 180 ) * 0;
		A1v_b.z             = ( Math.PI / 180 ) * 0;
		V1.z = Menu.Speed * frameTime * -150;
	}
	else if(( P1.x < 60 )&&( P1.z < 400 ) && (P1.y > 50))
	{
		mesh_AI1.rotation.x = ( Math.PI / 180 ) * 0;
		A1v_b.x             = ( Math.PI / 180 ) * 0;
		mesh_AI1.rotation.y = ( Math.PI / 180 ) * -15;
		A1v_b.y             = ( Math.PI / 180 ) * -15;
		mesh_AI1.rotation.z = ( Math.PI / 180 ) * 0;
		A1v_b.z             = ( Math.PI / 180 ) * 0;
		V1.z = Menu.Speed * frameTime * -150;
	}
	else if(( P1.z > -400 )&&( P1.z <= -100 )&&( P1.x > 60 ) && ( P1.y >50 ))
	{
		target1.setFromAxisAngle( Z_axis, ( Math.PI / 180 ) * -5 );
		Qmodel1.multiply(target1);
		V1.z = Menu.Speed * frameTime * 150;
	}
	else if(( P1.z <= 435 )&&( P1.x > 60 ) && ( P1.y >50 ))
	{
		mesh_AI1.rotation.x = ( Math.PI / 180 ) * 0;
		A1v_b.x             = ( Math.PI / 180 ) * 0;
		mesh_AI1.rotation.y = ( Math.PI / 180 ) * 180;
		A1v_b.y             = ( Math.PI / 180 ) * 180;
		mesh_AI1.rotation.z = ( Math.PI / 180 ) * 0;
		A1v_b.z             = ( Math.PI / 180 ) * 0;
		V1.z = Menu.Speed * frameTime * 150;
	}
	else if(( P1.x > 0 ) && ( P1.y > 50 ) && ( P1.z > 435 ) )
	{
		mesh_AI1.rotation.x = ( Math.PI / 180 ) * 0;
		A1v_b.x             = ( Math.PI / 180 ) * 0;
		mesh_AI1.rotation.y = ( Math.PI / 180 ) * -200;
		A1v_b.y             = ( Math.PI / 180 ) * -200;
		mesh_AI1.rotation.z = ( Math.PI / 180 ) * 0;
		A1v_b.z             = ( Math.PI / 180 ) * 0;
		V1.z = Menu.Speed * frameTime * 150;
	}
	else if(( P1.x < 0) && ( P1.y < 1 ) && ( P1.z > 0 ))
	{
		mesh_AI1.rotation.x = ( Math.PI / 180 ) * 0;
		A1v_b.x             = ( Math.PI / 180 ) * 0;
		mesh_AI1.rotation.y = ( Math.PI / 180 ) * 0;
		A1v_b.y             = ( Math.PI / 180 ) * 0;
		mesh_AI1.rotation.z = ( Math.PI / 180 ) * 0;
		A1v_b.z             = ( Math.PI / 180 ) * 0;
		V1.z = Menu.Speed * frameTime * -150;
	}
	else
	{
		mesh_AI1.rotation.x = ( Math.PI / 180 ) * -2.85;
		A1v_b.x             = ( Math.PI / 180 ) * -2.85;
		mesh_AI1.rotation.y = ( Math.PI / 180 ) * 0;
		A1v_b.y             = ( Math.PI / 180 ) * 0;
		mesh_AI1.rotation.z = ( Math.PI / 180 ) * 0;
		A1v_b.z             = ( Math.PI / 180 ) * 0;
		V1.z = Menu.Speed * frameTime * -150;
	}
	
	P1 = mesh_AI1.position;
	scene.add( mesh_AI1 );
	
// 航法計算 AI1
	NavigationAI1();
	if(( P1.x < 0) && ( P1.y < 1 ) && ( P1.z > 0 ))
	{
		P1.x  = 0;
		P1.y  = 1;
	}
}
/*----------------------------------------------------------------------------*/
// AI2 自動飛行モデル　飛行パターン：定常旋回
/*----------------------------------------------------------------------------*/
if(( Menu.AI2 )&&( SkyType_No != 4 ))
{
	A2v_b.y = Math.PI * ( -0.1 / 180);
	Qmodel2 = mesh_AI2.quaternion;
	target.setFromAxisAngle( Y_axis, ( Math.PI / 180 ) * -0.09 );
	Qmodel2.multiply(target);
	V2.z = Menu.Speed * frameTime * -600;
	P2 = mesh_AI2.position;
	scene.add( mesh_AI2 );
// 航法計算 AI2
	NavigationAI2();
}
else if(( Menu.AI2 )&&( SkyType_No == 4 ))
{
	A2v_b.y = Math.PI * ( -0.1 / 180);
	Qmodel2 = mesh_AI2.quaternion;
	target2.setFromAxisAngle( Y_axis, ( Math.PI / 180 ) * -0.4 );
	Qmodel2.multiply(target2);
	V2.z = Menu.Speed * frameTime * -700000;
	P2 = mesh_AI2.position;
	scene.add( mesh_AI2 );
// 航法計算 AI2
	NavigationAI2();
}
/*----------------------------------------------------------------------------*/
// AI3 自動飛行モデル　飛行パターン：低速旋回ホワイトべース
/*----------------------------------------------------------------------------*/
if( Menu.AI3 )
{
	A3v_b.y = Math.PI * ( -0.1 / 180);
	Qmodel3 = mesh_AI3.quaternion;
	target3.setFromAxisAngle( Y_axis, ( Math.PI / 180 ) * 0.1 );
	Qmodel3.multiply(target3);
	
	V3.z = Menu.Speed * frameTime * -7000;
	P3 = mesh_AI3.position;
	scene.add( mesh_AI3 );
	
// 航法計算 AI3
	NavigationAI3();
}
/*----------------------------------------------------------------------------*/
// モデル姿勢のクオータニオン設定
/*----------------------------------------------------------------------------*/
	Qmodel.x = Qbuff.x;
	Qmodel.y = Qbuff.y;
	Qmodel.z = Qbuff.z;
	Qmodel.w = Qbuff.w;
	Qrudder  = rudder_mesh.quaternion;
	Qaxis    = axis_v.quaternion;

if (( Model_BTN_No == NN_H2A ) && (SkyType_No == 4 ))
{// H-2A
	Qmodel = H2A.quaternion;
}
/*----------------------------------------------------------------------------*/
// ボタン操作による飛行制御
/*----------------------------------------------------------------------------*/
if( !Menu.Camera )
{
	if ( rad_Pitch > 0.0 )
	{
		target.setFromAxisAngle( X_axis, ( Math.PI / 180 ) * 1 );
		Qmodel.multiply(target);
		Av_b.x = ( Math.PI / 180 ) * 1;
		temp_Mesh2.rotation.x = -0.5;
	}
	else if ( rad_Pitch < 0.0 )
	{
		target.setFromAxisAngle( X_axis, ( Math.PI / 180 ) * -1 );
		Qmodel.multiply(target);
		Av_b.x = ( Math.PI / 180 ) * -1;
		temp_Mesh2.rotation.x =  0.5;
	}
	else if ( rad_Pitch == 0.0 )
	{
		target.setFromAxisAngle( X_axis, ( Math.PI / 180 ) * 0 );
		Qmodel.multiply(target);
		Av_b.x = ( Math.PI / 180 ) * 0;
		temp_Mesh2.rotation.x =  0.0;
	}
	
	if ( rad_Roll > 0.0 )
	{
		target.setFromAxisAngle( Z_axis, ( Math.PI / 180 ) * 1 );
		Qmodel.multiply(target);
		Av_b.z = ( Math.PI / 180 ) * 1;
		temp_Mesh3.rotation.x =  0.5;
		temp_Mesh4.rotation.x = -0.5;
	}
	else if ( rad_Roll < 0.0 )
	{
		target.setFromAxisAngle( Z_axis, ( Math.PI / 180 ) * -1 );
		Qmodel.multiply(target);
		Av_b.z = ( Math.PI / 180 ) * -1;
		temp_Mesh3.rotation.x = -0.5;
		temp_Mesh4.rotation.x =  0.5;
	}
	else if ( rad_Roll == 0.0 )
	{
		target.setFromAxisAngle( Z_axis, ( Math.PI / 180 ) * 0 );
		Qmodel.multiply(target);
		Av_b.z = ( Math.PI / 180 ) * 0;
		temp_Mesh3.rotation.x =  0.0;
		temp_Mesh4.rotation.x =  0.0;
	}
	
	if ( rad_Yaw > 0.0 )
	{
		target.setFromAxisAngle( Y_axis, ( Math.PI / 180 ) * 1 );
		Qmodel.multiply(target);
		Av_b.y = ( Math.PI / 180 ) * 1;
		temp_Mesh1.rotation.y = -0.5;
	}
	else if ( ( rad_Yaw > 0.0 ) && ( rad_Roll > 0.0 ) )
	{
		target.setFromAxisAngle( Z_axis, ( Math.PI / 180 ) * 0.5 );
		Qmodel.multiply(target);
		Av_b.z = ( Math.PI / 180 ) * 0.5;
		target.setFromAxisAngle( Y_axis, ( Math.PI / 180 ) * 0.5 );
		Qmodel.multiply(target);
		Av_b.y = ( Math.PI / 180 ) * 0.5;
		
		temp_Mesh1.rotation.y = -0.5;
		temp_Mesh3.rotation.x =  0.5;
		temp_Mesh4.rotation.x = -0.5;
	}
	else if ( rad_Yaw < 0.0 )
	{
		target.setFromAxisAngle( Y_axis, ( Math.PI / 180 ) * -1 );
		Qmodel.multiply(target);
		Av_b.y = ( Math.PI / 180 ) * -1;
		temp_Mesh1.rotation.y = 0.5;
	}
	else if ( ( rad_Yaw < 0.0 ) && ( rad_Roll < 0.0 ) )
	{
		target.setFromAxisAngle( Y_axis, ( Math.PI / 180 ) * -0.5 );
		Qmodel.multiply(target);
		Av_b.y = ( Math.PI / 180 ) * -0.5;
		target.setFromAxisAngle( Z_axis, ( Math.PI / 180 ) * -0.5 );
		Qmodel.multiply(target);
		Av_b.z = ( Math.PI / 180 ) * -0.5;
		
		temp_Mesh1.rotation.y = 0.5;
		temp_Mesh3.rotation.x = -0.5;
		temp_Mesh4.rotation.x =  0.5;
	}
	else if ( rad_Yaw == 0.0 )
	{
		target.setFromAxisAngle( Y_axis, ( Math.PI / 180 ) * 0 );
		Qmodel.multiply(target);
		Av_b.y = ( Math.PI / 180 ) * 0;
		temp_Mesh1.rotation.y = 0.0;
	}
}
else
{
	if ( rad_Pitch > 0.0 )
	{
		activeCamera.rotation.x += ( Math.PI / 180 ) *  1;
	}
	else if ( rad_Pitch < 0.0 )
	{
		activeCamera.rotation.x += ( Math.PI / 180 ) * -1;
	}
	
	if ( rad_Roll > 0.0 )
	{
		activeCamera.position.x += Menu.Speed * frameTime *  100;
	}
	else if ( rad_Roll < 0.0 )
	{
		activeCamera.position.x += Menu.Speed * frameTime * -100;
	}
	
	if ( rad_Yaw > 0.0 )
	{
		activeCamera.rotation.y += ( Math.PI / 180 ) *  1;
	}
	else if ( rad_Yaw < 0.0 )
	{
		activeCamera.rotation.y += ( Math.PI / 180 ) * -1;
	}
}

/*
if( Menu.Gyro && !Menu.Camera )
{
	target.setFromAxisAngle( X_axis, ( Math.PI / 180 ) * G.y );
	Qmodel.multiply(target);
	Av_b.x = ( Math.PI / 180 ) * G.y;
	temp_Mesh1.rotation.x = ( Math.PI / 180 ) * G.y;
	
	target.setFromAxisAngle( Y_axis, ( Math.PI / 180 ) * G.x );
	Qmodel.multiply(target);
	Av_b.y = ( Math.PI / 180 ) * G.x;
	temp_Mesh2.rotation.x = ( Math.PI / 180 ) * G.x;
	
	target.setFromAxisAngle( Z_axis, ( Math.PI / 180 ) * G.z );
	Qmodel.multiply(target);
	Av_b.z = ( Math.PI / 180 ) * G.z;
	temp_Mesh3.rotation.x =  ( Math.PI / 180 ) * G.z;
	temp_Mesh4.rotation.x = -( Math.PI / 180 ) * G.z;
}
*/

if( Menu.Gyro && !Menu.Camera )
{
/*

	target.setFromAxisAngle( X_axis, ( Math.PI / 180 ) * G.y );
	Qmodel.multiply(target);
	Av_b.x = ( Math.PI / 180 ) * G.y;
	temp_Mesh1.rotation.x = ( Math.PI / 180 ) * G.y;
	
	target.setFromAxisAngle( Y_axis, ( Math.PI / 180 ) * G.x );
	Qmodel.multiply(target);
	Av_b.y = ( Math.PI / 180 ) * G.x;
	temp_Mesh2.rotation.x = ( Math.PI / 180 ) * G.x;
	
	target.setFromAxisAngle( Z_axis, ( Math.PI / 180 ) * G.z );
	Qmodel.multiply(target);
	Av_b.z = ( Math.PI / 180 ) * G.z;
	temp_Mesh3.rotation.x =  ( Math.PI / 180 ) * G.z;
	temp_Mesh4.rotation.x = -( Math.PI / 180 ) * G.z;

			mesh.rotation.x = 0.5 * G.y;
			mesh.rotation.y = 0.5 * G.x;
			mesh.rotation.z = 0.5 * G.z;
*/
	Oil.x = 0.5 * G.y;
	Oil.y = 2.0 * G.x;
	Oil.z = 0.5 * G.z;



	Qmodel = Oil2qtn( Oil );
	Av_b.x = ( Math.PI / 180 ) * Oil.y;
	temp_Mesh1.rotation.x = ( Math.PI / 180 ) * Oil.y;
	
	Av_b.y = ( Math.PI / 180 ) * Oil.x;
	temp_Mesh2.rotation.x = ( Math.PI / 180 ) * Oil.x;
	
	Av_b.z = ( Math.PI / 180 ) * Oil.z;
	temp_Mesh3.rotation.x =  ( Math.PI / 180 ) * Oil.z;
	temp_Mesh4.rotation.x = -( Math.PI / 180 ) * Oil.z;
}

/*----------------------------------------------------------------------------*/
//  UDPデータ受信
/*----------------------------------------------------------------------------*/
if( Menu.UDP_Play )
{
var	data;
	$.ajax({
		type: 'GET',
		url:  'http://localhost:8080',
		data: data,
		success: function(data) {
			setTimeout(function() {
				UDP_Data = data;
			}, 0);
		},
		error: function(XMLHttpRequest, textStatus, errorThrown) {
			setTimeout(function() {
			}, 0);
			//alert( data +" " + XMLHttpRequest +" " + textStatus +" " + errorThrown );
		}
	});
	var array3 = UDP_Data.match(/-?[0-Z]+\.?[0-9]*/g);

	if( array3 == null )
	{
		Reset = 2;
	}
	
	if( array3[1] == "GYRO")
	{
		G.x = parseFloat(array3[3]) * 0.06;
		G.y = parseFloat(array3[5]) * 0.06;
		G.z = parseFloat(array3[4]) * -0.06;
		
		if( ( G.x < 0.01 ) && ( G.x > -0.01 ))
		{
			G.x = 0.0;
		}
		if( ( G.y < 0.01 ) && ( G.y > -0.01 ))
		{
			G.y = 0.0;
		}
		if( ( G.z < 0.01 ) && ( G.z > -0.01 ))
		{
			G.z = 0.0;
		}
		if( C_avr < 10 )
		{
			avr_G.x += G.x;
			avr_G.y += G.y;
			avr_G.z += G.z;
			C_avr++;
		}
		else if ( C_avr == 10 )
		{
			avr_G.x /= 11;
			avr_G.y /= 11;
			avr_G.z /= 11;
			C_avr++;
		}
		else
		{
			G.x -= avr_G.x;
			G.y -= avr_G.y;
			G.z -= avr_G.z;
			
			target.setFromAxisAngle( X_axis, G.x );
			Qmodel.multiply(target);
			Av_b.x = G.x;
			
			target.setFromAxisAngle( Y_axis, G.y );
			Qmodel.multiply(target);
			Av_b.y = G.y;
			
			target.setFromAxisAngle( Z_axis, G.z );
			Qmodel.multiply(target);
			Av_b.z = -G.z;
		}
	}
	if( array3[0] == "GYRO")
	{
		G.x = parseFloat(array3[2]) * 0.005;
		G.y = parseFloat(array3[4]) * 0.005;
		G.z = parseFloat(array3[3]) * -0.005;
		V.z = parseFloat(array3[5]) * -Menu.Speed;
		
		target.setFromAxisAngle( X_axis, G.x );
		Qmodel.multiply(target);
		Av_b.x = G.x;
		
		target.setFromAxisAngle( Y_axis, G.y );
		Qmodel.multiply(target);
		Av_b.y = G.y;
		
		target.setFromAxisAngle( Z_axis, G.z );
		Qmodel.multiply(target);
		Av_b.z = -G.z;
	}
}
/*----------------------------------------------------------------------------*/
if( Menu.WingMan )
{
	Q_Base1.x = Qmodel.x;
	Q_Base1.y = Qmodel.y;
	Q_Base1.z = Qmodel.z;
	Q_Base1.w = Qmodel.w;
	
//	Q_Wing1.x = Qmodel.x;
//	Q_Wing1.y = Qmodel.y;
//	Q_Wing1.z = Qmodel.z;
//	Q_Wing1.w = Qmodel.w;
	
	Q_Base2.x = Qmodel.x;
	Q_Base2.y = Qmodel.y;
	Q_Base2.z = Qmodel.z;
	Q_Base2.w = Qmodel.w;
	
//	Q_Wing2.x = Qmodel.x;
//	Q_Wing2.y = Qmodel.y;
//	Q_Wing2.z = Qmodel.z;
//	Q_Wing2.w = Qmodel.w;
}
if( Menu.Rudder )
{
	Qrudder.x = Qmodel.x;
	Qrudder.y = Qmodel.y;
	Qrudder.z = Qmodel.z;
	Qrudder.w = Qmodel.w;
}
Qbuff.x = Qmodel.x;
Qbuff.y = Qmodel.y;
Qbuff.z = Qmodel.z;
Qbuff.w = Qmodel.w;
	Qaxis.x = Qmodel.x;
	Qaxis.y = Qmodel.y;
	Qaxis.z = Qmodel.z;
	Qaxis.w = Qmodel.w;

/*----------------------------------------------------------------------------*/
// 航法計算
/*----------------------------------------------------------------------------*/
	Navigation();
       	Heading = Mtxvec ( DCM_bL, Heading_L );
       	Gun1    = Mtxvec ( DCM_bL, Gun1_L );
       	Gun2    = Mtxvec ( DCM_bL, Gun2_L );

//	axis_v.position.x = P.x;
//	axis_v.position.y = P.y;
//	axis_v.position.z = P.z;

/*----------------------------------------------------------------------------*/
if( Menu.WingMan )
{
	mesh_Base1.position.x = P.x;
	mesh_Base1.position.y = P.y;
	mesh_Base1.position.z = P.z;
	mesh_Base2.position.x = P.x;
	mesh_Base2.position.y = P.y;
	mesh_Base2.position.z = P.z;
}
if( Menu.Rudder )
{
	rudder_mesh.position.x = P.x;
	rudder_mesh.position.y = P.y;
	rudder_mesh.position.z = P.z;
}
mesh.position.x = P.x; 
mesh.position.y = P.y; 
mesh.position.z = P.z; 

if (( Model_BTN_No == NN_H2A ) && (SkyType_No == 4 ))
{// H-2A
	H2A.position.x = P.x;
	H2A.position.y = P.y;
	H2A.position.z = P.z;
	ML.add( H2A );
}
/*----------------------------------------------------------------------------*/
if(( P.y < -10.1 ) )
{
	P.y = -10.0;
}
/*----------------------------------------------------------------------------*/
if (( View_BTN_No != 0 )&&(Reset == 0 ))
{
	if ( P.y > 15.0 )
	{
		mesh.remove( Gear_mesh );
		mesh.add( Bunner_mesh );
	}
	else
	{
		mesh.add( Gear_mesh );
		mesh.remove( Bunner_mesh );
	}
// F14
	if( Model_BTN_No == NN_F14)
	{
		if( V.z > -1.0 )
		{
			mesh.remove( Bunner_mesh );mesh.remove( HW_mesh );mesh.add( LW_mesh );
		}
		else
		{
			mesh.add( Bunner_mesh );mesh.add( HW_mesh );mesh.remove( LW_mesh );
		}
	}
// Concorde
	if (( P.y > 15.0 ) && ( Model_BTN_No == NN_Concorde ))
	{
		mesh.add( Corn_mesh );
	}
	else
	{
		mesh.remove( Corn_mesh );
	}
// H-2A
	if (( P.y > 50.0 ) && ( Model_BTN_No == NN_H2A ))
	{
		mesh.remove( H2A_SSB );
	}
	if (( P.y > 100.0 ) && ( Model_BTN_No == NN_H2A ))
	{// H2A
		mesh.remove( H2A_SRB );
	}
	if (( P.y > 150.0 ) && ( Model_BTN_No == NN_H2A ))
	{// H2A
		mesh.remove( H2A_FL );
	}
	if (( P.y > 200.0 ) && ( Model_BTN_No == NN_H2A ))
	{// H2A
		mesh.remove( H2A_1st );
	}
	if(( P.y < 20.0 ) && ( Model_BTN_No == NN_H2A ))
	{
		mesh.add( H2A_1st );
		mesh.add( H2A_FL );
		mesh.add( H2A_SSB );
		mesh.add( H2A_SRB );
	}
//
	if ( Model_BTN_No == NN_A6M2 )
	{// A6M2
		if ( V.z > -0.5 )
		{
			mesh.rotation.x = 0.25;
			P.y = 2.7;
		}
	}
	else if ( Model_BTN_No == NN_KI61 )
	{// KI61
		if ( V.z > -0.5 )
		{
			mesh.rotation.x = 0.25;
			P.y = 2.2;
		}
	}
	else if ( Model_BTN_No == NN_M100tei )
	{// M100tei Kou
		if ( V.z > -0.5 )
		{
			mesh.rotation.x = 0.2;
			P.y = 3.3;
		}
	}
	else if ( Model_BTN_No == NN_1sikiRikukou )
	{// 1sikiRikukou
		if ( V.z > -0.5 )
		{
			mesh.rotation.x = 0.15;
			P.y = 2.3;
		}
	}
	else if ( Model_BTN_No == NN_H2A )
	{// H2A
		if ( V.z > -0.5 )
		{
			mesh.rotation.x = 1.57;
		}
	}
	else if ( Model_BTN_No == NN_Extra3000 )
	{// Extra3000
		if ( V.z > -0.5 )
		{
			mesh.rotation.x = 0.15;
			P.y = 2.2;
		}
	}
	else if ( Model_BTN_No == NN_M96 )
	{// M96
		if ( V.z > -0.5 )
		{
			mesh.rotation.x = 0.23;
			P.y = 2.7;
		}
	}
	else if ( Model_BTN_No == NN_M97 )
	{// M97
		if ( V.z > -0.5 )
		{
			mesh.rotation.x = 0.21;
			P.y = 2.7;
		}
	}
	else if ( Model_BTN_No == NN_M99 )
	{// M99
		if ( V.z > -0.5 )
		{
			mesh.rotation.x = 0.23;
			P.y = 2.7;
		}
	}
	else if ( Model_BTN_No == NN_A7M2_Reppu )
	{// A7M2
		if ( V.z > -0.5 )
		{
			mesh.rotation.x = 0.22;
			P.y = 2.2;
		}
	}
	else if ( Model_BTN_No == NN_B7A2_Ryusei )
	{// B7A2
		if ( V.z > -0.5 )
		{
			mesh.rotation.x = 0.22;
			P.y = 2.8;
		}
	}
	else if ( Model_BTN_No == NN_D4Y2_Suisei )
	{// D4Y2
		if ( V.z > -0.5 )
		{
			mesh.rotation.x = 0.22;
			P.y = 2.5;
		}
	}
	else if ( Model_BTN_No == NN_Spitfire )
	{// Spitfire
		if ( V.z > -0.5 )
		{
			mesh.rotation.x = 0.22;
			P.y = 2.5;
		}
	}
	else if ( Model_BTN_No == NN_JU87 )
	{// JU87
		if ( V.z > -0.5 )
		{
			mesh.rotation.x = 0.22;
			P.y = 2.8;
		}
	}
	else if ( Model_BTN_No == NN_BF109 )
	{// BF109
		if ( V.z > -0.5 )
		{
			mesh.rotation.x = 0.27;
			P.y = 2.5;
		}
	}
	else if ( Model_BTN_No == NN_FW140 )
	{// FW140
		if ( V.z > -0.5 )
		{
			mesh.rotation.x = 0.20;
			P.y = 2.8;
		}
	}
	else if ( Model_BTN_No == NN_F4F )
	{// F4F
		if ( V.z > -0.5 )
		{
			mesh.rotation.x = 0.20;
			P.y = 2.3;
		}
	}
	else if ( Model_BTN_No == NN_F6F )
	{// F6F
		if ( V.z > -0.5 )
		{
			mesh.rotation.x = 0.22;
			P.y = 3.2;
		}
	}
	else if ( Model_BTN_No == NN_P51 )
	{// P51
		if ( V.z > -0.5 )
		{
			mesh.rotation.x = 0.28;
			P.y = 2.7;
		}
	}
	else if ( Model_BTN_No == NN_CitationX )
	{// CitationX
		if ( V.z > -0.5 )
		{
			mesh.rotation.x = -0.03;
			P.y = 1.3;
		}
	}
	else if ( Model_BTN_No == NN_B6N2_Saiun )
	{// B6N2_Saiun
		if ( V.z > -0.5 )
		{
			mesh.rotation.x = 0.25;
			P.y = 2.5;
		}
	}
	else if ( Model_BTN_No == NN_Dr1 )
	{// Dr1
		if ( V.z > -0.5 )
		{
			mesh.rotation.x = 0.25;
			P.y = 2.5;
		}
	}
	else if ( Model_BTN_No == NN_camelF110 )
	{// camelF110
		if ( V.z > -0.5 )
		{
			mesh.rotation.x = 0.25;
			P.y = 2.5;
		}
	}
	else if ( Model_BTN_No == NN_F4U )
	{// F4U
		if ( V.z > -0.5 )
		{
			mesh.rotation.x = 0.28;
			P.y = 3.5;
		}
	}
	else if ( Model_BTN_No == NN_Gekko )
	{// Gekko
		if ( V.z > -0.5 )
		{
			mesh.rotation.x = 0.2;
			P.y = 3.9;
		}
	}
	else if ( Model_BTN_No == NN_Kamikaze )
	{// Kamikaze
		if ( V.z > -0.5 )
		{
			mesh.rotation.x = 0.2;
			P.y = 2.9;
		}
	}
	else if ( Model_BTN_No == NN_Raiden )
	{// Raiden
		if ( V.z > -0.5 )
		{
			mesh.rotation.x = 0.2;
			P.y = 3.4;
		}
	}
	else if ( Model_BTN_No == NN_Tenzan )
	{// Tenzan
		if ( V.z > -0.5 )
		{
			mesh.rotation.x = 0.2;
			P.y = 3.1;
		}
	}
	else if ( Model_BTN_No == NN_A7M2_Reppu2 )
	{// Reppu
		if ( V.z > -0.5 )
		{
			mesh.rotation.x = 0.2;
			P.y = 2.7;
		}
	}
	else if ( Model_BTN_No == NN_KI61B )
	{// KI61B
		if ( V.z > -0.5 )
		{
			mesh.rotation.x = 0.2;
			P.y = 3.1;
		}
	}
	else if ( Model_BTN_No == NN_KI61II )
	{// KI61II
		if ( V.z > -0.5 )
		{
			mesh.rotation.x = 0.2;
			P.y = 2.7;
		}
	}
	else if ( Model_BTN_No == NN_A6M6z64 )
	{// z64
		if ( V.z > -0.5 )
		{
			mesh.rotation.x = 0.2;
			P.y = 2.7;
		}
	}
	else if ( Model_BTN_No == NN_A6M5z52 )
	{// z52
		if ( V.z > -0.5 )
		{
			mesh.rotation.x = 0.2;
			P.y = 3,1;
		}
	}
	else if ( Model_BTN_No == NN_A6M3z32 )
	{// z32
		if ( V.z > -0.5 )
		{
			mesh.rotation.x = 0.2;
			P.y = 3.1;
		}
	}
	else if ( Model_BTN_No == NN_A6M4z22 )
	{// z22
		if ( V.z > -0.5 )
		{
			mesh.rotation.x = 0.2;
			P.y = 3.1;
		}
	}
	else if ( Model_BTN_No == NN_A6M2z21 )
	{// z21
		if ( V.z > -0.5 )
		{
			mesh.rotation.x = 0.2;
			P.y = 3.1;
		}
	}
	else if ( Model_BTN_No == NN_SFFMP_4ch )
	{// NN_SFFMP_4ch
		if ( V.z > -0.5 )
		{
			mesh.rotation.x = 0.22;
			P.y = 2.5;
		}
	}}
/*----------------------------------------------------------------------------*/
// プロペラ回転表示
/*----------------------------------------------------------------------------*/
	propMesh.rotation.z        += (propDelta * V.z);
	propMesh1.rotation.z       -= (propDelta * V.z);
	propMesh2.rotation.z       += (propDelta * V.z); 
	propMesh3.rotation.z       -= (propDelta * V.z); 
//	propMesh0.rotation.z       -= (propDelta * V.z); 
	C172A_propMesh.rotation.z  += (propDelta * V.z);
	
if ( VTOL_BTN_Status == 1 )
{
	MR_propMesh.rotation.y     += (propDelta * V.y);
	TR_propMesh.rotation.x     += (propDelta * V.y);
}
else
{
	MR_propMesh.rotation.y     += (propDelta * V.z);
	TR_propMesh.rotation.x     += (propDelta * V.z);
}
	if( VTOL_BTN_Status == 0 )
	{
		VTOL_V = V.z;
	}
	else if( VTOL_BTN_Status == 1 )
	{
		VTOL_V = V.y;
	}
	else if( VTOL_BTN_Status == 2 )
	{
		V.y = 0;
	}


	if( !Menu.Axis )
	{
		scene.remove( axis_n );
		scene.remove( axis_v );
	}
	else
	{
		scene.add( axis_n );
		scene.add( axis_v );
	}

/*----------------------------------------------------------------------------*/
// Camera mode.
/*----------------------------------------------------------------------------*/
	if ( View_BTN_No == 0 )
	{// Opening
		if(( Menu.Gyro )&&( Menu.Camera ))
		{
				Gyro.lookAt( mesh.position );
				activeCamera = Gyro;
		}
		else
		{
			camera.lookAt( mesh.position );
			activeCamera = camera;
		}
	}
	else if ( View_BTN_No == 1 )
	{// Runway
		camera0.lookAt( mesh.position );
		activeCamera = camera0;
	}
	else if ( View_BTN_No == 2 )
	{// Cockpit
		activeCamera = camera1;
	}
	else if ( View_BTN_No == 3 )
	{// OutSide
		activeCamera = camera2;
		activeCamera.position.x = P.x;
		activeCamera.position.y = P.y + 2;
		activeCamera.position.z = P.z + 15 + Menu.Zoom;
	}
	else if ( View_BTN_No == 4 )
	{// Far
		activeCamera = camera3;
	}
	else if ( ( View_BTN_No == 5 ) && ( Menu.AI1 ) )
	{ // AI1
		camera4.position.x = P1.x;
		camera4.position.y = P1.y + 2;
		camera4.position.z = P1.z + 30 + Menu.Zoom;
		activeCamera = camera4;
	}
	else if ( ( View_BTN_No == 6 ) && ( Menu.AI1 ) )
	{//AI1 Cockpit
		activeCamera = camera5;
	}
	else if ( ( View_BTN_No == 7 ) && ( Menu.AI2 ) )
	{// AI2
		camera6.position.x = 0;
		camera6.position.y =  12;
		camera6.position.z = -12 + Menu.Zoom;
		activeCamera = camera6;
	}
	else if ( ( View_BTN_No == 8 ) && ( Menu.AI3 ) )
	{// AI3
		camera4.position.x = P3.x;
		camera4.position.y = P3.y + 200;
		camera4.position.z = P3.z + 2500 + Menu.Zoom;
		activeCamera = camera4;
	}
	else if ( View_BTN_No == 9 ) 
	{// ISS
		camera8.rotation.set( 1.57, 1.57, -1.57);
		camera8.position.set( 8, -1, 0);
		activeCamera = camera8;
	}
	else if ( View_BTN_No == 10 ) 
	{// LM5
		camera9.rotation.set( -0.2, 1.4, 0);
		camera9.position.set( 4, 1, 0);
		activeCamera = camera9;
		controls7.update();
	}
	else if ( View_BTN_No == 11 ) 
	{// H-2A+ML
		camera10.rotation.set( -0.2, 0, 0);
		camera10.position.set( 0, 40, 100);
		activeCamera = camera10;
	}
	else if ( View_BTN_No == 12 )
	{ // Walk
		activeCamera = camera1;
	}

/*----------------------------------------------------------------------------*/
// 飛行データ記録
/*----------------------------------------------------------------------------*/
if( Menu.Rec )
{
var	logdata;
var	mesh_P;
var	mesh_Y;
var	mesh_R;
	mesh_P = mesh.rotation.x;
	mesh_Y = mesh.rotation.y;
	mesh_R = mesh.rotation.z;
	Tc++;
	if( ( P.x < 1.0E-10 ) && ( P.x > -1.0E-10 )) { P.x = 0.0; }
	if( ( P.y < 1.0E-10 ) && ( P.y > -1.0E-10 )) { P.y = 0.0; }
	if( ( P.z < 1.0E-10 ) && ( P.z > -1.0E-10 )) { P.z = 0.0; }
	if( ( mesh_P < 1.0E-10 ) && ( mesh_P > -1.0E-10 )) { mesh_P = 0.0; }
	if( ( mesh_Y < 1.0E-10 ) && ( mesh_Y > -1.0E-10 )) { mesh_Y = 0.0; }
	if( ( mesh_R < 1.0E-10 ) && ( mesh_R > -1.0E-10 )) { mesh_R = 0.0; }
	Flight_Data[Tc] = Time.toFixed(2)+', '+P.x+', '+P.y+', '+P.z+', '+mesh_P+', '+ mesh_Y+', '+mesh_R + '\n';
}
/*----------------------------------------------------------------------------*/
//  飛行データ再生
/*----------------------------------------------------------------------------*/
if( Menu.RePlay )
{
	Tc++;
	var array2 = Flight_Data[Tc].match(/-?[0-9]+\.?[0-9]*/g);
	if( array2 == null )
	{
		Reset = 2;
	}
	P.x = parseFloat(array2[3]);
	P.y = parseFloat(array2[2]);
	P.z = -parseFloat(array2[1]);
	mesh.rotation.x = - parseFloat(array2[4]);
	mesh.rotation.y = - parseFloat(array2[5]);
	mesh.rotation.z = - parseFloat(array2[6]);

	if(( mesh.rotation.y > -1.57-3.14 ) && ( mesh.rotation.y < -1.57 ))
	{
		mesh.rotation.x = mesh.rotation.x;
	}
	else
	{
		mesh.rotation.x = -mesh.rotation.x;
	}

	V.z = P.z - P_1.z;
	P_1.z = P.z;
}
/*----------------------------------------------------------------------------*/
// テキスト数値表示
/*----------------------------------------------------------------------------*/
if( Menu.Gyro )
{
	window.addEventListener("deviceorientation", function(event){ 
    		dG.x = event.alpha;
    		dG.y = event.beta ;
    		dG.z = event.gamma;
		if( event.alpha > 180.0)
		{
	    		G.x = ( event.alpha - 360.0 ) * 0.01;
		}
		else
		{
	    		G.x = event.alpha * 0.01;
		}
    		G.y = event.beta  *  0.03; 
    		G.z = event.gamma * -0.03; 
		
		if (View_BTN_No != 0 )
		{
			if(( -0.25 < V.z ) && ( V.z < 0.25 ))
			{
				G.y = 0.0; G.z = 0.0;
			}
		}
	});
}
/*----------------------------------------------------------------------------*/
// テキスト数値表示
/*----------------------------------------------------------------------------*/
if( Menu.Button )
{
	valueNode.nodeValue  	=  'Time:' + Time.toFixed(2);
	if (( View_BTN_No == 5 ) || ( View_BTN_No == 6 ))
	{
		valueNode1.nodeValue 	=  'P1x:' + P1.x.toFixed(2) + ' P1y:' + P1.y.toFixed(2) + ' P1z:' + (P1.z).toFixed(2);
		var AI1_P;
		var AI1_Y;
		var AI1_R;
		AI1_P = (( mesh_AI1.rotation.x ) * 180.0 / Math.PI ); AI1_P %= 360;
		AI1_Y = (( mesh_AI1.rotation.y ) * 180.0 / Math.PI ); AI1_Y %= 360;
		AI1_R = (( mesh_AI1.rotation.z ) * 180.0 / Math.PI ); AI1_R %= 360;
		valueNode2.nodeValue 	=  'Pitch:' +  AI1_P.toFixed(2)
                                         + ' Yaw:'  +  AI1_Y.toFixed(2)
                                         + ' Roll:' +  AI1_R.toFixed(2);
		valueNode3.nodeValue 	=  'V1z:' + V1.z.toFixed(2);
	}
	else if ( View_BTN_No == 7 )
	{
		valueNode1.nodeValue 	=  'P2x:' + P2.x.toFixed(2) + ' P2y:' + P2.y.toFixed(2) + ' P2z:' + (P2.z).toFixed(2);
		var AI2_P;
		var AI2_Y;
		var AI2_R;
		AI2_P = (( mesh_AI2.rotation.x ) * 180.0 / Math.PI ); AI2_P %= 360;
		AI2_Y = (( mesh_AI2.rotation.y ) * 180.0 / Math.PI ); AI2_Y %= 360;
		AI2_R = (( mesh_AI2.rotation.z ) * 180.0 / Math.PI ); AI2_R %= 360;
		valueNode2.nodeValue 	=  'Pitch:' +  AI2_P.toFixed(2)
                                         + ' Yaw:'  +  AI2_Y.toFixed(2)
                                         + ' Roll:' +  AI2_R.toFixed(2);
		valueNode3.nodeValue 	=  'V2z:' + V2.z.toFixed(2);
	}
	else if ( Menu.Gyro )
	{
		valueNode1.nodeValue 	=  'Gx:' +  G.x.toFixed(2) + ' Gy:' +  G.y.toFixed(2) + ' Gz:' + ( G.z).toFixed(2);
		valueNode2.nodeValue 	=  'dGx:'+ dG.x.toFixed(2) + ' dGy:'+ dG.y.toFixed(2) + ' dGz:'+ (dG.z).toFixed(2);
		valueNode3.nodeValue 	=  'Vz:' + (-V.z).toFixed(2);
	}
	else if ( Menu.RePlay )
	{
		valueNode1.nodeValue 	=  'Px:' + P.x.toFixed(2) + ' Py:' + P.y.toFixed(2) + ' Pz:' + (P.z).toFixed(2);

		var AI1_P;
		var AI1_Y;
		var AI1_R;

		AI1_P = (( mesh.rotation.x ) * 180.0 / Math.PI ); AI1_P %= 360;
		AI1_Y = (( mesh.rotation.y ) * 180.0 / Math.PI ); AI1_Y %= 360;
		AI1_R = (( mesh.rotation.z ) * 180.0 / Math.PI ); AI1_R %= 360;

		if(( AI1_Y > -90-180 ) && ( AI1_Y < -90 ))
		{
			AI1_P = -AI1_P;
		}
		else
		{
			AI1_P = AI1_P;
		}

		valueNode2.nodeValue 	=  'Pitch:' +  AI1_P.toFixed(2)
                                         + ' Yaw:'  +  -AI1_Y.toFixed(2)
                                         + ' Roll:' +  AI1_R.toFixed(2);

		valueNode3.nodeValue 	=  'Vz:' + (Math.abs(V.z)).toFixed(2);
	}
	else
	{
		valueNode1.nodeValue 	=  'Px:' + P.x.toFixed(2) + ' Py:' + P.y.toFixed(2) + ' Pz:' + (P.z).toFixed(2);
		valueNode2.nodeValue 	=  'Pitch:' + ((  A_b.x ) * 180.0 / Math.PI ).toFixed(2)
					 + ' Yaw:'  + (( -A_b.y ) * 180.0 / Math.PI ).toFixed(2)
					 + ' Roll:' + (( -A_b.z ) * 180.0 / Math.PI ).toFixed(2);
		valueNode3.nodeValue 	=  'Vz:' + (-V.z).toFixed(2);
	}
}
else
{
	valueNode.nodeValue  = '    ';
	valueNode1.nodeValue = '    ';
	valueNode2.nodeValue = '    ';
	valueNode3.nodeValue = '    ';
}

/*----------------------------------------------------------------------------*/
if( F_birds )
{
// birds 表示
	for ( var i = 0, il = birds.length; i < il; i++ ) {
		boid = boids[ i ];
		boid.run( boids );
		bird = birds[ i ];
		bird.position.copy( boids[ i ].position );
		color = bird.material.color;
		color.r = color.g = color.b = ( 500 - bird.position.z ) / 1000;
		bird.rotation.y = Math.atan2( - boid.velocity.z, boid.velocity.x );
		bird.rotation.z = Math.asin( boid.velocity.y / boid.velocity.length() );
		bird.phase = ( bird.phase + ( Math.max( 0, bird.rotation.z ) + 0.1 )  ) % 62.83;
		bird.geometry.vertices[ 5 ].y = bird.geometry.vertices[ 4 ].y = Math.sin( bird.phase ) * 5;
	}
}

/*----------------------------------------------------------------------------*/
// Update at 20Hz
/*----------------------------------------------------------------------------*/
if( Menu.FI )
{
var Pitch;
var Yaw;
var Roll;

	if ( Menu.RePlay )
	{
		Roll  = (( mesh.rotation.x ) * 180.0 / Math.PI ); Roll  %= 360;
		Pitch = (( mesh.rotation.y ) * 180.0 / Math.PI ); Pitch %= 360;
		Yaw   = (( mesh.rotation.z ) * 180.0 / Math.PI ); Yaw   %= 360;

		if(( Pitch > -90-180 ) && ( Pitch < -90 ))
		{
			Roll = -Roll;
		}
		else
		{
			Roll = Roll;
		}

	}
	else
	{
		Pitch = (( Oil.x ) * 180.0 / Math.PI ); Pitch %= 360;
		Yaw   = (( Oil.y ) * 180.0 / Math.PI ); Yaw   %= 360;
		Roll  = (( Oil.z ) * 180.0 / Math.PI ); Roll  %= 360;
	}

    airspeed.setAirSpeed ((Math.abs(V.z)).toFixed(2)*10);
    attitude.setRoll     (Yaw);
    attitude.setPitch    (Roll);
    altimeter.setAltitude(P.y*10);
    altimeter.setPressure(0);
    turn_C.setTurn       (0);
    heading.setHeading   (-Pitch);
    variometer.setVario  (0);
}
else
{
	;
}

if( Menu.PFD )
{
	PFD();
}
else
{
	;
}

/*----------------------------------------------------------------------------*/
// 周期処理の最後
/*----------------------------------------------------------------------------*/
var	time = performance.now() * 0.001;
	water.material.uniforms.time.value += 1.0 / 60.0;
	water.render();
	if(Menu.Gyro && Menu.Camera)
	{
		Gyro_CTRL.update();
	}
	updatePhysics( frameTime );
	renderer.render( scene, activeCamera );
}
/*----------------------------------------------------------------------------*/
// GUI MENU  true/false
/*----------------------------------------------------------------------------*/
function initGui () {
	function initSetting(){
		Menu = {};
		Menu.Axis   = false;
		Menu.FI     = false;
		Menu.PFD    = false;
		Menu.PLOT   = false;
		Menu.Button = false;
		Menu.Gyro   = false;
		Menu.RePlay = false;
		Menu.UDP_Play = false;
		Menu.Rec    = false;
		Menu.Camera = false;
		Menu.AI1    = false;
		Menu.AI2    = false;
		Menu.AI3    = false;
		Menu.Rudder = false;
		Menu.Demo   = false;
		Menu.WingMan= false;
		Menu.Try    = false;
		Menu.Int    = 300;
		Menu.Speed  = 0.1;
		Menu.Zoom   = 0;
		setting.add( Menu, 'Axis'   ).onChange( function(){});
		setting.add( Menu, 'FI'     ).onChange( onChangeFI      );
		setting.add( Menu, 'PFD'    ).onChange( onChangePFD     );
		setting.add( Menu, 'PLOT'   ).onChange( onChangePLOT    );
		setting.add( Menu, 'Button' ).onChange( onChangeButton  );
		setting.add( Menu, 'Gyro'   ).onChange( onChangeSetting );
		setting.add( Menu, 'RePlay' ).onChange( onChangeSetting );
		setting.add( Menu,'UDP_Play').onChange( onChangeSetting );
		setting.add( Menu, 'Rec'    ).onChange( onChangeLOG     );
		setting.add( Menu, 'Camera' ).onChange( onChangeSetting );
		setting.add( Menu, 'AI1'    ).onChange( onChangeAI1     );
		setting.add( Menu, 'AI2'    ).onChange( onChangeAI2     );
		setting.add( Menu, 'AI3'    ).onChange( onChangeAI3     );
		setting.add( Menu, 'Rudder' ).onChange( onChangeRudder  );
		setting.add( Menu, 'Demo'   ).onChange( onChangeSetting );
		setting.add( Menu, 'WingMan').onChange( onChangeWingMan );
		setting.add( Menu, 'Try'    ).onChange( onChangeTry     );
		setting.add( Menu, 'Int',     0, 1000 );
		setting.add( Menu, 'Speed', -10, 10 );
		setting.add( Menu, 'Zoom',  -100, 100 ).onChange( onChangeZoom );
	};
	function getBaseName ( s ) {
		return s.slice( s.lastIndexOf( '/' ) + 1 );
	};
	function initControls () {
		controls.View = -1;
		for ( var i = 0; i < ViewMode.length; i++ ) {
			controls[ getBaseName( ViewMode[ i ] ) ] = false;
		}
		controls.skymode = -1;
		for ( var i = 0; i < SkyNames.length; i++ ) {
			controls[ getBaseName( SkyNames[ i ] ) ] = false;
		}
		controls.field = -1;
		for ( var i = 0; i < FieldNames.length; i++ ) {
			controls[ getBaseName( FieldNames[ i ] ) ] = false;
		}
		controls.model = -1;
		for ( var i = 0; i < nameFiles.length; i++ ) {
			controls[ getBaseName( nameFiles[ i ] ) ] = false;
		}
		controls.loadObjFile = function () {
			elemFileInput.click();
		};
		models.add( controls, 'loadObjFile' ).name( 'OBJ/MTL/Pmd/Pmx' );
		controls.addMtl = function () {
			elemFileInput2.click();
		};
		models.add( controls, 'addMtl' ).name( 'Add Materials' );
		controls.Flight_File = function () {
			elemFileInput3.click();
		};
		setting.add( controls, 'Flight_File' ).name( 'RePlay' );
		controls.Help = function () {
			alert('ThreeFlightSim 2018.02.14 Coding by kuniyuki.tsujimoto using three.js');
		};
		models.add( controls, 'Help' ).name( 'HELP' );
	};
	function initView(){
		var files = { default: -1 };
		for ( var i = 0; i < ViewMode.length; i++ ) {
			files[ getBaseName( ViewMode[ i ] ) ] = i;
		}
		View.add( controls, 'View', files ).onChange( onChangeView );
	};
	function initSky(){
		var files = { default: -1 };
		for ( var i = 0; i < SkyNames.length; i++ ) {
			files[ getBaseName( SkyNames[ i ] ) ] = i;
		}
		skytypes.add( controls, 'skymode', files ).onChange( onChangeSky );
	};
	function initField(){
		var files = { default: -1 };
		for ( var i = 0; i < FieldNames.length; i++ ) {
			files[ getBaseName( FieldNames[ i ] ) ] = i;
		}
		fields.add( controls, 'field', files ).onChange( onChangeField );
	};
	function initModels(){
		var files = { default: -1 };
		for ( var i = 0; i < nameFiles.length; i++ ) {
			files[ getBaseName( nameFiles[ i ] ) ] = i;
		}
		models.add( controls, 'model', files ).onChange( onChangeModel );
	};
	
	function onChangeSetting(){
			;
	};
	
	function onChangePFD(){
			;
		if( Menu.PFD )
		{
			;
		}
		else
		{
			V_ctx.clearRect(   9,150,14, -150);
			V_ctx.clearRect( 279,150,14, -150);

			ctx.clearRect (0, 0, c.width,  c.height);
			ctx2.clearRect(0, 0, c.width,  c.height);
			ctx2.clearRect(0, 0, c2.width, c2.height+320);

			H_ctx.clearRect(0, 0, c.width,  c.height);
			H_ctx.clearRect(0, 0, c2.width, c2.height+320);

			V_ctx.fillRect( 0, 0, c.width,  c.height);
			V_ctx.clearRect(0, 0, c.width,  c.height);
		}
	};
	
	function onChangePLOT(){
		if( Menu.PLOT )
		{
			timerId = setInterval(PLOT, 1000);
		}
		else
		{
			Pc = 0;
			clearInterval(timerId);
			targetPlot.destroy();
		}
	};
	
	function onChangeFI(){
		if( Menu.FI )
		{
airspeed   = $.flightIndicator( '#airspeed',   'airspeed',        {                               showBox : false});
attitude   = $.flightIndicator( '#attitude',   'attitude',        { roll:50, pitch:-20, size:200, showBox : true });
altimeter  = $.flightIndicator( '#altimeter',  'altimeter',       {                               showBox : false});
turn_C     = $.flightIndicator( '#turn_C',     'turn_coordinator',{ turn:0,                       showBox : true });
heading    = $.flightIndicator( '#heading',    'heading',         { heading:150,                  showBox : false});
variometer = $.flightIndicator( '#variometer', 'variometer',      { vario:-5,                     showBox : true });
		}
		else
		{
airspeed   = $.flightIndicator( '#airspeed',   'airspeed',        {                     size:0, showBox : false});
attitude   = $.flightIndicator( '#attitude',   'attitude',        { roll:50, pitch:-20, size:0, showBox : true });
altimeter  = $.flightIndicator( '#altimeter',  'altimeter',       {                     size:0, showBox : false});
turn_C     = $.flightIndicator( '#turn_C',     'turn_coordinator',{ turn:0,             size:0, showBox : true });
heading    = $.flightIndicator( '#heading',    'heading',         { heading:150,        size:0, showBox : false});
variometer = $.flightIndicator( '#variometer', 'variometer',      { vario:-5,           size:0, showBox : true });
		}
	};
	
	function onChangeButton(){
		if( Menu.Button )
		{
			document.f1.ModelButton.style.visibility ="visible";
			document.f1.View_Button.style.visibility ="visible";
			document.f1.VTOL_Button.style.visibility ="visible";
			document.f1.OP_Button.style.visibility   ="visible";
			document.f1.STP_Button.style.visibility  ="visible";
			document.f1.Go_Button.style.visibility   ="visible";
			document.f1.Back_Button.style.visibility ="visible";
			document.f1.YR_Button.style.visibility   ="visible";
			document.f1.YL_Button.style.visibility   ="visible";
			document.f1.PU_Button.style.visibility   ="visible";
			document.f1.PD_Button.style.visibility   ="visible";
			document.f1.RR_Button.style.visibility   ="visible";
			document.f1.RL_Button.style.visibility   ="visible";
		}
		else
		{
			document.f1.ModelButton.style.visibility ="hidden";
			document.f1.View_Button.style.visibility ="hidden";
			document.f1.VTOL_Button.style.visibility ="hidden";
			document.f1.OP_Button.style.visibility   ="hidden";
			document.f1.STP_Button.style.visibility  ="hidden";
			document.f1.Go_Button.style.visibility   ="hidden";
			document.f1.Back_Button.style.visibility ="hidden";
			document.f1.YR_Button.style.visibility   ="hidden";
			document.f1.YL_Button.style.visibility   ="hidden";
			document.f1.PU_Button.style.visibility   ="hidden";
			document.f1.PD_Button.style.visibility   ="hidden";
			document.f1.RR_Button.style.visibility   ="hidden";
			document.f1.RL_Button.style.visibility   ="hidden";
		}
	};
	
	function onChangeView(){
		var index = parseInt( controls.View );
		if ( index === -1 ) {
			;
		} else {
			View_BTN_No = index;
		}
	};
	
	function onChangeSky(){
		scene.remove( Skydome );
		var index = parseInt( controls.skymode );
		if ( index === -1 ) {
			Skydome.skymode();
		} else {
			SkyType_No = index;
			SkyLoad( index );
		}
	};
	
	function onChangeField(){
		scene.remove( FLD );
		var index = parseInt( controls.field );
		if ( index === -1 ) {
			FLD.field();
		} else {
			FieldLoad( index );
		}
	};
	
	function onChangeModel(){
		scene.remove( mesh );
		var index = parseInt( controls.model );
		if ( index === -1 ) {
			mesh.model();
		} else {
			Model_BTN_No = index;
			ObjectLoad( index );
		}
	};
	
	function onChangeTry(){
		if( Menu.Try )
		{
			ChangeTxt(txt1);
		}
		else
		{
			ChangeTxt(txt3);
		}
	}
	
	function onChangeLOG(){
		if( Menu.Rec )
		{
			;
		}
		else
		{
			SaveToFile('Flight_Data.txt',Flight_Data);
			Tc = 0;
		}
	}
	
	function onChangeZoom(){
		if ( View_BTN_No == 0 )
		{
			activeCamera.position.z = camera.position.z + Menu.Zoom;
		}
		else if ( View_BTN_No == 1 )
		{
			activeCamera.position.z = camera0.position.z + Menu.Zoom;
		}
		else if ( View_BTN_No == 2 )
		{
			activeCamera.position.z = camera1.position.z + Menu.Zoom;
		}
		else if ( View_BTN_No == 3 )
		{
			activeCamera.position.z = P.z + 15 + Menu.Zoom;
		}
		else if ( View_BTN_No == 4 )
		{
			activeCamera.position.z = camera3.position.z + Menu.Zoom;
		}
		else if ( ( View_BTN_No == 5 ) && ( Menu.AI1 ) )
		{
			activeCamera.position.z = P1.z + 20 + Menu.Zoom;
		}
		else if ( ( View_BTN_No == 6 ) && ( Menu.AI1 ) )
		{
			activeCamera.position.z = camera5.position.z + Menu.Zoom;
		}
		else if ( ( View_BTN_No == 7 ) && ( Menu.AI2 ) )
		{
			activeCamera.position.z = P2.z + 20 + Menu.Zoom;
		}
		else if ( View_BTN_No == 8 ) 
		{
			activeCamera.position.z = camera7.position.z + Menu.Zoom;
		}
		else if ( View_BTN_No == 9 ) 
		{
			activeCamera.position.z = camera8.position.z + Menu.Zoom;
		}
		else if ( View_BTN_No == 10 )
		{ // Walk
			activeCamera.position.z = camera1.position.z + Menu.Zoom;
		}
	}
	initControls();
	initSetting ();
	initView();
	initSky();
	initField();
	initModels();
}
/*----------------------------------------------------------------------------*/
// AI1,AI2 Load
/*----------------------------------------------------------------------------*/
	function onChangeAI1(){
		if( Menu.AI1 )
		{// Model-AI1 ( Delta )
			object = new THREE.Mesh( meshGeometry1, meshMaterial1 );
			object.scale.set( 0.3, 0.3, 0.3 );
			mesh_AI1.add(object);
			mesh_AI1.add(camera5);
			scene.add( mesh_AI1 );
		}
		else
		{
			scene.remove( mesh_AI1 );
		}
	};
	function onChangeAI2(){
		if(( Menu.AI2 )&& ( SkyType_No != 4 ))
		{// Takanami)
			mtlLoader.load( 'takanami.mtl', function( materials ) {
				materials.preload();
				objLoader = new THREE.OBJLoader();
				objLoader.setMaterials( materials );
				objLoader.setPath( 'mmd/' );
				objLoader.load( 'takanami.obj', function ( object ) {
					mesh_AI2 = object;
					mesh_AI2.scale.set( 0.5, 0.5, 0.5 );
					mesh_AI2.position.set( -200, 0, 0);
					mesh_AI2.add(camera6);
				}, null, null );
			});
		}
		else if (( Menu.AI2 )&& ( SkyType_No == 4 ))
		{// 999
			mtlLoader.load( '999.mtl', function( materials ) {
				materials.preload();
				objLoader = new THREE.OBJLoader();
				objLoader.setMaterials( materials );
				objLoader.setPath( 'mmd/' );
				objLoader.load( '999.obj', function ( object ) {
					mesh_AI2 = object;
					mesh_AI2.scale.set( 80, 80, 80 );
					mesh_AI2.position.set( 10, 0, 0);
					mesh_AI2.rotation.set(0, 0.7, 0);
					mesh_AI2.add(camera6);
				}, null, null );
			});
			scene.add( mesh_AI2 );
		}
		else
		{
			scene.remove( mesh_AI2 );
		}
	};
	function onChangeAI3(){
		if( Menu.AI3 )
		{// WhiteBase
			mtlLoader.load( 'WhiteBase.mtl', function( materials ) {
				materials.preload();
				objLoader = new THREE.OBJLoader();
				objLoader.setMaterials( materials );
				objLoader.setPath( 'mmd/' );
				objLoader.load( 'WhiteBase.obj', function ( object ) {
					mesh_AI3 = object;
					mesh_AI3.scale.set( 5.2, 5.2, 5.2 );
					mesh_AI3.position.set( radius * 8, 0, -50000);
					mesh_AI3.rotation.set(0, 1.0, 0);
					mesh_AI3.add(camera12);
				}, null, null );
			});
			scene.add( mesh_AI3 );
		}
		else
		{
			scene.remove( mesh_AI3 );
		}
	};
/*----------------------------------------------------------------------------*/
// WingMan Load
/*----------------------------------------------------------------------------*/
	function onChangeWingMan(){
		if( Menu.WingMan )
		{
			// Wing_man1
			mesh_Wing1 = new THREE.Mesh( meshGeometry2, meshMaterial2 );
			mesh_Wing1.scale.set( 0.3, 0.3, 0.3 );
			mesh_Wing1.position.set( 10, 1.2, -10);
			mesh_Base1.add(mesh_Wing1);
			Q_Base1 = mesh_Base1.quaternion;
			Q_Wing1 = mesh_Wing1.quaternion;
			// Wing_man2
			mesh_Wing2 = new THREE.Mesh( meshGeometry3, meshMaterial3 );
			mesh_Wing2.scale.set( 0.3, 0.3, 0.3 );
			mesh_Wing2.position.set( -10, 1.2, 10);
			mesh_Base2.add(mesh_Wing2);
			Q_Base2 = mesh_Base2.quaternion;
			Q_Wing2 = mesh_Wing2.quaternion;
			scene.add( mesh_Base1 );
			scene.add( mesh_Base2 );
		}
		else
		{
			scene.remove( mesh_Base1 );
			scene.remove( mesh_Base2 );
		}
	};
/*----------------------------------------------------------------------------*/
// Rudder Load
/*----------------------------------------------------------------------------*/
	function onChangeRudder(){
		if( Menu.Rudder )
		{
		// rudder
			var propGeometry1 = new THREE.BoxGeometry( 0.02, 1.0, 0.5);
			var propMaterial1 = new THREE.MeshLambertMaterial( { color: 'rgb(255,255,0)' } );
			var object1 = new THREE.Mesh( propGeometry1, propMaterial1 );
			object1.position.set(0.0, 0.0, 0.25);
			object1.rotation.set(0, 0, 0);
			temp_Mesh1.add( object1 );
			temp_Mesh1.position.set( 0.01, 0.7, 3.6);
			temp_Mesh1.rotation.set(0, 0,  0);
			R_rudder.add( temp_Mesh1 );
		// elevator
			var propGeometry2 = new THREE.BoxGeometry( 2.8, 0.02, 0.5 );
			var propMaterial2 = new THREE.MeshLambertMaterial( { color: 'rgb(0,255,0)' } );
			var object2 = new THREE.Mesh( propGeometry2, propMaterial2 );
			object2.position.set(0.0, 0.0, 0.25);
			object2.rotation.set(0, 0, 0);
			temp_Mesh2.add( object2 );
			temp_Mesh2.position.set( 0.0, 0.25, 3.6);
			temp_Mesh2.rotation.set(0, 0, 0);
			R_elevator.add( temp_Mesh2 );
		// aileronL
			var propGeometry3 = new THREE.BoxGeometry( 1.0, 0.02, 0.5 );
			var propMaterial3 = new THREE.MeshLambertMaterial( { color: 'rgb(0,0,255)' } );
			var object3 = new THREE.Mesh( propGeometry3, propMaterial3 );
			object3.position.set(0.0, 0.0, 0.25);
			object3.rotation.set(0, 0, 0);
			temp_Mesh3.add( object3 );
			temp_Mesh3.position.set( 2.7, -0.18, 0.9);
			temp_Mesh3.rotation.set(0, 0, 0);
			R_aileronL.add( temp_Mesh3 );
		// aileronR
			var propGeometry4 = new THREE.BoxGeometry( 1.0, 0.02, 0.5 );
			var propMaterial4 = new THREE.MeshLambertMaterial( { color: 'rgb(255,0,0)' } );
			var object4 = new THREE.Mesh( propGeometry4, propMaterial4 );
			object4.position.set(0.0, 0.0, 0.25);
			object4.rotation.set(0, 0, 0);
			temp_Mesh4.add( object4 );
			temp_Mesh4.position.set( -2.7, -0.18, 0.9);
			temp_Mesh4.rotation.set(0, 0, 0);
			R_aileronR.add( temp_Mesh4 );
		/*
		// var geometry = new THREE.CylinderGeometry( 5, 5, 20);
		// 簡易プロペラ 二枚羽根
			var propGeometry = new THREE.BoxGeometry( 1.9, 0.15, 0.01 );
			var propMaterial = new THREE.MeshLambertMaterial( { color: 'rgb(100,100,100)' } );
			propMesh2 = new THREE.Mesh( propGeometry, propMaterial );
			propMesh2.position.x = 0;
			propMesh2.position.y = 0;
			propMesh2.position.z = -1.7;
		*/
		// 簡易プロペラ 三枚羽根
			var propGeometry = new THREE.BoxGeometry( 0.95, 0.15, 0.01 );
			var propMaterial = new THREE.MeshLambertMaterial( { color: 'rgb(100,100,100)' } );
			var temp_Mesh  = new THREE.Group();
			var object = new THREE.Mesh( propGeometry, propMaterial );
			object.position.set(0.45, 0, -1.7);
			temp_Mesh5.add( object );
			temp_Mesh5.rotation.set(0, 0, 0.52);
			propMesh3.add( temp_Mesh5 );
			
			var object1 = new THREE.Mesh( propGeometry, propMaterial );
			object1.position.set(0.45, 0, -1.7);
			temp_Mesh6.add( object1 );
			temp_Mesh6.rotation.set(0, 0, 2.60);
			propMesh3.add( temp_Mesh6 );
			
			var object2 = new THREE.Mesh( propGeometry, propMaterial );
			object2.position.set(0.45, 0, -1.7);
			temp_Mesh7.add( object2 );
			temp_Mesh7.rotation.set(0, 0, 4.71);
			propMesh3.add( temp_Mesh7 );
		// 簡易操舵モデル
			var rudder_Geometry = new THREE.BoxGeometry( 0.01, 0.01, 0.01 );
			var rudder_Material = new THREE.MeshLambertMaterial( { color: 'rgb(255,0,0)' } );
			rudder_mesh = new THREE.Mesh( rudder_Geometry, rudder_Material );
			rudder_mesh.add(propMesh3);
			rudder_mesh.add(R_rudder);
			rudder_mesh.add(R_elevator);
			rudder_mesh.add(R_aileronL);
			rudder_mesh.add(R_aileronR);
			Qrudder = rudder_mesh.quaternion;
			scene.add( rudder_mesh );
		}
		else
		{
			scene.remove( rudder_mesh );
		}
	}
/*----------------------------------------------------------------------------*/
// SkyLoad
/*----------------------------------------------------------------------------*/
	function SkyLoad(SkyType_No){
		renderer.setClearColor ( 'rgb(0,150,255)' );
		if( SkyType_No == 0 )
		{// 0.sky
		// Add Sky Mesh
			sky = new THREE.Sky();
		//	scene.add( sky.mesh );
		// Add Sun
			sunSphere = new THREE.Mesh(
				new THREE.SphereBufferGeometry( 20, 16, 8 ),
				new THREE.MeshBasicMaterial( { color: 0xffffff } )
			);
			var distance                   =  500000;
			var uniforms                   = sky.uniforms;
			uniforms.turbidity.value       = 10;
			uniforms.reileigh.value        = 1;
			uniforms.luminance.value       = 1;
			uniforms.mieCoefficient.value  = 0.005;
			uniforms.mieDirectionalG.value = 0.8;
			var theta =     Math.PI * ( -0.15 - 0.5 );  // elevation / inclination   0.49 夜明け
			var phi   = 2 * Math.PI * (  0.17 - 0.5 );  // Facing front              0.25
			sunSphere.position.x = distance * Math.cos( phi );
			sunSphere.position.y = distance * Math.sin( phi ) * Math.sin( theta );
			sunSphere.position.z = distance * Math.sin( phi ) * Math.cos( theta );
			sunSphere.visible    = true;
			sky.uniforms.sunPosition.value.copy( sunSphere.position );
			scene.add( sunSphere );
/*
			sunLight.position.x = sunSphere.position.x;
			sunLight.position.y = sunSphere.position.y;
			sunLight.position.z = sunSphere.position.z;
			sunLight.lookAt( scene.position );
*/
		}
		else if( SkyType_No == 1 )
		{// skybox
var			cubeMap = new THREE.CubeTexture( [] );
			cubeMap.format = THREE.RGBFormat;
			skyloader.load( 'textures/skyboxsun25degtest.png', function ( image ) {
var				getSide = function ( x, y ) {
					var size = 1024;
					var canvas = document.createElement( 'canvas' );
					canvas.width = size;
					canvas.height = size;
					var context = canvas.getContext( '2d' );
					context.drawImage( image, - x * size, - y * size );
					return canvas;
				};
				cubeMap.images[ 0 ] = getSide( 2, 1 ); // px
				cubeMap.images[ 1 ] = getSide( 0, 1 ); // nx
				cubeMap.images[ 2 ] = getSide( 1, 0 ); // py
				cubeMap.images[ 3 ] = getSide( 1, 2 ); // ny
				cubeMap.images[ 4 ] = getSide( 1, 1 ); // pz
				cubeMap.images[ 5 ] = getSide( 3, 1 ); // nz
				cubeMap.needsUpdate = true;
			} );
			var cubeShader = THREE.ShaderLib[ 'cube' ];
			cubeShader.uniforms[ 'tCube' ].value = cubeMap;
			var skyBoxMaterial = new THREE.ShaderMaterial( {
				fragmentShader: cubeShader.fragmentShader,
				vertexShader: cubeShader.vertexShader,
				uniforms: cubeShader.uniforms,
				depthWrite: false,
				side: THREE.BackSide
			} );
			Skydome = new THREE.Mesh(
				new THREE.BoxGeometry( 500000, 500000, 500000 ),
				skyBoxMaterial
			);
			scene.add( Skydome );
		}
		else if(SkyType_No == 2 )
		{// BlueSky 青空
var			textureLoader = new THREE.TextureLoader();
var			materialNormalMap = new THREE.MeshPhongMaterial( {
				side: THREE.BackSide,
				map: textureLoader.load( "mmd/Skydome/X501.jpg" ),
			} );
var			geometry = new THREE.SphereGeometry( 100000, 100, 100 );
			Skydome = new THREE.Mesh( geometry, materialNormalMap );
			scene.add( Skydome );
		}
		else if(SkyType_No == 3 )
		{// Stars
var			textureLoader = new THREE.TextureLoader();
var			materialNormalMap = new THREE.MeshPhongMaterial( {
				side: THREE.BackSide,
				map: textureLoader.load( "mmd/Skydome/118.jpg" ),
			} );
var			geometry = new THREE.SphereGeometry( 100000, 100, 100 );
			Skydome = new THREE.Mesh( geometry, materialNormalMap );
			Skydome.rotation.set( 1.0, 0, 1.0 );
			scene.add( Skydome );
		}
		else if(SkyType_No == 4 )
		{// Space
			renderer.setClearColor ( 'rgb(0,0,0)' );
			sky = new THREE.Sky();
		// Add Sun Helper
			sunSphere = new THREE.Mesh(
				new THREE.SphereBufferGeometry( 20, 16, 8 ),
				new THREE.MeshBasicMaterial( { color: 0xffffff } )
			);
			var distance                   =  500000;
			var uniforms                   = sky.uniforms;
			uniforms.turbidity.value       = 10;
			uniforms.reileigh.value        = 1;
			uniforms.luminance.value       = 1;
			uniforms.mieCoefficient.value  = 0.005;
			uniforms.mieDirectionalG.value = 0.8;
			var theta =     Math.PI * ( -0.15 - 0.5 );  // elevation / inclination   0.49 夜明け
			var phi   = 2 * Math.PI * (  0.17 - 0.5 );  // Facing front              0.25
			sunSphere.position.x = distance * Math.cos( phi );
			sunSphere.position.y = distance * Math.sin( phi ) * Math.sin( theta );
			sunSphere.position.z = distance * Math.sin( phi ) * Math.cos( theta );
			sunSphere.scale.set( SunScale, SunScale, SunScale );
			sunSphere.visible    = true;
			sky.uniforms.sunPosition.value.copy( sunSphere.position );
			scene.add( sunSphere );
		// Light
        		sunLight = new THREE.SpotLight( 0xffcccc, 1, 0, Math.PI / 2 );
		//	sunLight = new THREE.DirectionalLight( 0xffffff );
var			textureLoader = new THREE.TextureLoader();
var			materialNormalMap = new THREE.MeshPhongMaterial( {
				specular: 0x333333,
				shininess: 15,
				map: textureLoader.load( "textures/planets/earth_atmos_2048.jpg" ),
				specularMap: textureLoader.load( "textures/planets/earth_specular_2048.jpg" ),
				normalMap: textureLoader.load( "textures/planets/earth_normal_2048.jpg" ),
				normalScale: new THREE.Vector2( 0.85, 0.85 )
			} );
			dirLight = new THREE.DirectionalLight( 0xffffff );
			dirLight.position.x = sunSphere.position.x;
			dirLight.position.y = sunSphere.position.y;
			dirLight.position.z = sunSphere.position.z;
			dirLight.lookAt( scene.position );
			dirLight.castShadow = true;
			dirLight.shadow = new THREE.LightShadow( new THREE.PerspectiveCamera( 50, 1, 1200, 1000 ) );
			dirLight.shadow.bias = 0.0001;
			dirLight.shadow.camera.near = 500;
			dirLight.shadow.camera.far = 90000;
			dirLight.shadow.camera.top = 40;
			dirLight.shadow.camera.bottom = -40;
			dirLight.shadow.camera.left = 40;
			dirLight.shadow.camera.right = -40;
			dirLight.shadow.mapSize.width = SHADOW_MAP_WIDTH;
			dirLight.shadow.mapSize.height = SHADOW_MAP_HEIGHT;
			scene.add( dirLight );
		// moon
			geometry = new THREE.SphereGeometry( radius, 100, 50 );
var			materialMoon = new THREE.MeshPhongMaterial( {
				map: textureLoader.load( "textures/planets/moon_1024.jpg" )
			} );
			meshMoon = new THREE.Mesh( geometry, materialMoon );
			meshMoon.position.set( radius * 5, 0, 0 );
			meshMoon.scale.set( moonScale, moonScale, moonScale );
			Moon_Obit.add(meshMoon);
			Moon_Obit.position.set( radius * 8, 5000, -50000 );
		// planet
			meshPlanet = new THREE.Mesh( geometry, materialNormalMap );
			meshPlanet.position.set( radius * 8, 5000, -50000 );
		// clouds
var			materialClouds = new THREE.MeshLambertMaterial( {
				map: textureLoader.load( "textures/planets/earth_clouds_1024.png" ),
				transparent: true
			} );
			mesh_AI1louds = new THREE.Mesh( geometry, materialClouds );
			mesh_AI1louds.scale.set( cloudsScale, cloudsScale, cloudsScale );
			mesh_AI1louds.position.set( radius * 8, 5000, -50000 );
		// Sun
var			materialSun = new THREE.MeshPhongMaterial( {
				map: textureLoader.load( "obj/Sun.jpg" )
			} );
			Sun_mesh = new THREE.Mesh( geometry, materialSun );
			Sun_mesh.position.x = sunSphere.position.x;
			Sun_mesh.position.y = sunSphere.position.y;
			Sun_mesh.position.z = sunSphere.position.z;
			Sun_mesh.scale.set( 5, 5, 5 );
		// Mercury
var			materialMercury = new THREE.MeshPhongMaterial( {
				map: textureLoader.load( "obj/Mercury.jpg" )
			} );
			Mercury_mesh = new THREE.Mesh( geometry, materialMercury );
			Mercury_mesh.position.set( radius * 5 -100000, 50000, -60000 );
			Mercury_mesh.scale.set( 0.3, 0.3, 0.3 );
		// Venus
var			materialVenus = new THREE.MeshPhongMaterial( {
				map: textureLoader.load( "obj/Venus.jpg" )
			} );
			Venus_mesh = new THREE.Mesh( geometry, materialVenus );
			Venus_mesh.position.set( radius * 5 -60000, 15000, -60000 );
			Venus_mesh.scale.set( 1, 1, 1 );
		// Mars
var			materialMars = new THREE.MeshPhongMaterial( {
				map: textureLoader.load( "obj/Mars2.jpg" )
			} );
			Mars_mesh = new THREE.Mesh( geometry, materialMars );
			Mars_mesh.position.set( radius * 5 -5000, 5000, -80000 );
			Mars_mesh.scale.set( 0.6, 0.6, 0.6 );
		// Jupiter
var			materialJupiter = new THREE.MeshPhongMaterial( {
				map: textureLoader.load( "obj/Jupiter.jpg" )
			} );
			Jupiter_mesh = new THREE.Mesh( geometry, materialJupiter );
			Jupiter_mesh.position.set( radius * 5 -10000,100000, -900000 );
			Jupiter_mesh.scale.set( 5, 5, 5 );
		// Saturn
var			materialSaturn = new THREE.MeshPhongMaterial( {
				map: textureLoader.load( "obj/Saturn.jpg" )
			} );
			Saturn_mesh = new THREE.Mesh( geometry, materialSaturn );
			Saturn_mesh.add(Ring_mesh);
			Saturn_mesh.add(Ring2_mesh);
			Saturn_mesh.position.set( radius * 5 -170000, 50000, -1200000 );
			Saturn_mesh.scale.set( 5, 5, 5 );
			textureLoader.setPath( 'obj/' );
			textureLoader.load( 'Ring.jpg', function ( texture ) {
				var geometry = new THREE.CircleGeometry( 1.3, 20, 20 );
				var material = new THREE.MeshBasicMaterial( { map: texture, overdraw: 0.5 } );
				Ring_mesh = new THREE.Mesh( geometry, material );
				Ring2_mesh = new THREE.Mesh( geometry, material );
				Ring_mesh.rotation.set  (   1.45, 0, 0 );
				Ring_mesh.position.set  (  radius * 5 -170000, 50000, -1200000 );
				Ring2_mesh.rotation.set (  -1.69, 0, 0 );
				Ring2_mesh.position.set (  radius * 5 -170000, 50000, -1200000 );
				Ring_mesh.scale.set( radius*10, radius*10, radius*10 );
				Ring2_mesh.scale.set( radius*10, radius*10, radius*10 );
			} );
		// stars
var			i;
			for ( i = 0; i < 250; i ++ ) {
var				vertex = new THREE.Vector3();
				vertex.x = Math.random() * 2 - 1;
				vertex.y = Math.random() * 2 - 1;
				vertex.z = Math.random() * 2 - 1;
				vertex.multiplyScalar( r );
				starsGeometry[ 0 ].vertices.push( vertex );
			}
			for ( i = 0; i < 1500; i ++ ) {
var				vertex = new THREE.Vector3();
				vertex.x = Math.random() * 2 - 1;
				vertex.y = Math.random() * 2 - 1;
				vertex.z = Math.random() * 2 - 1;
				vertex.multiplyScalar( r );
				starsGeometry[ 1 ].vertices.push( vertex );
			}
			for ( i = 10; i < 30; i ++ ) {
				stars = new THREE.Points( starsGeometry[ i % 2 ], starsMaterials[ i % 6 ] );
				stars.rotation.x = Math.random() * 6;
				stars.rotation.y = Math.random() * 6;
				stars.rotation.z = Math.random() * 6;
				s = i * 13;
				stars.scale.set( s, s, s );
				scene.add( stars );
			}
			if (ua.isiPhone) {
				alert("iPhoneの場合particleSystemは読み込めません");
			}
			else
			{
				scene.add(particleSystem);
			}
			scene.add( Ring_mesh );
			scene.add( Ring2_mesh );
			scene.add( Saturn_mesh );
			scene.add( Jupiter_mesh );
			scene.add( Mars_mesh );
			scene.add( Venus_mesh );
			scene.add( Mercury_mesh );
			scene.add( Sun_mesh );
			scene.add( mesh_AI1louds );
			scene.add( Moon_Obit );
			scene.add( meshPlanet );
		// ISS
			mtlLoader.load( 'ISS.mtl', function( materials ) {
				materials.preload();
				var objLoader = new THREE.OBJLoader();
				objLoader.setMaterials( materials );
				objLoader.setPath( 'mmd/' );
				objLoader.load( 'ISS.obj', function ( object ) {
					object.scale.set( 1000, 1000, 1000 );
					object.position.set( 0, 10000, 0 );
					object.rotation.set( 0, 0, 0 );
					ISS = object;
					ISS.add(camera8);
					ISS_Obit.add( ISS );
					Earth_Obit.add( ISS_Obit )
					Earth_Obit.position.set( radius * 8, 5000, -50000 );
					scene.add( Earth_Obit );
				}, null, null );
			});
		// shuttle
			mtlLoader.load( 'shuttle.mtl', function( materials ) {
				materials.preload();
				var objLoader = new THREE.OBJLoader();
				objLoader.setMaterials( materials );
				objLoader.setPath( 'mmd/' );
				objLoader.load( 'shuttle.obj', function ( object ) {
					object.scale.set( 3, 3, 3 );
					object.position.set( 0, 9700, -600 );
					object.rotation.set( 1.57, 0, 0 );
					shuttle = object;
					ISS_Obit.add( shuttle );
				//	ISS.add( shuttle );
				}, null, null );
			});
		// Luna Module 5
			mtlLoader.load( 'LM5.mtl', function( materials ) {
				materials.preload();
				var objLoader = new THREE.OBJLoader();
				objLoader.setMaterials( materials );
				objLoader.setPath( 'mmd/' );
				objLoader.load( 'LM5.obj', function ( object ) {
					object.scale.set( 100, 100, 100 );
					LM5 = object;
					LM5.add(camera9);
					LM5.position.set( 0, radius, 0 );
					LM5_Obit.add(LM5);
					LM5_Obit.rotation.set( 0.3, 0, 0 );
					meshMoon.add(LM5_Obit);
				}, null, null );
			});
		// ML
			mtlLoader.load( 'ML.mtl', function( materials ) {
				materials.preload();
				var objLoader = new THREE.OBJLoader();
				objLoader.setMaterials( materials );
				objLoader.setPath( 'mmd/' );
				objLoader.load( 'ML.obj', function ( object ) {
					object.scale.set( 5, 5, 5 );
					ML = object;
					ML.add(camera10);
					ML.position.set( 0, radius, 0 );
					ML_Obit.add(ML);
					ML_Obit.rotation.set( 2.44, 0.3, 2.51 );
					meshPlanet.add(ML_Obit);
				}, null, null );
			});
		}
		else if(SkyType_No == 5 )
		{// None
			scene.remove( dirLight );
			scene.remove( sky.mesh );
			scene.remove( Skydome );
			scene.remove( Ring_mesh );
			scene.remove( Ring2_mesh );
			scene.remove( Saturn_mesh );
			scene.remove( Jupiter_mesh );
			scene.remove( Mars_mesh );
			scene.remove( Venus_mesh );
			scene.remove( Mercury_mesh );
			scene.remove( Sun_mesh );
			scene.remove( mesh_AI1louds );
			scene.remove( Moon_Obit );
			scene.remove( meshPlanet );
			for ( i = 10; i < 30; i ++ ) {
				stars = new THREE.Points( starsGeometry[ i % 2 ], starsMaterials[ i % 6 ] );
				scene.remove( stars );
			}
		}
	};
/*----------------------------------------------------------------------------*/
// FieldLoad
/*----------------------------------------------------------------------------*/
	function baseField(){
	// 2.Lawn/Grass
		pos.set( 50, - 0.5,-100 );
		quat.set( 0, 0, 0, 1 );
		GreenMesh2 = createParalellepipedWithPhysics( 300, 1, 450, 0, pos, quat, new THREE.MeshPhongMaterial( { color: 'rgb( 80, 160, 20)' } ) );
		GreenMesh2.receiveShadow = true;
		textureLoader.load( "textures/terrain/grasslight-big.jpg", function( texture ) {
			texture.wrapS = THREE.RepeatWrapping;
			texture.wrapT = THREE.RepeatWrapping;
			texture.repeat.set( 40, 40 );
			GreenMesh2.material.map = texture;
			GreenMesh2.material.needsUpdate = true;
			scene.add( GreenMesh2 );
		} );
	// 3.Sea
var		SeaGeometry = new THREE.BoxGeometry( 10000, 0.01, 10000 );
var		SeaMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
		SeaMesh = new THREE.Mesh( SeaGeometry, SeaMaterial );
		SeaMesh.position.y = -10;
		waterNormals.repeat.set( 50, 50 );
		SeaMesh.material.map = waterNormals;
		SeaMesh.material.needsUpdate = true;
		scene.add(SeaMesh);
	// 16.Runway
var		groundGeometry = new THREE.BoxGeometry(  24, 0.01, 800 );
var		LineGeometry  = new THREE.BoxGeometry( 0.3, 0.01, 700 );
var		groundMaterial = new THREE.MeshLambertMaterial( { color: 'rgb(100,100,100)' } );
var		WLineMaterial   = new THREE.MeshLambertMaterial( { color: 'rgb(255,255,255)' } );
var		YLineMaterial   = new THREE.MeshLambertMaterial( { color: 'rgb(255,255,0  )' } );
var		CLineMesh  = new THREE.Mesh( LineGeometry, WLineMaterial );
var		LLineMesh  = new THREE.Mesh( LineGeometry, YLineMaterial );
var		RLineMesh  = new THREE.Mesh( LineGeometry, YLineMaterial );
		LLineMesh.position.x = -11;
		RLineMesh.position.x =  11;
		groundMesh = new THREE.Mesh( groundGeometry, groundMaterial );
		groundMesh.add(CLineMesh);
		groundMesh.add(LLineMesh);
		groundMesh.add(RLineMesh);
		groundMesh.position.z = -300;
		scene.add( groundMesh );
	// Geometry Object
var		hanger_Geo = new THREE.PolyhedronGeometry ( hanger_vertices, hanger_Faces, 10, 0 );
var		hanger_Mat = new THREE.MeshLambertMaterial ( { color: 'rgb(100,150, 150)', emissive: 0x000000 } );
		hanger = new THREE.Mesh( hanger_Geo, hanger_Mat );
		hanger.scale.set( 1.5, 1, 1 );
		hanger.position.set(   50, 0,  -10);
		hanger.rotation.set(0, -1.57,   0);
		scene.add( hanger );
	// C172A
		mtlLoader.load( 'prop_c172a.mtl', function( materials ) {
			materials.preload();
			objLoader = new THREE.OBJLoader();
			objLoader.setMaterials( materials );
			objLoader.setPath( 'mmd/' );
			objLoader.load( 'prop_c172a.obj', function ( object ) {
				object.scale.set(  1, 1, 1  );
				object.position.set( 0, 0, 0);
				C172A_propMesh = object;
			}, null, null );
		});
		
		mtlLoader.load( 'c172a.mtl', function( materials ) {
			materials.preload();
			objLoader = new THREE.OBJLoader();
			objLoader.setMaterials( materials );
			objLoader.setPath( 'mmd/' );
			objLoader.load( 'c172a.obj', function ( object ) {
				object.scale.set( 0.15, 0.15, 0.15 );
				hanger_Plane = object;
				hanger_Plane.add(C172A_propMesh);
				hanger_Plane.position.set( 47.5, 2, -10);
				hanger_Plane.rotation.set(  0,  1.57,   0);
				scene.add( hanger_Plane );
			}, null, null );
		});
	};
/*----------------------------------------------------------------------------*/
// FieldLoad
/*----------------------------------------------------------------------------*/
	function FieldLoad(Field_No){
		if( Field_No == 0 )
		{// 0.メッシュ
		// GridHelper作成
			grid = new THREE.GridHelper(100, 100);
			grid.material.color = new THREE.Color( 0x00cccc);
			scene.add( grid );
		// helper
/*
			var directionalLightHelper = new THREE.DirectionalLightHelper(sunLight);
			scene.add( directionalLightHelper );
			directionalLightShadowHelper = new THREE.CameraHelper( sunLight.shadow.camera);
			scene.add( directionalLightShadowHelper );
*/
			var directionalLightHelper = new THREE.DirectionalLightHelper(dirLight);
			scene.add( directionalLightHelper);
			var directionalLightShadowHelper = new THREE.CameraHelper( dirLight.shadow.camera);
			scene.add( directionalLightShadowHelper);
		}
		else if(Field_No == 1 )
		{// 1.誘導リング GuideRing
			var Torusmaterial = new THREE.MeshLambertMaterial( { color: 0xFFFF00, wireframe:false,transparent: true, opacity: 0.3 } );
			var Torus0   = new THREE.Mesh( new THREE.TorusGeometry( 5, 0.2, 20, 20, Math.PI * 2 ), Torusmaterial );
			var Torus1   = new THREE.Mesh( new THREE.TorusGeometry( 5, 0.2, 20, 20, Math.PI * 2 ), Torusmaterial );
			var Torus2   = new THREE.Mesh( new THREE.TorusGeometry( 5, 0.2, 20, 20, Math.PI * 2 ), Torusmaterial );
			var Torus3   = new THREE.Mesh( new THREE.TorusGeometry( 5, 0.2, 20, 20, Math.PI * 2 ), Torusmaterial );
			var Torus4   = new THREE.Mesh( new THREE.TorusGeometry( 5, 0.2, 20, 20, Math.PI * 2 ), Torusmaterial );
			var Torus5   = new THREE.Mesh( new THREE.TorusGeometry( 5, 0.2, 20, 20, Math.PI * 2 ), Torusmaterial );
			var Torus6   = new THREE.Mesh( new THREE.TorusGeometry( 5, 0.2, 20, 20, Math.PI * 2 ), Torusmaterial );
			var Torus7   = new THREE.Mesh( new THREE.TorusGeometry( 5, 0.2, 20, 20, Math.PI * 2 ), Torusmaterial );
			var Torus8   = new THREE.Mesh( new THREE.TorusGeometry( 5, 0.2, 20, 20, Math.PI * 2 ), Torusmaterial );
			var Torus9   = new THREE.Mesh( new THREE.TorusGeometry( 5, 0.2, 20, 20, Math.PI * 2 ), Torusmaterial );
			var Torus10  = new THREE.Mesh( new THREE.TorusGeometry( 5, 0.2, 20, 20, Math.PI * 2 ), Torusmaterial );
			var Torus11  = new THREE.Mesh( new THREE.TorusGeometry( 5, 0.2, 20, 20, Math.PI * 2 ), Torusmaterial );
			var Torus12  = new THREE.Mesh( new THREE.TorusGeometry( 5, 0.2, 20, 20, Math.PI * 2 ), Torusmaterial );
			var Torus13  = new THREE.Mesh( new THREE.TorusGeometry( 5, 0.2, 20, 20, Math.PI * 2 ), Torusmaterial );
			var Torus14  = new THREE.Mesh( new THREE.TorusGeometry( 5, 0.2, 20, 20, Math.PI * 2 ), Torusmaterial );
			var Torus15  = new THREE.Mesh( new THREE.TorusGeometry( 5, 0.2, 20, 20, Math.PI * 2 ), Torusmaterial );
			var Torus16  = new THREE.Mesh( new THREE.TorusGeometry( 5, 0.2, 20, 20, Math.PI * 2 ), Torusmaterial );
			var Torus17  = new THREE.Mesh( new THREE.TorusGeometry( 5, 0.2, 20, 20, Math.PI * 2 ), Torusmaterial );
			var Torus18  = new THREE.Mesh( new THREE.TorusGeometry( 5, 0.2, 20, 20, Math.PI * 2 ), Torusmaterial );
			var Torus19  = new THREE.Mesh( new THREE.TorusGeometry( 5, 0.2, 20, 20, Math.PI * 2 ), Torusmaterial );
			var Torus20  = new THREE.Mesh( new THREE.TorusGeometry( 5, 0.2, 20, 20, Math.PI * 2 ), Torusmaterial );
			var Torus21  = new THREE.Mesh( new THREE.TorusGeometry( 5, 0.2, 20, 20, Math.PI * 2 ), Torusmaterial );
			var Torus22  = new THREE.Mesh( new THREE.TorusGeometry( 5, 0.2, 20, 20, Math.PI * 2 ), Torusmaterial );
			var Torus23  = new THREE.Mesh( new THREE.TorusGeometry( 5, 0.2, 20, 20, Math.PI * 2 ), Torusmaterial );
			var Torus24  = new THREE.Mesh( new THREE.TorusGeometry( 5, 0.2, 20, 20, Math.PI * 2 ), Torusmaterial );
			var Torus25  = new THREE.Mesh( new THREE.TorusGeometry( 5, 0.2, 20, 20, Math.PI * 2 ), Torusmaterial );
			var Torus26  = new THREE.Mesh( new THREE.TorusGeometry( 5, 0.2, 20, 20, Math.PI * 2 ), Torusmaterial );
			var Torus27  = new THREE.Mesh( new THREE.TorusGeometry( 5, 0.2, 20, 20, Math.PI * 2 ), Torusmaterial );
			var Torus28  = new THREE.Mesh( new THREE.TorusGeometry( 5, 0.2, 20, 20, Math.PI * 2 ), Torusmaterial );
			var Torus29  = new THREE.Mesh( new THREE.TorusGeometry( 5, 0.2, 20, 20, Math.PI * 2 ), Torusmaterial );
			Torus0.position.set(    0,  0,    0 );Torus.rotation.set (  0, 0, 0 );
			Torus1.position.set(    0,  0,  -20 );Torus1.rotation.set(  0, 0, 0 );
			Torus2.position.set(    0, 10, -100 );Torus2.rotation.set(  0, 0, 0 );
			Torus3.position.set(    0, 20, -150 );Torus3.rotation.set(  0, 0, 0 );
			Torus4.position.set(    0, 30, -200 );Torus4.rotation.set(  0, 0, 0 );
			Torus5.position.set(    0, 40, -250 );Torus5.rotation.set(  0, 0, 0 );
			Torus6.position.set(    0, 50, -300 );Torus6.rotation.set(  0, 0, 0 );
			Torus7.position.set(    0, 50, -350 );Torus7.rotation.set(  0, 0, 0 );
			Torus8.position.set(   10, 50, -400 );Torus8.rotation.set(  0, 0, 0 );
			Torus9.position.set(   20, 50, -450 );Torus9.rotation.set(  0, 0, 0 );
			Torus10.position.set(  30, 50, -500 );Torus10.rotation.set( 0, 0, 0 );
			Torus11.position.set(  40, 50, -450 );Torus11.rotation.set( 0, 0, 0 );
			Torus12.position.set(  50, 50, -400 );Torus12.rotation.set( 0, 0, 0 );
			Torus13.position.set(  60, 50, -300 );Torus13.rotation.set( 0, 0, 0 );
			Torus14.position.set(  60, 50, -100 );Torus14.rotation.set( 0, 0, 0 );
			Torus15.position.set(  60, 50,    0 );Torus15.rotation.set( 0, 0, 0 );
			Torus16.position.set(  60, 50,  100 );Torus16.rotation.set( 0, 0, 0 );
			Torus17.position.set(  60, 50,  300 );Torus17.rotation.set( 0, 0, 0 );
			Torus18.position.set(  50, 50,  400 );Torus18.rotation.set( 0, 0, 0 );
			Torus19.position.set(  40, 50,  450 );Torus19.rotation.set( 0, 0, 0 );
			Torus20.position.set(  30, 50,  500 );Torus20.rotation.set( 0, 0, 0 );
			Torus21.position.set(  20, 50,  450 );Torus21.rotation.set( 0, 0, 0 );
			Torus22.position.set(  10, 50,  400 );Torus22.rotation.set( 0, 0, 0 );
			Torus23.position.set(   0, 50,  350 );Torus23.rotation.set( 0, 0, 0 );
			Torus24.position.set(   0, 50,  300 );Torus24.rotation.set( 0, 0, 0 );
			Torus25.position.set(   0, 40,  250 );Torus25.rotation.set( 0, 0, 0 );
			Torus26.position.set(   0, 30,  200 );Torus26.rotation.set( 0, 0, 0 );
			Torus27.position.set(   0, 20,  150 );Torus27.rotation.set( 0, 0, 0 );
			Torus28.position.set(   0, 10,  100 );Torus28.rotation.set( 0, 0, 0 );
			Torus29.position.set(   0,  0,   20 );Torus29.rotation.set( 0, 0, 0 );
			Torus.add( Torus0 );
			Torus.add( Torus1 );
			Torus.add( Torus2 );
			Torus.add( Torus3 );
			Torus.add( Torus4 );
			Torus.add( Torus5 );
			Torus.add( Torus6 );
			Torus.add( Torus7 );
			Torus.add( Torus8 );
			Torus.add( Torus9 );
			Torus.add( Torus10 );
			Torus.add( Torus11 );
			Torus.add( Torus12 );
			Torus.add( Torus13 );
			Torus.add( Torus14 );
			Torus.add( Torus15 );
			Torus.add( Torus16 );
			Torus.add( Torus17 );
			Torus.add( Torus18 );
			Torus.add( Torus19 );
			Torus.add( Torus20 );
			Torus.add( Torus21 );
			Torus.add( Torus22 );
			Torus.add( Torus23 );
			Torus.add( Torus24 );
			Torus.add( Torus25 );
			Torus.add( Torus26 );
			Torus.add( Torus27 );
			Torus.add( Torus28 );
			Torus.add( Torus29 );
			scene.add( Torus );
		}
		else if(Field_No == 2 )
		{// 2.Lawn/Grass
			pos.set( 50, - 0.5,-100 );
			quat.set( 0, 0, 0, 1 );
			GreenMesh2 = createParalellepipedWithPhysics( 300, 1, 450, 0, pos, quat, new THREE.MeshPhongMaterial( { color: 'rgb( 80, 160, 20)' } ) );
			GreenMesh2.receiveShadow = true;
			textureLoader.load( "textures/terrain/grasslight-big.jpg", function( texture ) {
				texture.wrapS = THREE.RepeatWrapping;
				texture.wrapT = THREE.RepeatWrapping;
				texture.repeat.set( 40, 40 );
				GreenMesh2.material.map = texture;
				GreenMesh2.material.needsUpdate = true;
				scene.add( GreenMesh2 );
			} );
		}
		else if(Field_No == 3 )
		{// 3.Sea
var			SeaGeometry = new THREE.BoxGeometry( 10000, 0.01, 10000 );
var			SeaMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
			SeaMesh = new THREE.Mesh( SeaGeometry, SeaMaterial );
			SeaMesh.position.y = -10;
			waterNormals.repeat.set( 50, 50 );
			SeaMesh.material.map = waterNormals;
			SeaMesh.material.needsUpdate = true;
			scene.add(SeaMesh);
		}
		else if(Field_No == 4 )
		{// 4.Water
			WaterMesh = new THREE.Mesh(
				new THREE.PlaneBufferGeometry( parameters.width * 500, parameters.height * 500 ),
				water.material
			);
			WaterMesh.add( water );
			WaterMesh.rotation.x = -Math.PI * 0.5;
			WaterMesh.position.y = -10;
			scene.add( WaterMesh );
		}
		else if(Field_No == 5 )
		{// 5.Block&Cloth
var			brickMass = 0.5;
var			brickLength = 1.2;
var			brickDepth = 0.6;
var			brickHeight = brickLength * 0.5;
var			numBricksLength = 4;
var			numBricksHeight = 3;
			//
var			x0 = - numBricksLength * brickLength * 0.5 -30;
			pos.set( x0, brickHeight * 0.5, -25 );
			quat.set( 0, 0, 0, 1 );
			for ( var j = 0; j < numBricksHeight; j ++ ) {
				var oddRow = ( j % 2 ) == 1;
				pos.x = x0;
				if ( oddRow ) {
					pos.x -= 0.25 * brickDepth;
				}
var				nRow = oddRow? numBricksLength + 1 : numBricksLength;
				for ( var i = 0; i < nRow; i ++ ) {
var					brickLengthCurrent = brickDepth;
var					brickMassCurrent = brickMass;
					if ( oddRow && ( i == 0 || i == nRow - 1 ) ) {
						brickLengthCurrent *= 0.5;
						brickMassCurrent *= 0.5;
					}
var					brick = createParalellepiped( brickLengthCurrent, brickHeight, brickDepth, brickMassCurrent, pos, quat, createMaterial() );
					brick.castShadow = true;
					brick.receiveShadow = true;
					if ( oddRow && ( i == 0 || i == nRow - 2 ) ) {
						pos.x += 0.75 * brickDepth;
					}
					else {
						pos.x += brickDepth;
					}
				}
				pos.y += brickHeight;
			}
			//
var			z0 = - numBricksLength * brickLength * 0.5 -25;
			pos.set( -30, brickHeight * 0.5, z0 );
			quat.set( 0, 0, 0, 1 );
			for ( var j = 0; j < numBricksHeight; j ++ ) {
				var oddRow = ( j % 2 ) == 1;
				pos.z = z0;
				if ( oddRow ) {
					pos.z -= 0.25 * brickHeight;
				}
var				nRow = oddRow? numBricksLength + 1 : numBricksLength;
				for ( var i = 0; i < nRow; i ++ ) {
var					brickLengthCurrent = brickHeight;
var					brickMassCurrent = brickMass;
					if ( oddRow && ( i == 0 || i == nRow - 1 ) ) {
						brickLengthCurrent *= 0.5;
						brickMassCurrent *= 0.5;
					}
var					brick = createParalellepiped( brickDepth, brickHeight, brickLengthCurrent, brickMassCurrent, pos, quat, createMaterial() );
					brick.castShadow = true;
					brick.receiveShadow = true;
					if ( oddRow && ( i == 0 || i == nRow - 2 ) ) {
						pos.z += 0.75 * brickHeight;
					}
					else {
						pos.z += brickHeight;
					}
				}
				pos.y += brickHeight;
			}
		// The cloth Cloth graphic object
			//var clothGeometry = new THREE.BufferGeometry();
			var clothGeometry = new THREE.PlaneBufferGeometry( clothWidth, clothHeight, clothNumSegmentsZ, clothNumSegmentsY );
			clothGeometry.rotateY( Math.PI * 0.5 );
			clothGeometry.translate( clothPos.x, clothPos.y + clothHeight * 0.5, clothPos.z - clothWidth * 0.5 );
			//var clothMaterial = new THREE.MeshLambertMaterial( { color: 0x0030A0, side: THREE.DoubleSide } );
			var clothMaterial = new THREE.MeshLambertMaterial( { color: 0xFFFFFF, side: THREE.DoubleSide } );
			cloth = new THREE.Mesh( clothGeometry, clothMaterial );
			cloth.castShadow = true;
			cloth.receiveShadow = true;
			scene.add( cloth );
			textureLoader.load( "textures/cloth.jpg", function( texture ) {
				texture.wrapS = THREE.RepeatWrapping;
				texture.wrapT = THREE.RepeatWrapping;
				texture.repeat.set( clothNumSegmentsZ, clothNumSegmentsY );
				cloth.material.map = texture;
				cloth.material.needsUpdate = true;
			} );
		// Cloth physic object
var			softBodyHelpers = new Ammo.btSoftBodyHelpers();
var			clothCorner00 = new Ammo.btVector3( clothPos.x, clothPos.y + clothHeight, clothPos.z );
var			clothCorner01 = new Ammo.btVector3( clothPos.x, clothPos.y + clothHeight, clothPos.z - clothWidth );
var			clothCorner10 = new Ammo.btVector3( clothPos.x, clothPos.y, clothPos.z );
var			clothCorner11 = new Ammo.btVector3( clothPos.x, clothPos.y, clothPos.z - clothWidth );
var			clothSoftBody = softBodyHelpers.CreatePatch( physicsWorld1.getWorldInfo(), clothCorner00, clothCorner01, clothCorner10, clothCorner11, clothNumSegmentsZ + 1, clothNumSegmentsY + 1, 0, true );
var			sbConfig = clothSoftBody.get_m_cfg();
			sbConfig.set_viterations( 10 );
			sbConfig.set_piterations( 10 );
			clothSoftBody.setTotalMass( 0.9, false );
			Ammo.castObject( clothSoftBody, Ammo.btCollisionObject ).getCollisionShape().setMargin( margin * 3 );
			physicsWorld1.addSoftBody( clothSoftBody, 1, -1 );
			cloth.userData.physicsBody = clothSoftBody;
		// Disable deactivation
			clothSoftBody.setActivationState( 4 );
		// Glue the cloth to the arm
var			influence = 0.5;
			clothSoftBody.appendAnchor( 0, arm.userData.physicsBody, false, influence );
			clothSoftBody.appendAnchor( clothNumSegmentsZ, arm.userData.physicsBody, false, influence );
		// The base
			pos.set( clothPos.x, 0.1, clothPos.z - armLength );
			quat.set( 0, 0, 0, 1 );
var			base = createParalellepiped( 1, 0.2, 1, 0, pos, quat, baseMaterial );
			base.castShadow = true;
			base.receiveShadow = true;
			pos.set( clothPos.x, 0.5 * pylonHeight, clothPos.z - armLength );
			pylon = createParalellepiped( 0.4, pylonHeight, 0.4, 0, pos, quat, baseMaterial );
			pylon.castShadow = true;
			pylon.receiveShadow = true;
			pos.set( clothPos.x, pylonHeight + 0.2, clothPos.z - 0.5 * armLength );
var			arm = createParalellepiped( 0.4, 0.4, armLength + 0.4, armMass, pos, quat, baseMaterial );
			arm.castShadow = true;
			arm.receiveShadow = true;
		// Hinge constraint to move the arm
var			pivotA = new Ammo.btVector3( 0, pylonHeight * 0.5, 0 );
var			pivotB = new Ammo.btVector3( 0, -0.2, - armLength * 0.5 );
var			axis = new Ammo.btVector3( 0, 1, 0 );
			hinge = new Ammo.btHingeConstraint( pylon.userData.physicsBody, arm.userData.physicsBody, pivotA, pivotB, axis, axis, true );
			physicsWorld1.addConstraint( hinge, true );
		}
		else if(Field_No == 6 )
		{// 6.Storn Wall
		// Tower 1
var			towerMass = 1000;
var			towerHalfExtents = new THREE.Vector3( 2, 5, 2 );
			pos.set( 5+30, 5, -100 );
			quat.set( 0, 0, 0, 1 );
			createObject( towerMass, towerHalfExtents, pos, quat, createMaterial( 0xF0A024 ) );
		// Tower 2
			pos.set(-6+30, 5, -100 );
			quat.set( 0, 0, 0, 1 );
			createObject( towerMass, towerHalfExtents, pos, quat, createMaterial( 0xF4A321 ) );
		//Bridge
var			bridgeMass = 100;
var			bridgeHalfExtents = new THREE.Vector3( 7, 0.2, 1.5 );
			pos.set( 0+30, 10.2, -100 );
			quat.set( 0, 0, 0, 1 );
			createObject( bridgeMass, bridgeHalfExtents, pos, quat, createMaterial( 0xB38835 ) );
		// Stones
var			stoneMass = 120;
var			stoneHalfExtents = new THREE.Vector3( 1, 2, 0.15 );
var			numStones = 4;
			quat.set( 0, 0, 0, 1 );
			for ( var i = 0; i < numStones; i++ ) {
	    			pos.set( 0+30, 2, 15 * ( 0.5 - i / ( numStones + 1 ) )-100 );
	    			createObject( stoneMass, stoneHalfExtents, pos, quat, createMaterial( 0xB0B0B0 ) );
			}
		// Mountain
var			mountainMass = 860;
var			mountainHalfExtents = new THREE.Vector3( 4, 5, 4 );
			pos.set( 5+30, mountainHalfExtents.y * 0.5, -100 );
			quat.set( 0, 0, 0, 1 );
var			mountainPoints = [];
			mountainPoints.push( new THREE.Vector3( mountainHalfExtents.x, - mountainHalfExtents.y, mountainHalfExtents.z ) );
			mountainPoints.push( new THREE.Vector3( - mountainHalfExtents.x, - mountainHalfExtents.y, mountainHalfExtents.z ) );
			mountainPoints.push( new THREE.Vector3( mountainHalfExtents.x, - mountainHalfExtents.y, - mountainHalfExtents.z ) );
			mountainPoints.push( new THREE.Vector3( - mountainHalfExtents.x, - mountainHalfExtents.y, - mountainHalfExtents.z ) );
			mountainPoints.push( new THREE.Vector3( 0, mountainHalfExtents.y, 0 ) );
var			mountain = new THREE.Mesh( new THREE.ConvexGeometry( mountainPoints ), createMaterial( 0xFFB443 ) );
			mountain.position.copy( pos );
			mountain.quaternion.copy( quat );
			convexBreaker.prepareBreakableObject( mountain, mountainMass, new THREE.Vector3(), new THREE.Vector3(), true );
			createDebrisFromBreakableObject( mountain );
		}
		else if(Field_No == 7 )
		{// 7.Kobe Airport
			scene.fog = new THREE.Fog( 0x909090, 300, 200000 );
			mtlLoader.load( 'kobe.mtl', function( materials ) {
				materials.preload();
				objLoader.setMaterials( materials );
				objLoader.setPath( 'mmd/' );
				objLoader.load( 'kobe.obj', function ( object ) {
					FLD = Clear_Mesh;
					scene.remove( FLD );
					object.scale.set( 1.5, 1.5, 1.5 );
				//	object.position.set( 7550, -5, -6500 );
					object.position.y = -5;
					object.rotation.set( 0, 1.48, 0 );
					FLD = object;
					scene.add( FLD );
				}, null, null );
			});
		}
		else if(Field_No == 8 )
		{// 8.Mt.Fuji
			mmdloader.loadModel( 'mmd/Fuji/Fujisan.pmx', function ( object ) {
				object.scale.set( 10, 10, 10 );
				FUJI = Clear_Mesh;
				scene.remove( FUJI );
				FUJI = object;
				FUJI.position.set( 0, 0, -900 );
				scene.add( FUJI );
			}, null, null );
		}
		else if(Field_No == 9 )
		{// 9.Suzuka
			pos.set( 1265, -0.5, 500 );
			quat.set( 0, 0, 0, 1 );
			FLD = Clear_Mesh;
			scene.remove( FLD );
			FLD = createParalellepipedWithPhysics( 5000, 1, 5000, 0, pos, quat, new THREE.MeshPhongMaterial( { color: 'rgb( 255, 255, 255)' } ) );
			FLD.rotation.set( 0, -0.5, 0 );
			FLD.receiveShadow = true;
			textureLoader.load( "mmd/Suzuka_G.png", function( texture ) {
				texture.wrapS = THREE.RepeatWrapping;
				texture.wrapT = THREE.RepeatWrapping;
				texture.repeat.set( 1, 1 );
				FLD.material.map = texture;
				FLD.material.needsUpdate = true;
			} );
		}
		else if(Field_No == 10 )
		{// 10.岩山  ランダム地形
var			worldWidth = 100, worldDepth = 100,
			worldHalfWidth = worldWidth / 2, worldHalfDepth = worldDepth / 2;
var			Tgeometry = new THREE.PlaneBufferGeometry( 4000, 4000, worldWidth - 1, worldDepth - 1 );
			Tgeometry.rotateX( - Math.PI / 2 );
			Tgeometry.rotateY(   Math.PI / 4 );
var			Tvertices = Tgeometry.attributes.position.array;
			Rock_data = generateHeight( worldWidth, worldDepth );
			for ( var i = 0, j = 0, l = Tvertices.length; i < l; i ++, j += 3 ) {
				Tvertices[ j + 1 ] = Rock_data[ i ] * 3 - 150;
			}
			texture = new THREE.CanvasTexture( generateTexture( Rock_data, worldWidth, worldDepth ) );
			texture.wrapS = THREE.ClampToEdgeWrapping;
			texture.wrapT = THREE.ClampToEdgeWrapping;
			Rock = new THREE.Mesh( Tgeometry, new THREE.MeshBasicMaterial( { map: texture } ) );
			Rock.position.x = 500;
			scene.add( Rock );
		}
		else if(Field_No == 11 )
		{// 11.birds
			Birds(); F_birds = true;
		}
		else if(Field_No == 12 )
		{// 12.Default
			baseField();
		}
		else if(Field_No == 13 )
		{// 13.House
			mmdloader.loadModel( 'mmd/Shouse/Fense.pmx', function ( object ) {
				SHouse1.add( object );
				SHouse1.position.set( 180, 0,  -300 );
				scene.add( SHouse1 );
			}, null, null );
			mmdloader.loadModel( 'mmd/Shouse/Shouse.pmx', function ( object ) {
				SHouse.add( object );
				SHouse.position.set( 180, 0,  -300 );
				scene.add( SHouse );
			}, null, null );
if (ua.isiPhone) {
	alert("iPhoneの場合大きな建物は読み込めません");
}
else
{
			mmdloader.loadModel( 'mmd/UTAU/UTAU.pmx', function ( object ) {
				UTAU.add( object );
				UTAU.position.set( -180, 0,  -300 );
				scene.add( UTAU );
			}, null, null );
			mmdloader.loadModel( 'mmd/UTAU/UTAU1F.pmx', function ( object ) {
				UTAU1F.add( object );
				UTAU1F.position.set( -180, 0,  -300 );
				scene.add( UTAU1F );
			}, null, null );
			mmdloader.loadModel( 'mmd/UTAU/UTAU2F.pmx', function ( object ) {
				UTAU2F.add( object );
				UTAU2F.position.set( -180, 0,  -300 );
				scene.add( UTAU2F );
			}, null, null );
			mmdloader.loadModel( 'mmd/UTAU/UTAU3F.pmx', function ( object ) {
				UTAU3F.add( object );
				UTAU3F.position.set( -180, 0,  -300 );
				scene.add( UTAU3F );
			}, null, null );
			mmdloader.loadModel( 'mmd/UTAU/UTAU_1F.pmx', function ( object ) {
				UTAU_1F.add( object );
				UTAU_1F.position.set( -180, 0,  -300 );
				scene.add( UTAU_1F );
			}, null, null );
			mmdloader.loadModel( 'mmd/UTAU/UTAU_E.pmx', function ( object ) {
				UTAU_E.add( object );
				UTAU_E.position.set( -180, 0,  -300 );
				scene.add( UTAU_E );
			}, null, null );
}
		}
		else if(Field_No == 14 )
		{// 14.Mother
			mtlLoader.load( 'mother.mtl', function( materials ) {
				materials.preload();
				var objLoader = new THREE.OBJLoader();
				objLoader.setMaterials( materials );
				objLoader.setPath( 'mmd/' );
				objLoader.load( 'mother.obj', function ( object ) {
					object.scale.set( 0.1, 0.1, 0.1 );
					//object.position.set( -128, -37, 930 );
					object.position.set( -128, -32, 930 );
					object.rotation.set( 0, 1.45, 0 );
					FLD = object;
					scene.add( FLD );
				}, null, null );
			});
		}
		else if(Field_No == 15 )
		{// 15.Nimitz
			mtlLoader.load( 'Nimitz.mtl', function( materials ) {
				materials.preload();
				var objLoader = new THREE.OBJLoader();
				objLoader.setMaterials( materials );
				objLoader.setPath( 'mmd/' );
				objLoader.load( 'Nimitz.obj', function ( object ) {
					object.scale.set( 0.5, 0.5, 0.5 );
					object.position.set( 0, -10, -90 );
					object.rotation.set( 0, 0, 0 );
					FLD = object;
					scene.add( FLD );
				}, null, null );
			});
var			SeaGeometry = new THREE.BoxGeometry( 10000, 0.01, 10000 );
var			SeaMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
			SeaMesh = new THREE.Mesh( SeaGeometry, SeaMaterial );
			SeaMesh.position.y = -10;
			waterNormals.repeat.set( 50, 50 );
			SeaMesh.material.map = waterNormals;
			SeaMesh.material.needsUpdate = true;
			scene.add(SeaMesh);
		}
		else if(Field_No == 16 )
		{// 16.  BShips
		// taihou
			mtlLoader.load( 'taihou.mtl', function( materials ) {
				materials.preload();
				var objLoader = new THREE.OBJLoader();
				objLoader.setMaterials( materials );
				objLoader.setPath( 'mmd/' );
				objLoader.load( 'taihou.obj', function ( object ) {
					object.scale.set( 0.5, 0.5, 0.5 );
					object.position.set( 0, -15, -50 );
					object.rotation.set( 0, 0, 0 );
					FLD = object;
					scene.add( FLD );
				}, null, null );
			});
var			SeaGeometry = new THREE.BoxGeometry( 10000, 0.01, 10000 );
var			SeaMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
			SeaMesh = new THREE.Mesh( SeaGeometry, SeaMaterial );
			SeaMesh.position.y = -10;
			waterNormals.repeat.set( 50, 50 );
			SeaMesh.material.map = waterNormals;
			SeaMesh.material.needsUpdate = true;
			scene.add(SeaMesh);
		// BS-Yamato
			mtlLoader.load( 'yamato.mtl', function( materials ) {
				materials.preload();
				objLoader = new THREE.OBJLoader();
				objLoader.setMaterials( materials );
				objLoader.setPath( 'mmd/' );
				objLoader.load( 'yamato.obj', function ( object ) {
					Ship_Mesh1 = object;
					Ship_Mesh1.scale.set( 2, 2, 2 );
					Ship_Mesh1.position.set( 150, 15, -250 );
					Ship_Mesh1.rotation.set(0, 0, 0);
					FLD.add( Ship_Mesh1 );
				}, null, null );
			});
		// Shinano
			mtlLoader.load( 'Shinano.mtl', function( materials ) {
				materials.preload();
				var objLoader = new THREE.OBJLoader();
				objLoader.setMaterials( materials );
				objLoader.setPath( 'mmd/' );
				objLoader.load( 'Shinano.obj', function ( object ) {
					Ship_Mesh1 = object;
					Ship_Mesh1.scale.set( 2, 2, 2 );
					Ship_Mesh1.position.set( -150, 0, -300 );
					Ship_Mesh1.rotation.set( 0, 0, 0 );
					FLD.add( Ship_Mesh1 );
				}, null, null );
			});
		// kagerou
			mtlLoader.load( 'kagerou.mtl', function( materials ) {
				materials.preload();
				var objLoader = new THREE.OBJLoader();
				objLoader.setMaterials( materials );
				objLoader.setPath( 'mmd/' );
				objLoader.load( 'kagerou.obj', function ( object ) {
					Ship_Mesh1 = object;
					Ship_Mesh1.scale.set( 0.5, 0.5, 0.5 );
					Ship_Mesh1.position.set( 400, 10, -100 );
					Ship_Mesh1.rotation.set( 0, 0, 0 );
					FLD.add( Ship_Mesh1 );
				}, null, null );
			});
		// mikasa
			mtlLoader.load( 'mikasa.mtl', function( materials ) {
				materials.preload();
				var objLoader = new THREE.OBJLoader();
				objLoader.setMaterials( materials );
				objLoader.setPath( 'mmd/' );
				objLoader.load( 'mikasa.obj', function ( object ) {
					Ship_Mesh1 = object;
					Ship_Mesh1.scale.set( 0.5, 0.5, 0.5 );
					Ship_Mesh1.position.set( -70, 10, -1000 );
					Ship_Mesh1.rotation.set( 0, 0, 0 );
					FLD.add( Ship_Mesh1 );
				}, null, null );
			});
		// nagato
			mtlLoader.load( 'nagato.mtl', function( materials ) {
				materials.preload();
				var objLoader = new THREE.OBJLoader();
				objLoader.setMaterials( materials );
				objLoader.setPath( 'mmd/' );
				objLoader.load( 'nagato.obj', function ( object ) {
					Ship_Mesh1 = object;
					Ship_Mesh1.scale.set( 0.2, 0.2, 0.2 );
					Ship_Mesh1.position.set( -250, 10, -100 );
					Ship_Mesh1.rotation.set( 0, 0, 0 );
					FLD.add( Ship_Mesh1 );
				}, null, null );
			});
		// i17
			mtlLoader.load( 'i17.mtl', function( materials ) {
				materials.preload();
				var objLoader = new THREE.OBJLoader();
				objLoader.setMaterials( materials );
				objLoader.setPath( 'mmd/' );
				objLoader.load( 'i17.obj', function ( object ) {
					Ship_Mesh1 = object;
					Ship_Mesh1.scale.set( 0.2, 0.2, 0.2 );
					Ship_Mesh1.position.set( -100, 10, -50 );
					Ship_Mesh1.rotation.set( 0, 0, 0 );
					FLD.add( Ship_Mesh1 );
				}, null, null );
			});
		// mogami
			mtlLoader.load( 'mogami.mtl', function( materials ) {
				materials.preload();
				var objLoader = new THREE.OBJLoader();
				objLoader.setMaterials( materials );
				objLoader.setPath( 'mmd/' );
				objLoader.load( 'mogami.obj', function ( object ) {
					Ship_Mesh1 = object;
					Ship_Mesh1.scale.set( 3, 3, 3 );
					Ship_Mesh1.position.set( -600, 10, -550 );
					Ship_Mesh1.rotation.set( 0, 0, 0 );
					FLD.add( Ship_Mesh1 );
				}, null, null );
			});
		}
		else if(Field_No == 17 )
		{// 17.Runway
var			groundGeometry = new THREE.BoxGeometry(  24, 0.01, 800 );
var			LineGeometry  = new THREE.BoxGeometry( 0.3, 0.01, 700 );
var			groundMaterial = new THREE.MeshLambertMaterial( { color: 'rgb(100,100,100)' } );
var			WLineMaterial   = new THREE.MeshLambertMaterial( { color: 'rgb(255,255,255)' } );
var			YLineMaterial   = new THREE.MeshLambertMaterial( { color: 'rgb(255,255,0  )' } );
var			CLineMesh  = new THREE.Mesh( LineGeometry, WLineMaterial );
var			LLineMesh  = new THREE.Mesh( LineGeometry, YLineMaterial );
var			RLineMesh  = new THREE.Mesh( LineGeometry, YLineMaterial );
			LLineMesh.position.x = -11;
			RLineMesh.position.x =  11;
			groundMesh = new THREE.Mesh( groundGeometry, groundMaterial );
			groundMesh.add(CLineMesh);
			groundMesh.add(LLineMesh);
			groundMesh.add(RLineMesh);
			groundMesh.position.z = -300;
			scene.add( groundMesh );
		}
		else if(Field_No == 18 )
		{// 18.ML
			mtlLoader.load( 'ML.mtl', function( materials ) {
				materials.preload();
				var objLoader = new THREE.OBJLoader();
				objLoader.setMaterials( materials );
				objLoader.setPath( 'mmd/' );
				objLoader.load( 'ML.obj', function ( object ) {
					object.scale.set( 1, 1, 1 );
					object.position.set( 0, 0, -20 );
					object.rotation.set( 0, 0, 0 );
					ML_mesh = object;
					scene.add( ML_mesh );
				}, null, null );
			});
			pos.set( 50, - 0.5,-100 );
			quat.set( 0, 0, 0, 1 );
			GreenMesh2 = createParalellepipedWithPhysics( 300, 1, 450, 0, pos, quat, new THREE.MeshPhongMaterial( { color: 'rgb( 80, 160, 20)' } ) );
			GreenMesh2.receiveShadow = true;
			textureLoader.load( "textures/terrain/grasslight-big.jpg", function( texture ) {
				texture.wrapS = THREE.RepeatWrapping;
				texture.wrapT = THREE.RepeatWrapping;
				texture.repeat.set( 40, 40 );
				GreenMesh2.material.map = texture;
				GreenMesh2.material.needsUpdate = true;
				scene.add( GreenMesh2 );
			} );
		}
		else if(Field_No == 19 )
		{// 19.Takanami
			mtlLoader.load( 'takanami.mtl', function( materials ) {
				materials.preload();
				var objLoader = new THREE.OBJLoader();
				objLoader.setMaterials( materials );
				objLoader.setPath( 'mmd/' );
				objLoader.load( 'takanami.obj', function ( object ) {
					object.scale.set( 3, 3, 3 );
					object.position.set( 0, -5.2, -130 );
					object.rotation.set( 0, 0, 0 );
					FLD = object;
					scene.add( FLD );
				}, null, null );
			});
var			SeaGeometry = new THREE.BoxGeometry( 10000, 0.01, 10000 );
var			SeaMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
			SeaMesh = new THREE.Mesh( SeaGeometry, SeaMaterial );
			SeaMesh.position.y = -10;
			waterNormals.repeat.set( 50, 50 );
			SeaMesh.material.map = waterNormals;
			SeaMesh.material.needsUpdate = true;
			scene.add(SeaMesh);
		// Nimitz
			mtlLoader.load( 'Nimitz.mtl', function( materials ) {
				materials.preload();
				objLoader = new THREE.OBJLoader();
				objLoader.setMaterials( materials );
				objLoader.setPath( 'mmd/' );
				objLoader.load( 'Nimitz.obj', function ( object ) {
					Ship_Mesh1 = object;
					Ship_Mesh1.scale.set( 0.5, 0.5, 0.5 );
					Ship_Mesh1.position.set( 150, 0, -150 );
					Ship_Mesh1.rotation.set(0, 0, 0);
					FLD.add( Ship_Mesh1 );
				}, null, null );
			});
		// SM-Yamato
			mtlLoader.load( 'SM-Yamato.mtl', function( materials ) {
				materials.preload();
				var objLoader = new THREE.OBJLoader();
				objLoader.setMaterials( materials );
				objLoader.setPath( 'mmd/' );
				objLoader.load( 'SM-Yamato.obj', function ( object ) {
					Ship_Mesh1 = object;
					Ship_Mesh1.scale.set( 2, 2, 2 );
					Ship_Mesh1.position.set( -80, -10, -100 );
					Ship_Mesh1.rotation.set( 0, 0, 0 );
					FLD.add( Ship_Mesh1 );
				}, null, null );
			});
		}
		else if(Field_No == 20 )
		{// AirRace
			var Rmaterial = new THREE.MeshLambertMaterial( { color: 0xFF0000, wireframe:false,transparent: true, opacity: 1.0 } );
			var Bmaterial = new THREE.MeshLambertMaterial( { color: 0x0000FF, wireframe:false,transparent: true, opacity: 1.0 } );
			var R_Corn00  = new THREE.Mesh( new THREE.CylinderGeometry( 0, 2, 50, 10, 10,false ), Rmaterial );
			var B_Corn00  = new THREE.Mesh( new THREE.CylinderGeometry( 0, 2, 50, 10, 10,false ), Bmaterial );
			var R_Corn01  = new THREE.Mesh( new THREE.CylinderGeometry( 0, 2, 50, 10, 10,false ), Rmaterial );
			var B_Corn01  = new THREE.Mesh( new THREE.CylinderGeometry( 0, 2, 50, 10, 10,false ), Bmaterial );
			var R_Corn02  = new THREE.Mesh( new THREE.CylinderGeometry( 0, 2, 50, 10, 10,false ), Rmaterial );
			var B_Corn02  = new THREE.Mesh( new THREE.CylinderGeometry( 0, 2, 50, 10, 10,false ), Bmaterial );
			var R_Corn03  = new THREE.Mesh( new THREE.CylinderGeometry( 0, 2, 50, 10, 10,false ), Rmaterial );
			var B_Corn03  = new THREE.Mesh( new THREE.CylinderGeometry( 0, 2, 50, 10, 10,false ), Bmaterial );
			var R_Corn04  = new THREE.Mesh( new THREE.CylinderGeometry( 0, 2, 50, 10, 10,false ), Rmaterial );
			var B_Corn04  = new THREE.Mesh( new THREE.CylinderGeometry( 0, 2, 50, 10, 10,false ), Bmaterial );
			var R_Corn05  = new THREE.Mesh( new THREE.CylinderGeometry( 0, 2, 50, 10, 10,false ), Rmaterial );
			var B_Corn05  = new THREE.Mesh( new THREE.CylinderGeometry( 0, 2, 50, 10, 10,false ), Bmaterial );
			var R_Corn06  = new THREE.Mesh( new THREE.CylinderGeometry( 0, 2, 50, 10, 10,false ), Rmaterial );
			var B_Corn06  = new THREE.Mesh( new THREE.CylinderGeometry( 0, 2, 50, 10, 10,false ), Bmaterial );
			// END Line
			R_Corn00.position.set(  10, 25,   50 );B_Corn00.position.set( -10, 25,   50 );
			AirRace.add( R_Corn00 );AirRace.add( B_Corn00 );
			// Start Line
			R_Corn01.position.set(  10, 25,  -50 );B_Corn01.position.set( -10, 25,  -50 );
			AirRace.add( R_Corn01 );AirRace.add( B_Corn01 );
			// No.1
			R_Corn02.position.set( 100, 25, -280 );B_Corn02.position.set( 100, 25, -300 );
			AirRace.add( R_Corn02 );AirRace.add( B_Corn02 );
			// No.2
			R_Corn03.position.set( 100, 25, -150 );B_Corn03.position.set( 120, 25, -150 );
			AirRace.add( R_Corn03 );AirRace.add( B_Corn03 );
			// No.3
			R_Corn04.position.set(  50, 25,    0 );B_Corn04.position.set(  70, 25,    0 );
			AirRace.add( R_Corn04 );AirRace.add( B_Corn04 );
			// No.4
			R_Corn05.position.set( 100, 25,  150 );B_Corn05.position.set( 120, 25,  150 );
			AirRace.add( R_Corn05 );AirRace.add( B_Corn05 );
			// No.5
			R_Corn06.position.set( 100, 25,  280 );B_Corn06.position.set( 100, 25,  300 );
			AirRace.add( R_Corn06 );AirRace.add( B_Corn06 );
			scene.add( AirRace );
		//
			pos.set( 50, -0.5, 0 );
			quat.set( 0, 0, 0, 1 );
			GreenMesh2 = createParalellepipedWithPhysics( 300, 1, 800, 0, pos, quat, new THREE.MeshPhongMaterial( { color: 'rgb( 80, 160, 20)' } ) );
			GreenMesh2.receiveShadow = true;
			textureLoader.load( "textures/terrain/grasslight-big.jpg", function( texture ) {
				texture.wrapS = THREE.RepeatWrapping;
				texture.wrapT = THREE.RepeatWrapping;
				texture.repeat.set( 40, 40 );
				GreenMesh2.material.map = texture;
				GreenMesh2.material.needsUpdate = true;
				scene.add( GreenMesh2 );
			} );
var			groundGeometry = new THREE.BoxGeometry(  24, 0.01, 500 );
var			LineGeometry  = new THREE.BoxGeometry( 0.3, 0.01, 400 );
var			groundMaterial = new THREE.MeshLambertMaterial( { color: 'rgb(100,100,100)' } );
var			WLineMaterial   = new THREE.MeshLambertMaterial( { color: 'rgb(255,255,255)' } );
var			YLineMaterial   = new THREE.MeshLambertMaterial( { color: 'rgb(255,255,0  )' } );
var			CLineMesh  = new THREE.Mesh( LineGeometry, WLineMaterial );
var			LLineMesh  = new THREE.Mesh( LineGeometry, YLineMaterial );
var			RLineMesh  = new THREE.Mesh( LineGeometry, YLineMaterial );
			LLineMesh.position.x = -11;
			RLineMesh.position.x =  11;
			groundMesh = new THREE.Mesh( groundGeometry, groundMaterial );
			groundMesh.add(CLineMesh);
			groundMesh.add(LLineMesh);
			groundMesh.add(RLineMesh);
			groundMesh.position.z = 0;
			scene.add( groundMesh );
		// TB2
			mtlLoader.load( 'tb2-o.mtl', function( materials ) {
				materials.preload();
				var objLoader = new THREE.OBJLoader();
				objLoader.setMaterials( materials );
				objLoader.setPath( 'mmd/' );
				objLoader.load( 'tb2-o.obj', function ( object ) {
					Ship_Mesh1 = object;
					Ship_Mesh1.scale.set( 0.05, 0.05, 0.05 );
					Ship_Mesh1.position.set( -40, 5, -50 );
					Ship_Mesh1.rotation.set( 0, -1.57, 0 );
					groundMesh.add( Ship_Mesh1 );
				}, null, null );
			});
		// G5phnx
			mtlLoader.load( 'g5phnx-o.mtl', function( materials ) {
				materials.preload();
				var objLoader = new THREE.OBJLoader();
				objLoader.setMaterials( materials );
				objLoader.setPath( 'mmd/' );
				objLoader.load( 'g5phnx-o.obj', function ( object ) {
					Ship_Mesh1 = object;
					Ship_Mesh1.scale.set( 0.1, 0.1, 0.1 );
					Ship_Mesh1.position.set(  30, 5, -40 );
					Ship_Mesh1.rotation.set( 0, 3.14, 0 );
					groundMesh.add( Ship_Mesh1 );
				}, null, null );
			});
		// LM5
			mtlLoader.load( 'LM5.mtl', function( materials ) {
				materials.preload();
				var objLoader = new THREE.OBJLoader();
				objLoader.setMaterials( materials );
				objLoader.setPath( 'mmd/' );
				objLoader.load( 'LM5.obj', function ( object ) {
					Ship_Mesh1 = object;
					Ship_Mesh1.scale.set( 20, 20, 20 );
					Ship_Mesh1.position.set(  30, 0, 40 );
					Ship_Mesh1.rotation.set( 0, 1.57, 0 );
					groundMesh.add( Ship_Mesh1 );
				}, null, null );
			});
		}
		else if(Field_No == 21 )
		{// 21.Nothing
			scene.remove( AirRace );
			scene.remove( FUJI );
			scene.remove( SHouse );
			scene.remove( SHouse1);
			scene.remove( UTAU   );
			scene.remove( UTAU1F );
			scene.remove( UTAU2F );
			scene.remove( UTAU3F );
			scene.remove( UTAU_1F );
			scene.remove( UTAU_E );
			scene.remove( grid );      // メッシュ
			scene.remove( directionalLightHelper );
			scene.remove( directionalLightShadowHelper );
			scene.remove( Torus );     // 誘導リング
			scene.remove( SeaMesh );   // 海
			scene.remove( WaterMesh );
			scene.remove( GreenMesh );  // 芝生
			scene.remove( GreenMesh2 );  // 芝生
			scene.remove( groundMesh );// Runway
			scene.remove( hanger );    // 格納庫
			scene.remove( hanger_Plane ); // C172
			scene.remove( Rock );
			scene.remove( FLD );         // 空港、富士山、スズカ
			F_birds = false;
			for ( var i = 0; i < 200; i ++ ) {
				scene.add( birds[ i ] );
			}
		}
	};
/*----------------------------------------------------------------------------*/
// Object Load
/*----------------------------------------------------------------------------*/
		function ObjectLoad( Model_BTN_No ) {
			document.f1.ModelButton.value = nameFiles[ Model_BTN_No ];
			Qmodel.x = Qbuff.x;
			Qmodel.y = Qbuff.y;
			Qmodel.z = Qbuff.z;
			Qmodel.w = Qbuff.w;
			camera1.rotation.set(    0,  0,  0 );
			camera5.rotation.set(    0,  0,  0 );

			Gear_mesh  = Clear_Mesh;
			mesh.remove(Gear_mesh);
			F35B2_mesh.remove(Gear_mesh);
			F35B2_mesh.remove(Gear2_mesh);
			mesh.remove(F35B2_mesh);
			propMesh.remove( F35B2_mesh );
			propMesh.remove( temp_Mesh1 );
			mesh.remove( propMesh );
			mesh      = Clear_Mesh;
			Gear_mesh = Clear_Mesh;
			propMesh0 = Clear_Mesh;
			F35B1_mesh = Clear_Mesh;
			mesh.remove(F35B1_mesh);
			mesh.remove(F35B2_mesh);
			scene.remove( mesh );

			if( Model_BTN_No == NN_RV6A )
			{// RV6A
			// Cockpit
				texLoader.load( 'rv6a-c.png', function ( image ) {
					tex.image = image;
					tex.needsUpdate = true;
				} );
var				CockpitGeometry = new THREE.BoxGeometry( 0.8, 0.38, 0.01 );
var				CockpitMaterial = new THREE.MeshLambertMaterial ( { color: 'rgb(255,255,255)' } );
				Cockpit = new THREE.Mesh( CockpitGeometry, CockpitMaterial );
				Cockpit.traverse( function ( child ) {
					if ( child instanceof THREE.Mesh ) {
							child.material.map = tex;
					}
				} );
				Cockpit.scale.set(  1,  1,  1 );
				Cockpit.position.set  ( 0, 0.2, -0.005 );
				
				mtlLoader.load( 'prop_RV6A.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'prop_RV6A.obj', function ( object ) {
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'rv6a.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'rv6a.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 1, 1, 1 );
						object.add(Cockpit);
						mesh = object;
						mesh.add(propMesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 1.2;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -10,    2,  -20 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  0.5,  0.8 );
				camera5.position.set(    0,  0.5,  0.8 );
			}
			else if( Model_BTN_No == NN_Savoia21 )
			{// savoia21
				mtlLoader.load( 'prop_savoia21.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'prop_savoia21.obj', function ( object ) {
						object.position.set( 0, 3.3, 0.8);
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'savoia21.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'savoia21.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.3, 0.3, 0.3 );
						mesh = object;
						mesh.add(propMesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 220;
					P.y = -10+1;
					P.z = -160;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  240,    -5, -200 );
 	 			camera0.position.set(  220,    -5, -140 ) ;
				camera1.position.set(    0, -1.2,  7.3 );
				camera5.position.set(    0, -1.2,  7.3 );
			}
			else if( Model_BTN_No == NN_F35B )
			{// F35B
				mtlLoader.load( 'Gear_F35B.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_F35B.obj', function ( object ) {
						Gear1_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_F35B.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_F35B.obj', function ( object ) {
						Gear2_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'VTOL_F35B.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'VTOL_F35B.obj', function ( object ) {
						object.scale.set( 0.15, 0.15, 0.15 );
						F35B1_mesh = object;
						F35B1_mesh.add(Gear1_mesh);
					}, null, null );
				});
				mtlLoader.load( 'F35B.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'F35B.obj', function ( object ) {
						F35B2_mesh.remove(Gear2_mesh);
						mesh.remove(F35B2_mesh);
						mesh.remove(Gear_mesh);
						mesh.remove(temp_Mesh1);
						mesh.remove(temp_Mesh1);
						mesh.remove(temp_Mesh2);
						mesh.remove(temp_Mesh3);
						mesh.remove(temp_Mesh4);
						mesh       = Clear_Mesh;
						F35B2_mesh = Clear_Mesh;
						Gear_mesh  = Clear_Mesh;
						temp_Mesh1 = Clear_Mesh;
						temp_Mesh2 = Clear_Mesh;
						temp_Mesh3 = Clear_Mesh;
						temp_Mesh4 = Clear_Mesh;
						scene.remove( mesh );
						object.scale.set( 0.15, 0.15, 0.15 );
						F35B2_mesh = object;
						F35B2_mesh.add(Gear2_mesh);
						mesh.add(F35B2_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 3.2;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -40 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0, 1.35, -7.5 );
				camera5.position.set(    0, 1.35, -7.5 );
			}
			else if( Model_BTN_No == NN_SH60J )
			{// SH60J
				mtlLoader.load( 'M-Roter.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'M-Roter.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						object.rotation.set(-0.07, 0, 0);
						object.position.set( 0, 0, 0);
						MR_propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'T-Roter.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'T-Roter.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						object.position.set( 0.2, 0.5, 7.5);
						TR_propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'sh60j.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'sh60j.obj', function ( object ) {
						F35B2_mesh = Clear_Mesh;
						mesh.remove(F35B2_mesh);
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 1, 1, 1 );
						mesh = object;
						mesh.add(MR_propMesh);
						mesh.add(TR_propMesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.5;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -20,    2,  -30 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0, -0.8, -1.5 );
				camera5.position.set(    0, -0.8, -1.5 );
			}
			else if( Model_BTN_No == NN_F2A )
			{// F2A
				mmdloader.loadModel( 'mmd/miku/F2A/F2A.pmd', function ( object ) {
					mesh.remove( Gear_mesh );
					scene.remove( mesh );
					object.scale.set    ( -0.1, 0.1, -0.1 );
					mesh = object;
					mesh.add(camera1);
					mesh.position.set ( 0, -10, 0 );
					Qbuff  = mesh.quaternion;
					scene.add( mesh );
				}, null, null );
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 0;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    5,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  33.0, 40.8 );
				camera1.rotation.set(    0,  3.14,  0.0 );
				camera5.position.set(    0,  33.0, 40.8 );
				camera5.rotation.set(    0,  3.14,  0.0 );
			}
			else if( Model_BTN_No == NN_2000GT )
			{// TOYOTA 2000GT
				mmdloader.loadModel( 'mmd/miku/TOYOTA2000GT/TOYOTA2000GT.pmx', function ( object ) {
					mesh.remove( Gear_mesh );
					scene.remove( mesh );
					object.scale.set    ( -0.2, 0.2, -0.2 );
					mesh = object;
					mesh.add(camera1);
					mesh.position.set ( 0, -10, 0 );
					Qbuff  = mesh.quaternion;
					scene.add( mesh );
				}, null, null );
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 0;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -20,    5,  -30 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(   -4,  12.3, -8.8 );
				camera1.rotation.set(    0,  3.14,  0.0 );
				camera5.position.set(   -4,  12.3, -8.8 );
				camera5.rotation.set(    0,  3.14,  0.0 );
			}
			else if( Model_BTN_No == NN_F240Z )
			{// F240Z
				mmdloader.loadModel( 'mmd/miku/F240Z/F240Z.pmx', function ( object ) {
					mesh.remove( Gear_mesh );
					scene.remove( mesh );
					object.scale.set    ( -0.2, 0.2, -0.2 );
					mesh = object;
					mesh.add(camera1);
					mesh.position.set ( 0, -10, 0 );
					Qbuff  = mesh.quaternion;
					scene.add( mesh );
				}, null, null );
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 0;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -20,    5,   -30 );
				camera0.position.set(    0,    5,    20 );
				camera1.position.set(   -4,  13.3, -8.8 );
				camera1.rotation.set(    0,  3.14,  0.0 );
				camera5.position.set(   -4,  13.3, -8.8 );
				camera5.rotation.set(    0,  3.14,  0.0 );
			}
			else if( Model_BTN_No == NN_Miki )
			{// Miki
				mtlLoader.load( 'Miki.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Miki.obj', function ( object ) {
						F35B2_mesh = Clear_Mesh;
						mesh.remove(F35B2_mesh);
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.2, 0.2, 0.2 );
						mesh = object;
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  3.5,  -0.8 );
				camera5.position.set(    0,  3.5,  -0.8 );
			}
			else if( Model_BTN_No == NN_A6M2 )
			{// A6M2
				mtlLoader.load( 'prop_A6M2.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'prop_A6M2.obj', function ( object ) {
						object.scale.set(  1.0, 1.0, 1.0  );
						object.position.set( 0, 0, -1);
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_iwamoto.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_iwamoto.obj', function ( object ) {
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'iwamoto_F.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'iwamoto_F.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.15, 0.15, 0.15 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(propMesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.7;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,    8,    7 );
				camera5.position.set(    0,    8,    7 );
			}
			else if( Model_BTN_No == NN_KI61 )
			{// KI61
				mtlLoader.load( 'prop_ki61.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'prop_ki61.obj', function ( object ) {
						object.scale.set( 3.32, 3.32, 3.32 );
						object.position.set( 0, 0.763, -42.5);
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_ki61.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_ki61.obj', function ( object ) {
						object.scale.set( 3.32, 3.32, 3.32 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'ki61b.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'ki61b.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.15, 0.15, 0.15 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(propMesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.2;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,    9,   -6 );
				camera5.position.set(    0,    9,   -6 );
			}
			else if( Model_BTN_No == NN_Shinden )
			{// Shinden
				mtlLoader.load( 'Prop_shinden.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_shinden.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( 0, 0, 0 );
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_shinden.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_shinden.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'shinden-F.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'shinden-F.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.15, 0.15, 0.15 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(propMesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 4.3;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  7,  4.5 );
				camera5.position.set(    0,  7,  4.5 );
			}
			else if( Model_BTN_No == NN_M100tei )
			{// M100tei Kou
				mtlLoader.load( 'Prop_M100teiK.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_M100teiK.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( 1.35, -0.15, 0.02 );
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Prop_M100teiK.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_M100teiK.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( -1.35, -0.15, 0.02 );
						propMesh1 = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_M100teiK.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_M100teiK.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'M100teiK.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'M100teiK.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 3, 3, 3 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(propMesh);
						mesh.add(propMesh1);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 3.3;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  0.4, -1.4 );
				camera5.position.set(    0,  0.4, -1.4 );
			}
			else if( Model_BTN_No == NN_2sikiDaitei )
			{// 2sikiDaitei
				mtlLoader.load( 'Prop_2sikiDaitei.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_2sikiDaitei.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( 2.4, 1, 0.1 );
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Prop_2sikiDaitei.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_2sikiDaitei.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( 4.9, 1.25, 0.1 );
						propMesh1 = object;
					}, null, null );
				});
				mtlLoader.load( 'Prop_2sikiDaitei.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_2sikiDaitei.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( -2.4, 1, 0.1 );
						propMesh2 = object;
					}, null, null );
				});
				mtlLoader.load( 'Prop_2sikiDaitei.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_2sikiDaitei.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( -4.9, 1.25, 0.1 );
						propMesh3 = object;
					}, null, null );
				});
				mtlLoader.load( 'N2sikiDaitei.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'N2sikiDaitei.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 1.5, 1.5, 1.5 );
						mesh = object;
						mesh.add(propMesh);
						mesh.add(propMesh1);
						mesh.add(propMesh2);
						mesh.add(propMesh3);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.5;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  0.9, -2.7 );
				camera5.position.set(    0,  0.9, -2.7 );
			}
			else if( Model_BTN_No == NN_1sikiRikukou )
			{// 1sikiRikukou
				mtlLoader.load( 'Prop_1shikiRikukou.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_1shikiRikukou.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( 2.09, -0.25, 0.0 );
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Prop_1shikiRikukou.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_1shikiRikukou.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( -2.09, -0.25, 0.0 );
						propMesh1 = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_1shikiRikukou.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_1shikiRikukou.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'M1shikiRikukou.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'M1shikiRikukou.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 1.5, 1.5, 1.5 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(propMesh);
						mesh.add(propMesh1);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.3;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  0.9, -3.3 );
				camera5.position.set(    0,  0.9, -3.3 );
			}
			else if( Model_BTN_No == NN_i17 )
			{// i17
				mtlLoader.load( 'i17.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'i17.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.05, 0.05, 0.05 );
						mesh = object;
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 0;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  62,  -6 );
				camera5.position.set(    0,  62,  -6 );
			}
			else if( Model_BTN_No == NN_F2A525 )
			{// F2A 525
				mtlLoader.load( 'Gear_F2-525.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_F2-525.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'F2-525-F.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'F2-525-F.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set(  0.1,  0.1,  0.1 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 1.8;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,    9,  -50 );
				camera5.position.set(    0,    9,  -50 );
			}
			else if( Model_BTN_No == NN_F4EJ )
			{// F4EJ
				mtlLoader.load( 'Gear_F4EJ.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_F4EJ.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'F4EJ_F.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'F4EJ_F.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set(  0.1,  0.1,  0.1 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 1.8;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,   12,-59.5 );
				camera5.position.set(    0,   12,-59.5 );
			}
			else if( Model_BTN_No == NN_F22A )
			{// F22A
				mtlLoader.load( 'Gear_F22A.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_F22A.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'F22A.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'F22A.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set(  0.1,  0.1,  0.1 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.8;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,    8,  -52 );
				camera5.position.set(    0,    8,  -52 );
			}
			else if( Model_BTN_No == NN_F15J )
			{// F15J
				mtlLoader.load( 'Gear_F15J.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_F15J.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'F15J-F.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'F15J-F.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set(  0.1,  0.1,  0.1 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.5;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,    8,  -52 );
				camera5.position.set(    0,    8,  -52 );
			}
			else if( Model_BTN_No == NN_A10 )
			{// A10
				mtlLoader.load( 'Gear_A10.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_A10.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'A10.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'A10.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set(  0.1,  0.1,  0.1 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.2;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,   13,  -48 );
				camera5.position.set(    0,   13,  -48 );
			}
			else if( Model_BTN_No == NN_B1B )
			{// B1B
				mtlLoader.load( 'Gear_B1B.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_B1B.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'B1B-F.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'B1B-F.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set(  0.07, 0.07, 0.07 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.5;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,   10, -180 );
				camera5.position.set(    0,   10, -180 );
			}
			else if( Model_BTN_No == NN_C172A )
			{// C172A
				mtlLoader.load( 'prop_c172a.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'prop_c172a.obj', function ( object ) {
						object.scale.set(  1, 1, 1  );
						object.position.set( 0, 0, 0);
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'c172a.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'c172a.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.15, 0.15, 0.15 );
						mesh = object;
						mesh.add(propMesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x =  0;
					P.y =  2;
					P.z =  3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,    5,    5 );
				camera5.position.set(    0,    5,    5 );
			}
			else if( Model_BTN_No == NN_MRJ )
			{// MRJ
				mtlLoader.load( 'Gear_mrj90.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_mrj90.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'mrj90F.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'mrj90F.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.06, 0.06, 0.06 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x =  0;
					P.y =  2;
					P.z =  3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,    9, -145 );
				camera5.position.set(    0,    9, -145 );
			}
			else if( Model_BTN_No == NN_Concorde )
			{// Concorde
				mtlLoader.load( 'C_Cockpit.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'C_Cockpit.obj', function ( object ) {
						Cockpit = object;
						Cockpit.scale.set( 11, 11, 11 );
						Cockpit.position.set( 0, -17, -200 );
					}, null, null );
				});
				mtlLoader.load( 'Corn_concorde2-F.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Corn_concorde2-F.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Corn_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_concorde2.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_concorde2.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'concorde2.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'concorde2-F.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.06, 0.06, 0.06 );
						mesh = object;
						mesh.add(Cockpit);
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x =  0;
					P.y =  3.6;
					P.z =  3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,   -8, -225 );
				camera5.position.set(    0,   -8, -225 );
			}
			else if( Model_BTN_No == NN_YS11 )
			{// YS11
				mtlLoader.load( 'propYS11.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'propYS11.obj', function ( object ) {
						object.scale.set   ( 10, 10, 10 );
						object.position.set( 43, -2, -39 );
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'propYS11.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'propYS11.obj', function ( object ) {
						object.scale.set   ( 10, 10, 10 );
						object.position.set( -43, -2, -39 );
						propMesh1 = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_YS11.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_YS11.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'YS11-F.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'YS11-F.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.1, 0.1, 0.1 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(propMesh);
						mesh.add(propMesh1);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.5;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,    9,  -76 );
				camera5.position.set(    0,    9,  -76 );
			}
			else if( Model_BTN_No == NN_B787SA )
			{// B787SA
				mtlLoader.load( 'Gear_B787SA.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_B787SA.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'B787SA.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'B787SA.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.06, 0.06, 0.06 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.6;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,   15, -233 );
				camera5.position.set(    0,   15, -233 );
			}
			else if( Model_BTN_No == NN_MU300 )
			{// MU300
				mtlLoader.load( 'Gear_MU300.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_MU300.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'MU300-F.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'MU300-F.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.1, 0.1, 0.1 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 1.7;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    -2.5,   3,  -40.5 );
				camera5.position.set(    -2.5,   3,  -40.5 );
			}
			else if( Model_BTN_No == NN_T400 )
			{// T-400
				mtlLoader.load( 'Gear_T400.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_T400.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'T400-F.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'T400-F.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.1, 0.1, 0.1 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 0.8;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    -3,   10,  -42 );
				camera5.position.set(    -3,   10,  -42 );
			}
			else if( Model_BTN_No == NN_HondaJET )
			{// HondaJET
				mtlLoader.load( 'Gear_HondaJET.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_HondaJET.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'HondaJET-F.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'HondaJET-F.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.1, 0.1, 0.1 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 1.3;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,   10,  -28 );
				camera5.position.set(    0,   10,  -28 );
			}
			else if( Model_BTN_No == NN_Avanti )
			{// Avanti
				mtlLoader.load( 'Prop_Avanti.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_Avanti.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( 21, 5, 0 );
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Prop_Avanti.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_Avanti.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( -21, 5, 0 );
						propMesh1 = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_Avanti.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_Avanti.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Avanti-F.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Avanti-F.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.1, 0.1, 0.1 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(propMesh);
						mesh.add(propMesh1);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 1.6;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,    4,  -39 );
				camera5.position.set(    0,    4,  -39 );
			}
			else if( Model_BTN_No == NN_MU2 )
			{// MU2
				mtlLoader.load( 'Prop_MU2.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_MU2.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( 23, 5.5, -14.8 );
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Prop_MU2.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_MU2.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( -23, 5.5, -14.8 );
						propMesh1 = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_MU2.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_MU2.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'MU2.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'MU2.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.1, 0.1, 0.1 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(propMesh);
						mesh.add(propMesh1);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 1.2;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,    4,  -13 );
				camera5.position.set(    0,    4,  -13 );
			}
			else if( Model_BTN_No == NN_SC01 )
			{// SC01
				mtlLoader.load( 'Prop_SC01.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_SC01.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( 0, 2, 0 );
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'SC01.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'SC01.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.1, 0.1, 0.1 );
						mesh = object;
						mesh.add(propMesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 1;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  3.2,   -8 );
				camera5.position.set(    0,  3.2,   -8 );
			}
			else if(( Model_BTN_No == NN_H2A) && (SkyType_No != 4 ))
			{// H2A
				mtlLoader.load( 'H2A_SEP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'H2A_SEP.obj', function ( object ) {
						object.scale.set   ( 0.05, 0.05, 0.05 );
						H2A_SEP = object;
					}, null, null );
				});
				mtlLoader.load( 'H2A-1st.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'H2A-1st.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						H2A_1st = object;
					}, null, null );
				});
				mtlLoader.load( 'H2A-SRB.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'H2A-SRB.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						H2A_SRB = object;
					}, null, null );
				});
				mtlLoader.load( 'H2A-SSB.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'H2A-SSB.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						H2A_SSB = object;
					}, null, null );
				});
				mtlLoader.load( 'H2A-FL.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'H2A-FL.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						H2A_FL = object;
					}, null, null );
				});
				mtlLoader.load( 'H2A-2nd.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'H2A-2nd.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 1, 1, 1 );
						mesh = object;
						mesh.add(H2A_1st);
						mesh.add(H2A_SRB);
						mesh.add(H2A_SSB);
						mesh.add(H2A_FL);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 17;
					P.z = -20;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,   50,    0 );
				camera5.position.set(    0,   50,    0 );
			}
			else if(( Model_BTN_No == NN_H2A ) && (SkyType_No == 4 ))
			{// H2A
				mtlLoader.load( 'H2A.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'H2A.obj', function ( object ) {
						H2A = object;
						H2A.scale.set( 1, 1, 1 );
						H2A.rotation.set(1.57, 0, 0);
						H2A.position.set( 0, 17, 0);
						H2A.add(camera11);
						Q_H2A = H2A.quaternion;
						ML.add( H2A );
					}, null, null );
				});
				View_BTN_No = 11;
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 17;
					P.z = 0;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,   50,    0 );
				camera5.position.set(    0,   50,    0 );
			}
			else if( Model_BTN_No == NN_SM_Yamato )
			{// SM_Yamato
				mtlLoader.load( 'SM-Yamato.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'SM-Yamato.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.5, 0.5, 0.5 );
						mesh = object;
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 0;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  10,  -6 );
				camera5.position.set(    0,  10,  -6 );
			}
			else if( Model_BTN_No == NN_Extra3000 )
			{// Extra3000
				mtlLoader.load( 'Prop_extra3000NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_extra3000NP.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( 0, 0, 0 );
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'extra3000NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'extra3000NP.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.2, 0.2, 0.2 );
						mesh = object;
						mesh.add(propMesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  6,   17 );
				camera5.position.set(    0,  6,   17 );
			}
			else if( Model_BTN_No == NN_GTR )
			{// GTR
				mtlLoader.load( 'gtr.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'gtr.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.2, 0.2, 0.2 );
						mesh = object;
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 1.5;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  4,   5 );
				camera5.position.set(    0,  4,   5 );
			}
			else if( Model_BTN_No == NN_Mach5 )
			{// Mach5
				mtlLoader.load( 'Mach5.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Mach5.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.2, 0.2, 0.2 );
						mesh = object;
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 1;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  3,   6 );
				camera5.position.set(    0,  3,   6 );
			}
			else if( Model_BTN_No == NN_F288GTO )
			{// F288GTO
				mtlLoader.load( 'F288GTO.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'F288GTO.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.2, 0.2, 0.2 );
						mesh = object;
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 1;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  5,   3 );
				camera5.position.set(    0,  5,   3 );
			}
			else if( Model_BTN_No == NN_GP_Rider )
			{// GP_Rider
				mtlLoader.load( 'Rider.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Rider.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.9, 0.9, 0.9 );
						mesh = object;
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.5;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set( -0.2,0.5,   0 );
				camera5.position.set( -0.2,0.5,   0 );
			}
			else if( Model_BTN_No == NN_BTR70 )
			{// BTR70
				mtlLoader.load( 'BTR-70.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'BTR-70.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.2, 0.2, 0.2 );
						mesh = object;
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 0.5;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  15, -15 );
				camera5.position.set(    0,  15, -15 );
			}
			else if( Model_BTN_No == NN_T90TK )
			{// T90TK
				mtlLoader.load( 'T90TK.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'T90TK.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.04, 0.04, 0.04 );
						mesh = object;
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.5;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  27, -85 );
				camera5.position.set(    0,  27, -85 );
			}
			else if( Model_BTN_No == NN_M1A2 )
			{// M1A2
				mtlLoader.load( 'M1A2.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'M1A2.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.2, 0.2, 0.2 );
						mesh = object;
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 3.0;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  10, -10 );
				camera5.position.set(    0,  10, -10 );
			}
			else if( Model_BTN_No == NN_M113A2 )
			{// M113A2
				mtlLoader.load( 'M113A2.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'M113A2.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.2, 0.2, 0.2 );
						mesh = object;
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.5;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(   -7,   9, -10 );
				camera5.position.set(   -7,   9, -10 );
			}
			else if( Model_BTN_No == NN_Panther )
			{// Panther
				mtlLoader.load( 'Panther.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Panther.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.2, 0.2, 0.2 );
						mesh = object;
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 3.5;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  14,  10 );
				camera5.position.set(    0,  14,  10 );
			}
			else if( Model_BTN_No == NN_Panzer_iii )
			{// panzer_iii_l
				mtlLoader.load( 'panzer_iii_l.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'panzer_iii_l.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.2, 0.2, 0.2 );
						mesh = object;
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.0;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  14,  -4 );
				camera5.position.set(    0,  14,  -4 );
			}
			else if( Model_BTN_No == NN_T2000 )
			{// T2000
				mtlLoader.load( 'T2000.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'T2000.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.2, 0.2, 0.2 );
						mesh = object;
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 3.5;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,   0, -24 );
				camera5.position.set(    0,   0, -24 );
			}
			else if( Model_BTN_No == NN_Kart )
			{// kart
				mtlLoader.load( 'kart.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'kart.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.2, 0.2, 0.2 );
						mesh = object;
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 0.8;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,   3,   2 );
				camera5.position.set(    0,   3,   2 );
			}
			else if( Model_BTN_No == NN_MVPP10 )
			{// MVPP10
				mtlLoader.load( 'MVPP-10.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'MVPP-10.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.04, 0.04, 0.04 );
						mesh = object;
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 1.5;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  25,-100 );
				camera5.position.set(    0,  25,-100 );
			}
			else if( Model_BTN_No == NN_SP_Yamato )
			{// SP_Yamato
				mtlLoader.load( 'spy.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'spy.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 3, 3, 3 );
						mesh = object;
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 1;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0, 1.4,   -1 );
				camera5.position.set(    0, 1.4,   -1 );
			}
			else if( Model_BTN_No == NN_Arcadia )
			{// Arcadia
				mtlLoader.load( 'arcadia.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'arcadia.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.01, 0.01, 0.01 );
						mesh = object;
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 3;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,   400, -300 );
				camera5.position.set(    0,   400, -300 );
			}
			else if( Model_BTN_No == NN_XW )
			{// XW
				mtlLoader.load( 'XW-F.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'XW-F.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.1, 0.1, 0.1 );
						mesh = object;
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				mtlLoader.load( 'XW-G.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'XW-G.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.1, 0.1, 0.1 );
						mesh = object;
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0, 10, -2 );
				camera5.position.set(    0, 10, -2 );
			}
			else if( Model_BTN_No == NN_Frx00 )
			{// Frx00
				mtlLoader.load( 'Bunner_frx00NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Bunner_frx00NG.obj', function ( object ) {
						Bunner_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_frx00NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_frx00NG.obj', function ( object ) {
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'frx00NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'frx00NG.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.01, 0.01, 0.01 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 1;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0, 100,   -800 );
				camera5.position.set(    0, 100,   -800 );
			}
			else if( Model_BTN_No == NN_Frx01Jam )
			{// Frx01Jam
				mtlLoader.load( 'Bunner_frx01JamNG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Bunner_frx01JamNG.obj', function ( object ) {
						Bunner_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_frx01JamNG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_frx01JamNG.obj', function ( object ) {
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'frx01JamNG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'frx01JamNG.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.1, 0.1, 0.1 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 1.5;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0, 8, -70 );
				camera5.position.set(    0, 8, -70 );
			}
			else if( Model_BTN_No == NN_Yakumo )
			{// Yakumo
				mtlLoader.load( 'yakumo.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'yakumo.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.1, 0.1, 0.1 );
						mesh = object;
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 1;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0, 17,  -70 );
				camera5.position.set(    0, 17,  -70 );
			}
			else if( Model_BTN_No == NN_Shuttle )
			{// Shuttle
				mtlLoader.load( 'shuttle.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'shuttle.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.05, 0.05, 0.05 );
						mesh = object;
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 1;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  50, -120 );
				camera5.position.set(    0,  50, -120 );
			}
			else if( Model_BTN_No == NN_NabooRSS )
			{// NabooRSS
				mtlLoader.load( 'NabooRSS.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'NabooRSS.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.05, 0.05, 0.05 );
						mesh = object;
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 1;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0, 30,   20 );
				camera5.position.set(    0, 30,   20 );
			}
			else if( Model_BTN_No == NN_TB1 )
			{// TB1
				mtlLoader.load( 'tb1.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'tb1.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.05, 0.05, 0.05 );
						mesh = object;
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 3;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0, 1.3,    1 );
				camera5.position.set(    0, 1.3,    1 );
			}
			else if( Model_BTN_No == NN_TB2 )
			{// TB2
				mtlLoader.load( 'Bunner_tb2.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Bunner_tb2.obj', function ( object ) {
					//	object.scale.set( 0.03, 0.03, 0.03 );
						Bunner_Mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'VTOL_tb2.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'VTOL_tb2.obj', function ( object ) {
						object.scale.set( 0.03, 0.03, 0.03 );
						VTOL_Mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'tb2-o.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'tb2-o.obj', function ( object ) {
					//	object.scale.set( 0.03, 0.03, 0.03 );
						temp_Mesh3 = object;
					}, null, null );
				});
				mtlLoader.load( 'tb2_2.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'tb2_2.obj', function ( object ) {
					//	object.scale.set( 0.03, 0.03, 0.03 );
						temp_Mesh2 = object;
					}, null, null );
				});
				mtlLoader.load( 'tb2_1.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'tb2_1.obj', function ( object ) {
					//	object.scale.set( 0.03, 0.03, 0.03 );
						temp_Mesh1 = object;
					}, null, null );
				});
				mtlLoader.load( 'tb2.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'tb2.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.03, 0.03, 0.03 );
						mesh = object;
						mesh.add(temp_Mesh1);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 3;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0, 1.3,    1 );
				camera5.position.set(    0, 1.3,    1 );
			}
			else if( Model_BTN_No == NN_TB3 )
			{// TB3
				mtlLoader.load( 'tb3.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'tb3.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.03, 0.03, 0.03 );
						mesh = object;
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 1;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0, 1.3,    1 );
				camera5.position.set(    0, 1.3,    1 );
			}
			else if( Model_BTN_No == NN_Tachikoma )
			{// tachikoma
				mtlLoader.load( 'tachikoma.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'tachikoma.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.01, 0.01, 0.01 );
						mesh = object;
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 1.2;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,   4,   -30 );
				camera5.position.set(    0,   4,   -30 );
			}
			else if( Model_BTN_No == NN_R2D2 )
			{// R2D2
				mtlLoader.load( 'R2D2.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'R2D2.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 1, 1, 1 );
						mesh = object;
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 0.5;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,   0.99, 0.4 );
				camera5.position.set(    0,   0.99, 0.4 );
			}
			else if( Model_BTN_No == NN_MK2 )
			{// MK2
				mtlLoader.load( 'MK2.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'MK2.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.05, 0.05, 0.05 );
						mesh = object;
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 4;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  60,  -63 );
				camera5.position.set(    0,  60,  -63 );
			}
			else if( Model_BTN_No == NN_RX78 )
			{// RX78
				mtlLoader.load( 'RX78.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'RX78.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.05, 0.05, 0.05 );
						mesh = object;
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 4;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0, 45, -30 );
				camera5.position.set(    0, 45, -30 );
			}
			else if( Model_BTN_No == NN_MS06J )
			{// MS06J
				mtlLoader.load( 'ms06j.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'ms06j.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.05, 0.05, 0.05 );
						mesh = object;
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 4;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0, 50, -55 );
				camera5.position.set(    0, 50, -55 );
			}
			else if( Model_BTN_No == NN_MS05 )
			{// MS05
				mtlLoader.load( 'MS05.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'MS05.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.05, 0.05, 0.05 );
						mesh = object;
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 4;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0, 50, -55 );
				camera5.position.set(    0, 50, -55 );
			}
			else if( Model_BTN_No == NN_Mave )
			{// Mave
				mtlLoader.load( 'mave.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'mave.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.05, 0.05, 0.05 );
						mesh = object;
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 1;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0, 2.4, -2.7 );
				camera5.position.set(    0, 2.4, -2.7 );
			}
			else if( Model_BTN_No == NN_WrightFlyer )
			{// WrightFlyer
				mtlLoader.load( 'WrightFlyer.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'WrightFlyer.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.05, 0.05, 0.05 );
						mesh = object;
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 0.5;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0, 12, -2 );
				camera5.position.set(    0, 12, -2 );
			}
			else if( Model_BTN_No == NN_G5Phenix )
			{// G5Phenix
				mtlLoader.load( 'g5phnx.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'g5phnx.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.1, 0.1, 0.1 );
						mesh = object;
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 5;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0, 12, -2 );
				camera5.position.set(    0, 12, -2 );
			}
			else if( Model_BTN_No == NN_CatBus )
			{// CatBus
				mtlLoader.load( 'catbus.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'catbus.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.1, 0.1, 0.1 );
						mesh = object;
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 1.3;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0, 12, -2 );
				camera5.position.set(    0, 12, -2 );
			}
			else if( Model_BTN_No == NN_M96 )
			{// M96
				mtlLoader.load( 'Prop_96NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_96NP.obj', function ( object ) {
						object.scale.set(  1.0, 1.0, 1.0  );
						object.position.set( 0, 0, 0);
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( '96NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( '96NP.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 3, 3, 3 );
						mesh = object;
						mesh.add(propMesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.7;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,    0.5,   -0.1 );
				camera5.position.set(    0,    0.5,   -0.1 );
			}
			else if( Model_BTN_No == NN_M97 )
			{// M97
				mtlLoader.load( 'Prop_97NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_97NP.obj', function ( object ) {
						object.scale.set(  1.0, 1.0, 1.0  );
						object.position.set( 0, 0, 0);
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_97NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_97NP.obj', function ( object ) {
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( '97NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( '97NP.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 2, 2, 2 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(propMesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.7;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  0.5, 0.15 );
				camera5.position.set(    0,  0.5, 0.15 );
			}
			else if( Model_BTN_No == NN_M99 )
			{// M99
				mtlLoader.load( 'Prop_99NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_99NP.obj', function ( object ) {
						object.scale.set(  1.0, 1.0, 1.0  );
						object.position.set( 0, 0, 0);
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( '99NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( '99NP.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 2, 2, 2 );
						mesh = object;
						mesh.add(propMesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.7;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0, 0.57, 0.13 );
				camera5.position.set(    0, 0.57, 0.13 );
			}
			else if( Model_BTN_No == NN_A7M2_Reppu )
			{// A7M2_Reppu
				mtlLoader.load( 'Prop_A7M2NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_A7M2NP.obj', function ( object ) {
						object.scale.set(  1.0, 1.0, 1.0  );
						object.position.set( 0, 0, -1);
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_A7M2NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_A7M2NP.obj', function ( object ) {
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'A7M2NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'A7M2NP.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.15, 0.15, 0.15 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(propMesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.2;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0, 9, -14 );
				camera5.position.set(    0, 9, -14 );
			}
			else if( Model_BTN_No == NN_B7A2_Ryusei )
			{// B7A2_Ryusei
				mtlLoader.load( 'Prop_B7A2NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_B7A2NP.obj', function ( object ) {
						object.scale.set(  1.0, 1.0, 1.0  );
						object.position.set( 0, 0, 0);
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_B7A2NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_B7A2NP.obj', function ( object ) {
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'B7A2NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'B7A2NP.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 2, 2, 2 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(propMesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.8;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  0.7, -0.2 );
				camera5.position.set(    0,  0.7, -0.2 );
			}
			else if( Model_BTN_No == NN_D4Y2_Suisei )
			{// D4Y2_Suisei
				mtlLoader.load( 'Prop_D4Y2NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_D4Y2NP.obj', function ( object ) {
						object.scale.set(  1.0, 1.0, 1.0  );
						object.position.set( 0, 0, 0);
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_D4Y2NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_D4Y2NP.obj', function ( object ) {
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'D4Y2NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'D4Y2NP.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 2, 2, 2 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(propMesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.5;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  0.6, 0.1 );
				camera5.position.set(    0,  0.6, 0.1 );
			}
			else if( Model_BTN_No == NN_Spitfire )
			{// Spitfire
				mtlLoader.load( 'Prop_SpitfireNP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_SpitfireNP.obj', function ( object ) {
						object.scale.set(  1.0, 1.0, 1.0  );
						object.position.set( 0, 0, 0);
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_SpitfireNP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_SpitfireNP.obj', function ( object ) {
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'SpitfireNP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'SpitfireNP.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.15, 0.15, 0.15 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(propMesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.5;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0, 6, 8 );
				camera5.position.set(    0, 6, 8 );
			}
			else if( Model_BTN_No == NN_JU87 )
			{// JU87
				mtlLoader.load( 'Prop_JU87NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_JU87NP.obj', function ( object ) {
						object.scale.set(  1.0, 1.0, 1.0  );
						object.position.set( 0, 0, 0);
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_JU87NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_JU87NP.obj', function ( object ) {
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'JU87NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'JU87NP.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.15, 0.15, 0.15 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(propMesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.8;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0, 8.5, 5.5 );
				camera5.position.set(    0, 8.5, 5.5 );
			}
			else if( Model_BTN_No == NN_BF109 )
			{// BF109
				mtlLoader.load( 'Prop_BF109NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_BF109NP.obj', function ( object ) {
						object.scale.set(  1.0, 1.0, 1.0  );
						object.position.set( 0, 0, 0);
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_BF109NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_BF109NP.obj', function ( object ) {
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'BF109NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'BF109NP.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.15, 0.15, 0.15 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(propMesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.5;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0, 7, 12 );
				camera5.position.set(    0, 7, 12);
			}
			else if( Model_BTN_No == NN_FW140 )
			{// FW140
				mtlLoader.load( 'Prop_FW190NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_FW190NP.obj', function ( object ) {
						object.scale.set(  1.0, 1.0, 1.0  );
						object.position.set( 0, 0, 0);
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_FW190NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_FW190NP.obj', function ( object ) {
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'FW190NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'FW190NP.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.15, 0.15, 0.15 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(propMesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.8;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,    8,   13 );
				camera5.position.set(    0,    8,   13 );
			}
			else if( Model_BTN_No == NN_F4F )
			{// F4F
				mtlLoader.load( 'Prop_F4FNP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_F4FNP.obj', function ( object ) {
						object.scale.set(  1.0, 1.0, 1.0  );
						object.position.set( 0, 0, 0);
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_F4FNP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_F4FNP.obj', function ( object ) {
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'F4FNP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'F4FNP.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.15, 0.15, 0.15 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(propMesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.3;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,   10,   6 );
				camera5.position.set(    0,   10,   6 );
			}
			else if( Model_BTN_No == NN_F6F )
			{// F6F
				mtlLoader.load( 'Prop_F6FNP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_F6FNP.obj', function ( object ) {
						object.scale.set(  1.0, 1.0, 1.0  );
						object.position.set( 0, 0, 0);
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_F6FNP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_F6FNP.obj', function ( object ) {
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'F6FNP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'F6FNP.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.15, 0.15, 0.15 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(propMesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 3.2;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,   12,    9 );
				camera5.position.set(    0,   12,    9 );
			}
			else if( Model_BTN_No == NN_P38 )
			{// P38
				mtlLoader.load( 'Prop_P38NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_P38NP.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( 24.5, 0, -25 );
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Prop_P38NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_P38NP.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( -24.5, 0, -25 );
						propMesh1 = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_P38NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_P38NP.obj', function ( object ) {
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'P38NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'P38NP.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.15, 0.15, 0.15 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(propMesh);
						mesh.add(propMesh1);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 3.2;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,    5, -5 );
				camera5.position.set(    0,    5, -5 );
			}
			else if( Model_BTN_No == NN_P39 )
			{// P39
				mtlLoader.load( 'Prop_P39NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_P39NP.obj', function ( object ) {
						object.scale.set(  1.0, 1.0, 1.0  );
						object.position.set( 0, 0, 0);
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_P39NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_P39NP.obj', function ( object ) {
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'P39NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'P39NP.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.15, 0.15, 0.15 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(propMesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 3;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,    6,   -2 );
				camera5.position.set(    0,    6,   -2 );
			}
			else if( Model_BTN_No == NN_P51 )
			{// P51
				mtlLoader.load( 'Prop_P51NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_P51NP.obj', function ( object ) {
						object.scale.set(  1.0, 1.0, 1.0  );
						object.position.set( 0, 0, 0);
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_P51NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_P51NP.obj', function ( object ) {
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'P51NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'P51NP.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.15, 0.15, 0.15 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(propMesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.7;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,    7,   7 );
				camera5.position.set(    0,    7,   7 );
			}
			else if( Model_BTN_No == NN_B29 )
			{// B29
				mtlLoader.load( 'Prop_B29NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_B29NP.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( 41.5, 1.2, -50 );
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Prop_B29NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_B29NP.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( -41.5, 1.2, -50 );
						propMesh1 = object;
					}, null, null );
				});
				mtlLoader.load( 'Prop_B29NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_B29NP.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( 93.2, 4, -44 );
						propMesh2 = object;
					}, null, null );
				});
				mtlLoader.load( 'Prop_B29NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_B29NP.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( -93.2, 4, -44 );
						propMesh3 = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_B29NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_B29NP.obj', function ( object ) {
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'B29NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'B29NP.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.1, 0.1, 0.1 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(propMesh);
						mesh.add(propMesh1);
						mesh.add(propMesh2);
						mesh.add(propMesh3);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.7;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,    9,  -82 );
				camera5.position.set(    0,    9,  -82 );
			}
			else if( Model_BTN_No == NN_B727 )
			{// B727
				mtlLoader.load( 'Gear_B727NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_B727NG.obj', function ( object ) {
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'B727NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'B727NG.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.1, 0.1, 0.1 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.9;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,    9,  -240 );
				camera5.position.set(    0,    9,  -240);
			}
			else if( Model_BTN_No == NN_B737 )
			{// B737
				mtlLoader.load( 'Gear_B737NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_B737NG.obj', function ( object ) {
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'B737NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'B737NG.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.1, 0.1, 0.1 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 1.9;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,    19,-120 );
				camera5.position.set(    0,    19,-120 );
			}
			else if( Model_BTN_No == NN_B747 )
			{// B747
				mtlLoader.load( 'Gear_B747NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_B747NG.obj', function ( object ) {
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'B747NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'B747NG.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.07, 0.07, 0.07 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 4;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,   30,  -280 );
				camera5.position.set(    0,   30,  -280 );
			}
			else if( Model_BTN_No == NN_CitationX )
			{// CitationX
				mtlLoader.load( 'Gear_CitationXNG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_CitationXNG.obj', function ( object ) {
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'CitationXNG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'CitationXNG.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.1, 0.1, 0.1 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 1.3;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set( -2.5,   13,  -59 );
				camera5.position.set( -2.5,   13,  -59 );
			}
			else if( Model_BTN_No == NN_L1011 )
			{// L1011
				mtlLoader.load( 'Gear_L1011NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_L1011NG.obj', function ( object ) {
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'L1011NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'L1011NG.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.1, 0.1, 0.1 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 4;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,   16, -250 );
				camera5.position.set(    0,   16, -250 );
			}
			else if( Model_BTN_No == NN_Q400 )
			{// Q400
				mtlLoader.load( 'Prop_Q400NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_Q400NP.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( 44, 10, -40 );
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Prop_Q400NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_Q400NP.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( -44, 10, -40 );
						propMesh1 = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_Q400NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_Q400NP.obj', function ( object ) {
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Q400NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Q400NP.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.1, 0.1, 0.1 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(propMesh);
						mesh.add(propMesh1);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.2;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,   11, -120 );
				camera5.position.set(    0,   11, -120 );
			}
			else if( Model_BTN_No == NN_FRR31 )
			{// FRR31
				mtlLoader.load( 'Gear_FRR31NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_FRR31NG.obj', function ( object ) {
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Bunner_FRR31NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Bunner_FRR31NG.obj', function ( object ) {
						Bunner_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'FRR31NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'FRR31NG.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.1, 0.1, 0.1 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 3;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,   11, -120 );
				camera5.position.set(    0,   11, -120 );
			}
			else if( Model_BTN_No == NN_UH001 )
			{// UH001
				mtlLoader.load( 'Gear_UH001NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_UH001NG.obj', function ( object ) {
						object.scale.set( 0.07, 0.07, 0.07 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Bunner_UH001NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Bunner_UH001NG.obj', function ( object ) {
						object.scale.set( 0.07, 0.07, 0.07 );
						Bunner_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'UH001_1NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'UH001_1NG.obj', function ( object ) {
						object.scale.set( 0.07, 0.07, 0.07 );
						temp_Mesh1 = object;
					}, null, null );
				});
				mtlLoader.load( 'UH001_2NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'UH001_2NG.obj', function ( object ) {
						object.scale.set( 0.07, 0.07, 0.07 );
						temp_Mesh2 = object;
					}, null, null );
				});
				mtlLoader.load( 'UH001_3NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'UH001_3NG.obj', function ( object ) {
						object.scale.set( 0.07, 0.07, 0.07 );
						temp_Mesh3 = object;
					}, null, null );
				});
				mtlLoader.load( 'UH001NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'UH001NG.obj', function ( object ) {
						F35B2_mesh.remove(Gear2_mesh);
						mesh.remove(F35B2_mesh);
						mesh.remove(Gear_mesh);
						mesh.remove(temp_Mesh1);
						mesh.remove(temp_Mesh1);
						mesh.remove(temp_Mesh2);
						mesh.remove(temp_Mesh3);
						mesh.remove(temp_Mesh4);
						mesh       = Clear_Mesh;
						F35B2_mesh = Clear_Mesh;
						scene.remove( mesh );
						object.scale.set( 0.07, 0.07, 0.07 );
						temp_Mesh4 = object;
						mesh.add(temp_Mesh4);
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.3;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,   11, -120 );
				camera5.position.set(    0,   11, -120 );
			}
			else if( Model_BTN_No == NN_F104J )
			{// F104J
				mtlLoader.load( 'Gear_F104NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_F104NG.obj', function ( object ) {
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Bunner_F104NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Bunner_F104NG.obj', function ( object ) {
						Bunner_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'F104NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'F104NG.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 2, 2, 2 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,   0.6, -4.3 );
				camera5.position.set(    0,   0.6, -4.3 );
			}
			else if( Model_BTN_No == NN_T2B )
			{// T2B
				mtlLoader.load( 'Gear_T2BNG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_T2BNG.obj', function ( object ) {
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Bunner_T2BNG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Bunner_T2BNG.obj', function ( object ) {
						Bunner_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'T2BNG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'T2BNG.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.15, 0.15, 0.15 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 3.3;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,   4, -68 );
				camera5.position.set(    0,   4, -68 );
			}
			else if( Model_BTN_No == NN_T2CCV )
			{// T2CCV
				mtlLoader.load( 'Gear_T2CCVNG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_T2CCVNG.obj', function ( object ) {
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Bunner_T2CCVNG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Bunner_T2CCVNG.obj', function ( object ) {
						Bunner_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'T2CCVNG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'T2CCVNG.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.15, 0.15, 0.15 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 3.3;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,   4, -68 );
				camera5.position.set(    0,   4, -68 );
			}
			else if( Model_BTN_No == NN_SR71A )
			{// SR71A
				mtlLoader.load( 'Gear_SR71NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_SR71NG.obj', function ( object ) {
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Bunner_SR71NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Bunner_SR71NG.obj', function ( object ) {
						Bunner_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'SR71NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'SR71NG.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.15, 0.15, 0.15 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 3.4;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,   9, -105 );
				camera5.position.set(    0,   9, -105 );
			}
			else if( Model_BTN_No == NN_F14 )
			{// F14
				mtlLoader.load( 'Gear_F14NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_F14NG.obj', function ( object ) {
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Bunner_F14NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Bunner_F14NG.obj', function ( object ) {
						Bunner_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'LW_F14NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'LW_F14NG.obj', function ( object ) {
						LW_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'HW_F14NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'HW_F14NG.obj', function ( object ) {
						HW_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'F14NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'F14NG.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.15, 0.15, 0.15 );
						mesh = object;
						mesh.add(LW_mesh);
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 3;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  14, -57 );
				camera5.position.set(    0,  14, -57 );
			}
			else if( Model_BTN_No == NN_F3X2 )
			{// F3X2
				mtlLoader.load( 'Gear_F3X2NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_F3X2NG.obj', function ( object ) {
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Bunner_F3X2NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Bunner_F3X2NG.obj', function ( object ) {
						Bunner_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'F3X2NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'F3X2NG.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.15, 0.15, 0.15 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.7;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  4, -40 );
				camera5.position.set(    0,  4, -40 );
			}
			else if( Model_BTN_No == NN_Mirage2000 )
			{// Mirage2000
				mtlLoader.load( 'Gear_Mirage2000NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_Mirage2000NG.obj', function ( object ) {
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Bunner_Mirage2000NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Bunner_Mirage2000NG.obj', function ( object ) {
						Bunner_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Mirage2000NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Mirage2000NG.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.15, 0.15, 0.15 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.2;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  4, -40 );
				camera5.position.set(    0,  4, -40 );
			}
			else if( Model_BTN_No == NN_Rafale )
			{// Rafale
				mtlLoader.load( 'Gear_RafaleNG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_RafaleNG.obj', function ( object ) {
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Bunner_RafaleNG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Bunner_RafaleNG.obj', function ( object ) {
						Bunner_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'RafaleNG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'RafaleNG.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.15, 0.15, 0.15 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.6;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  4, -40 );
				camera5.position.set(    0,  4, -40 );
			}
			else if( Model_BTN_No == NN_X29_A88 )
			{// X29_A88
				mtlLoader.load( 'Gear_X29_A88NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_X29_A88NG.obj', function ( object ) {
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Bunner_X29_A88NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Bunner_X29_A88NG.obj', function ( object ) {
						Bunner_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'X29_A88NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'X29_A88NG.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.15, 0.15, 0.15 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.5;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  4, -40 );
				camera5.position.set(    0,  4, -40 );
			}
			else if( Model_BTN_No == NN_Su30MKI )
			{// Su30MKI
				mtlLoader.load( 'Gear_Su30MKING.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_Su30MKING.obj', function ( object ) {
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Bunner_Su30MKING.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Bunner_Su30MKING.obj', function ( object ) {
						Bunner_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Su30MKING.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Su30MKING.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.15, 0.15, 0.15 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.7;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  4, -40 );
				camera5.position.set(    0,  4, -40 );
			}
			else if( Model_BTN_No == NN_Su27Haruhi )
			{// Su27Haruhi
				mtlLoader.load( 'Gear_Su27HaruhiNG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_Su27HaruhiNG.obj', function ( object ) {
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Bunner_Su27HaruhiNG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Bunner_Su27HaruhiNG.obj', function ( object ) {
						Bunner_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Su27HaruhiNG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Su27HaruhiNG.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.15, 0.15, 0.15 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.7;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  4, -40 );
				camera5.position.set(    0,  4, -40 );
			}
			else if( Model_BTN_No == NN_Su47 )
			{// Su47
				mtlLoader.load( 'Gear_Su47NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_Su47NG.obj', function ( object ) {
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Bunner_Su47NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Bunner_Su47NG.obj', function ( object ) {
						Bunner_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Su47NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Su47NG.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.15, 0.15, 0.15 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.7;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  7, -70 );
				camera5.position.set(    0,  7, -70 );
			}
			else if( Model_BTN_No == NN_YF23 )
			{// YF23
				mtlLoader.load( 'Gear_YF23NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_YF23NG.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'YF23NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'YF23NG.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.rotation.set( 0, 1.57, 0 );
						object.scale.set( 1.5, 1.5, 1.5 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 3.5;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.rotation.set(    0, -1.57,  0 );
				camera1.position.set(    5.5,  1.1,    0 );
				camera5.rotation.set(    0, -1.57,  0 );
				camera5.position.set(    5.5,  1.1,    0 );
			}
			else if( Model_BTN_No == NN_BlueAngels )
			{// BlueAngels
				mtlLoader.load( 'Bunner_F18_BlueAngelsNG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Bunner_F18_BlueAngelsNG.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Bunner_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_F18_BlueAngelsNG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_F18_BlueAngelsNG.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'F18_BlueAngelsNG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'F18_BlueAngelsNG.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.15, 0.15, 0.15 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 3.5;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  7, -70 );
				camera5.position.set(    0,  7, -70 );
			}
			else if( Model_BTN_No == NN_ThanderBirds )
			{// ThanderBirds
				mtlLoader.load( 'Bunner_F16_ThanderBirdsNG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Bunner_F16_ThanderBirdsNG.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Bunner_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_F16_ThanderBirdsNG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_F16_ThanderBirdsNG.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'F16_ThanderBirdsNG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'F16_ThanderBirdsNG.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.15, 0.15, 0.15 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 3.5;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  7, -70 );
				camera5.position.set(    0,  7, -70 );
			}
			else if( Model_BTN_No == NN_RedArrows )
			{// RedArrows
				mtlLoader.load( 'Gear_RedArrowsNG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_RedArrowsNG.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'RedArrowsNG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'RedArrowsNG.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.15, 0.15, 0.15 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 3.5;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  7, -70 );
				camera5.position.set(    0,  7, -70 );
			}
			else if( Model_BTN_No == NN_T2_Blueimpulse )
			{// T2_Blueimpulse
				mtlLoader.load( 'Bunner_T2_BlueimpulseNG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Bunner_T2_BlueimpulseNG.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Bunner_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_T2_BlueimpulseNG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_T2_BlueimpulseNG.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'T2_BlueimpulseNG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'T2_BlueimpulseNG.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.15, 0.15, 0.15 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 3.0;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  7, -70 );
				camera5.position.set(    0,  7, -70 );
			}
			else if( Model_BTN_No == NN_T4_Blueimpulse )
			{// T4_Blueimpulse
				mtlLoader.load( 'Gear_T4_BlueimpulseNG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_T4_BlueimpulseNG.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'T4_BlueimpulseNG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'T4_BlueimpulseNG.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.15, 0.15, 0.15 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.5;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  7, -70 );
				camera5.position.set(    0,  7, -70 );
			}
			else if( Model_BTN_No == NN_E2C )
			{// E2C
				mtlLoader.load( 'Prop_E2CNP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_E2CNP.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( 33, 7, -32 );
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Prop_E2CNP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_E2CNP.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( -33, 7, -32 );
						propMesh1 = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_E2CNP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_E2CNP.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'E2CNP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'E2CNP.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.15, 0.15, 0.15 );
						mesh = object;
						mesh.add(propMesh);
						mesh.add(propMesh1);
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.5;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  7, -70 );
				camera5.position.set(    0,  7, -70 );
			}
			else if( Model_BTN_No == NN_US2A )
			{// US2A
				mtlLoader.load( 'Prop_US2ANP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_US2ANP.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( 2.8, 2.2, -2.3 );
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Prop_US2ANP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_US2ANP.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( -2.8, 2.2, -2.3 );
						propMesh1 = object;
					}, null, null );
				});
				mtlLoader.load( 'Prop_US2ANP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_US2ANP.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( 6.2, 2.2, -1.9 );
						propMesh2 = object;
					}, null, null );
				});
				mtlLoader.load( 'Prop_US2ANP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_US2ANP.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( -6.2, 2.2, -1.9 );
						propMesh3 = object;
					}, null, null );
				});
				mtlLoader.load( 'US2ANP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'US2ANP.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 1.5, 1.5, 1.5 );
						mesh = object;
						mesh.add(propMesh);
						mesh.add(propMesh1);
						mesh.add(propMesh2);
						mesh.add(propMesh3);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 1.2;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  7, -70 );
				camera5.position.set(    0,  7, -70 );
			}
			else if( Model_BTN_No == NN_AC130 )
			{// AC130
				mtlLoader.load( 'Prop_AC130NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_AC130NP.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( 51, 14, -34 );
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Prop_AC130NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_AC130NP.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( -51, 14, -34 );
						propMesh1 = object;
					}, null, null );
				});
				mtlLoader.load( 'Prop_AC130NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_AC130NP.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( 103, 16, -34 );
						propMesh2 = object;
					}, null, null );
				});
				mtlLoader.load( 'Prop_AC130NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_AC130NP.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( -103, 16, -34 );
						propMesh3 = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_AC130NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_AC130NP.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'AC130NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'AC130NP.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.12, 0.12, 0.12 );
						mesh = object;
						mesh.add(propMesh);
						mesh.add(propMesh1);
						mesh.add(propMesh2);
						mesh.add(propMesh3);
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 3.3;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  7, -70 );
				camera5.position.set(    0,  7, -70 );
			}
			else if( Model_BTN_No == NN_HarrierGR7F )
			{// HarrierGR7F
				mtlLoader.load( 'Gear_HarrierGR7F.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_HarrierGR7F.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'HarrierGR7F.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'HarrierGR7F.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.2, 0.2, 0.2 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 3.3;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  7, -70 );
				camera5.position.set(    0,  7, -70 );
			}
			else if( Model_BTN_No == NN_AlphaJet )
			{// AlphaJet
				mtlLoader.load( 'Gear_AlphaJetNG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_AlphaJetNG.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'AlphaJetNG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'AlphaJetNG.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.2, 0.2, 0.2 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.5;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  7, -70 );
				camera5.position.set(    0,  7, -70 );
			}
			else if( Model_BTN_No == NN_J35F )
			{// J35F
				mtlLoader.load( 'Bunner_J35FNG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Bunner_J35FNG.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Bunner_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_J35FNG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_J35FNG.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'J35FNG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'J35FNG.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.2, 0.2, 0.2 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 3;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  7, -70 );
				camera5.position.set(    0,  7, -70 );
			}
			else if( Model_BTN_No == NN_JAS39 )
			{// JAS39
				mtlLoader.load( 'Bunner_JAS39NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Bunner_JAS39NG.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Bunner_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_JAS39NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_JAS39NG.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'JAS39NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'JAS39NG.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.2, 0.2, 0.2 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 3.6;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  7, -70 );
				camera5.position.set(    0,  7, -70 );
			}
			else if( Model_BTN_No == NN_P20380 )
			{// P20380
				mtlLoader.load( 'P20380.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'P20380.obj', function ( object ) {
						scene.remove( mesh );
						object.scale.set( 0.1, 0.1, 0.1 );
						mesh = object;
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 7;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  7, -70 );
				camera5.position.set(    0,  7, -70 );
			}
			else if( Model_BTN_No == NN_F20A )
			{// F20A
				mtlLoader.load( 'Bunner_F20ANG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Bunner_F20ANG.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Bunner_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_F20ANG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_F20ANG.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'F20ANG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'F20ANG.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.2, 0.2, 0.2 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 3;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  7, -70 );
				camera5.position.set(    0,  7, -70 );
			}
			else if( Model_BTN_No == NN_F117A )
			{// F117A
				mtlLoader.load( 'Gear_F117ANG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_F117ANG.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'F117ANG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'F117ANG.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.2, 0.2, 0.2 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 3.6;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  7, -70 );
				camera5.position.set(    0,  7, -70 );
			}
			else if( Model_BTN_No == NN_AirForce1 )
			{// AirForce1
				mtlLoader.load( 'Gear_AirForce1NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_AirForce1NG.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'AirForce1NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'AirForce1NG.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.08, 0.08, 0.08 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 3.6;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  7, -70 );
				camera5.position.set(    0,  7, -70 );
			}
			else if( Model_BTN_No == NN_LearJet )
			{// LearJet
				mtlLoader.load( 'Gear_LearJetNG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_LearJetNG.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'LearJetNG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'LearJetNG.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.2, 0.2, 0.2 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.6;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  7, -70 );
				camera5.position.set(    0,  7, -70 );
			}
			else if( Model_BTN_No == NN_HOPEX )
			{// HOPEX
				mtlLoader.load( 'Gear_LearJetNG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_LearJetNG.obj', function ( object ) {
						object.scale.set( 1.2, 1.2, 1.2 );
						object.position.set (  0,    4,  35 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'HOPEX.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'HOPEX.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.2, 0.2, 0.2 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.6;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  7, -70 );
				camera5.position.set(    0,  7, -70 );
			}
			else if( Model_BTN_No == NN_Osuikan )
			{// osuikan
				mtlLoader.load( 'Prop_osuikan.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_osuikan.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( 0, 0, 0 );
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'osuikanNP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'osuikanNP.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.1, 0.1, 0.1 );
						mesh = object;
						mesh.add(propMesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.5;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,   9,   11 );
				camera5.position.set(    0,   9,   11 );
			}
			else if( Model_BTN_No == NN_Osuitei )
			{// osuitei
				mtlLoader.load( 'Prop_osuitei.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_osuitei.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( 0, 0, 0 );
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'osuiteiNP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'osuiteiNP.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.13, 0.13, 0.13 );
						mesh = object;
						mesh.add(propMesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.5;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,   7,   4 );
				camera5.position.set(    0,   7,   4 );
			}
			else if( Model_BTN_No == NN_z2suisen )
			{// z2suisen
				mtlLoader.load( 'Prop_z2suisen.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_z2suisen.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( 0, 0, 0 );
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'z2suisenNP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'z2suisenNP.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 1.6, 1.6, 1.6 );
						mesh = object;
						mesh.add(propMesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.5;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,   0.6,   0.4 );
				camera5.position.set(    0,   0.6,   0.4 );
			}
			else if( Model_BTN_No == NN_B6N2_Saiun )
			{// B6N2_Saiun
				mtlLoader.load( 'Prop_B6N2.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_B6N2.obj', function ( object ) {
						object.scale.set(  1.0, 1.0, 1.0  );
						object.position.set( 0, 0, -1);
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_B6N2.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_B6N2.obj', function ( object ) {
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'B6N2NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'B6N2NP.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.15, 0.15, 0.15 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(propMesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.7;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,    8,    7 );
				camera5.position.set(    0,    8,    7 );
			}
			else if( Model_BTN_No == NN_B52 )
			{// B52
				mtlLoader.load( 'Gear_B52.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_B52.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						object.position.set (  0, 0, 0 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'B52NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'B52NG.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.07, 0.07, 0.07 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.2;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  22, -189 );
				camera5.position.set(    0,  22, -189 );
			}
			else if( Model_BTN_No == NN_B2A )
			{// B2A
				mtlLoader.load( 'Gear_B2A.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_B2A.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						object.position.set (  0, 0, 0 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'B2ANG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'B2ANG.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.07, 0.07, 0.07 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.2;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0, 11, -60 );
				camera5.position.set(    0, 11, -60 );
			}
			else if( Model_BTN_No == NN_Dr1 )
			{// Dr1
				mtlLoader.load( 'Prop_Dr1.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_Dr1.obj', function ( object ) {
						object.scale.set(  1.0, 1.0, 1.0  );
						object.position.set( 0, 0, -1);
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Dr1NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Dr1NP.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.15, 0.15, 0.15 );
						mesh = object;
						mesh.add(propMesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.7;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,    7,    9 );
				camera5.position.set(    0,    7,    9 );
			}
			else if( Model_BTN_No == NN_camelF110 )
			{// camelF110
				mtlLoader.load( 'Prop_camelF110.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_camelF110.obj', function ( object ) {
						object.scale.set(  1.0, 1.0, 1.0  );
						object.position.set( 0, -4.8, 0);
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'camelF110NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'camelF110NP.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.15, 0.15, 0.15 );
						mesh = object;
						mesh.add(propMesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.7;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,    3,   3 );
				camera5.position.set(    0,    3,   3 );
			}
			else if( Model_BTN_No == NN_HSSB2 )
			{// HSSB2
				mtlLoader.load( 'Prop_HSSB2.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_HSSB2.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						object.rotation.set( 0, 0, 0);
						object.position.set( 0, 0, 0);
						MR_propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'PropT_HSSB2.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'PropT_HSSB2.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						object.position.set( -7, 20, 112);
						TR_propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_HSSB2.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_HSSB2.obj', function ( object ) {
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'HSSB2NG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'HSSB2NG.obj', function ( object ) {
						F35B2_mesh = Clear_Mesh;
						mesh.remove(F35B2_mesh);
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.1, 0.1, 0.1 );
						mesh = object;
						mesh.add(MR_propMesh);
						mesh.add(TR_propMesh);
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 1.5;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -20,    2,  -30 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0, 10, -20 );
				camera5.position.set(    0, 10, -20 );
			}
			else if( Model_BTN_No == NN_RQ1 )
			{// RQ1
				mtlLoader.load( 'Prop_RQ1.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_RQ1.obj', function ( object ) {
						object.scale.set(  1.0, 1.0, 1.0  );
						object.position.set( 0, 0, 0);
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'RQ1NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'RQ1NP.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.15, 0.15, 0.15 );
						mesh = object;
						mesh.add(propMesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.4;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,    3,   3 );
				camera5.position.set(    0,    3,   3 );
			}
			else if( Model_BTN_No == NN_Me262a )
			{// me262a
				mtlLoader.load( 'Gear_me262a.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_me262a.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						object.position.set (  0, 0, 0 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'me262aNG.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'me262aNG.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.2, 0.2, 0.2 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 3.9;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0, 8, 12 );
				camera5.position.set(    0, 8, 12 );
			}
			else if( Model_BTN_No == NN_F4U )
			{// F4U
				mtlLoader.load( 'Prop_F4U.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_F4U.obj', function ( object ) {
						object.scale.set(  1.0, 1.0, 1.0  );
						object.position.set( 0, 0, 0);
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_F4U.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_F4U.obj', function ( object ) {
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'F4UNP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'F4UNP.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.15, 0.15, 0.15 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(propMesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 3.5;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,    10,   19 );
				camera5.position.set(    0,    10,   19 );
			}
			else if( Model_BTN_No == NN_Gekko )
			{// gekko
				mtlLoader.load( 'Prop_gekko.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_gekko.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( 20, -6, -34 );
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Prop_gekko.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_gekko.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( -20, -6, -34 );
						propMesh1 = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_gekko.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_gekko.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'gekkoNP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'gekkoNP.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.17, 0.17, 0.17 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(propMesh);
						mesh.add(propMesh1);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 3.9;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  8, -12 );
				camera5.position.set(    0,  8, -12 );
			}
			else if( Model_BTN_No == NN_Kamikaze )
			{// kamikaze
				mtlLoader.load( 'Prop_kamikaze.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_kamikaze.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( 0, 0, 0 );
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'kamikazeNP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'kamikazeNP.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.17, 0.17, 0.17 );
						mesh = object;
						mesh.add(propMesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.9;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  8, 6 );
				camera5.position.set(    0,  8, 6 );
			}
			else if( Model_BTN_No == NN_Seiran )
			{// Seiran
				mtlLoader.load( 'Prop_Seiran.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_Seiran.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( 0, 0, 0 );
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'SeiranNP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'SeiranNP.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 3.0, 3.0, 3.0 );
						mesh = object;
						mesh.add(propMesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 3.9;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  0.7, 0.3 );
				camera5.position.set(    0,  0.7, 0.3 );
			}
			else if( Model_BTN_No == NN_Kyoufu )
			{// Kyoufu
				mtlLoader.load( 'Prop_Kyoufu.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_Kyoufu.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( 0, 0, 0 );
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'KyoufuNP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'KyoufuNP.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.17, 0.17, 0.17 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(propMesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 4.2;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  10, 12 );
				camera5.position.set(    0,  10, 12);
			}
			else if( Model_BTN_No == NN_Raiden )
			{// Raiden
				mtlLoader.load( 'Prop_Raiden.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_Raiden.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( 0, 0, 0 );
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_Raiden.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_Raiden.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'RaidenNP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'RaidenNP.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.17, 0.17, 0.17 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(propMesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 3.4;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0, 11, 15 );
				camera5.position.set(    0, 11, 15 );
			}
			else if( Model_BTN_No == NN_Tenzan )
			{// Tenzan
				mtlLoader.load( 'Prop_Tenzan.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_Tenzan.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( 0, 0, 0 );
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_Tenzan.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_Tenzan.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						object.position.set( 0, 0, 20 );
						object.rotation.set( 0.03, 0, 0 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'TenzanNP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'TenzanNP.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.17, 0.17, 0.17 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(propMesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 3.1;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  8, 1 );
				camera5.position.set(    0,  8, 1 );
			}
			else if( Model_BTN_No == NN_A7M2_Reppu2 )
			{// Reppu
				mtlLoader.load( 'Prop_Reppu.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_Reppu.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( 0, 0, 0 );
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_Reppu.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_Reppu.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'ReppuNP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'ReppuNP.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.17, 0.17, 0.17 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(propMesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.7;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  9, -14 );
				camera5.position.set(    0,  9, -14 );
			}
			else if( Model_BTN_No == NN_KI61B )
			{// KI61B
				mtlLoader.load( 'Prop_KI61B.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_KI61B.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( 0, 0, 0 );
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_KI61B.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_KI61B.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'KI61BNP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'KI61BNP.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.17, 0.17, 0.17 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(propMesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 3.1;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  7, 5 );
				camera5.position.set(    0,  7, 5 );
			}
			else if( Model_BTN_No == NN_KI61II )
			{// KI61II
				mtlLoader.load( 'Prop_KI61II.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_KI61II.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( 0, 0, 0 );
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_KI61II.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_KI61II.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'KI61IINP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'KI61IINP.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.17, 0.17, 0.17 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(propMesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.7;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  9, -7 );
				camera5.position.set(    0,  9, -7 );
			}
			else if( Model_BTN_No == NN_A6M6z64 )
			{// z64
				mtlLoader.load( 'Prop_z64.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_z64.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( 0, 0, 0 );
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_z64.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_z64.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'z64NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'z64NP.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.17, 0.17, 0.17 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(propMesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.7;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  9, -11.5 );
				camera5.position.set(    0,  9, -11.5 );
			}
			else if( Model_BTN_No == NN_A6M5z52 )
			{// z52
				mtlLoader.load( 'Prop_z52.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_z52.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( 0, 0, 0 );
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_z52.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_z52.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'z52NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'z52NP.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 2.5, 2.5, 2.5 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(propMesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 3.1;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  0.5, 0.5 );
				camera5.position.set(    0,  0.5, 0.5 );
			}
			else if( Model_BTN_No == NN_A6M3z32 )
			{// z32
				mtlLoader.load( 'Prop_z32.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_z32.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( 0, 0, 0 );
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_z32.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_z32.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'z32NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'z32NP.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.17, 0.17, 0.17 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(propMesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 3.1;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  8, 8 );
				camera5.position.set(    0,  8, 8 );
			}
			else if( Model_BTN_No == NN_A6M4z22 )
			{// z22
				mtlLoader.load( 'Prop_z22.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_z22.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( 0, 0, 0 );
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_z22.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_z22.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'z22NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'z22NP.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.17, 0.17, 0.17 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(propMesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 3.1;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  8, 8 );
				camera5.position.set(    0,  8, 8 );
			}
			else if( Model_BTN_No == NN_A6M2z21 )
			{// z21
				mtlLoader.load( 'Prop_z21.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Prop_z21.obj', function ( object ) {
						object.scale.set   ( 1, 1, 1 );
						object.position.set( 0, 0, 0 );
						propMesh = object;
					}, null, null );
				});
				mtlLoader.load( 'Gear_z21.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'Gear_z21.obj', function ( object ) {
						object.scale.set( 1, 1, 1 );
						Gear_mesh = object;
					}, null, null );
				});
				mtlLoader.load( 'z21NP.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'z21NP.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.17, 0.17, 0.17 );
						mesh = object;
						mesh.add(Gear_mesh);
						mesh.add(propMesh);
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 3.1;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,  8, 8 );
				camera5.position.set(    0,  8, 8 );
			}
			else if( Model_BTN_No == NN_SFFMP_4ch )
			{// SFFMP_4ch
				mtlLoader.load( 'SFFMP_4ch.mtl', function( materials ) {
					materials.preload();
					objLoader = new THREE.OBJLoader();
					objLoader.setMaterials( materials );
					objLoader.setPath( 'mmd/' );
					objLoader.load( 'SFFMP_4ch.obj', function ( object ) {
						mesh.remove( Gear_mesh );
						scene.remove( mesh );
						object.scale.set( 0.15, 0.15, 0.15 );
						mesh = object;
						mesh.add(camera1);
						Qbuff  = mesh.quaternion;
						camera0.lookAt( mesh.position );
						scene.add( mesh );
					}, null, null );
				});
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 2.5;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -30,    2,  -50 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0, 6, 8 );
				camera5.position.set(    0, 6, 8 );
			}
			else
			{// Delta
				object = new THREE.Mesh( meshGeometry1, meshMaterial1 );
				mesh.remove( Gear_mesh );
				scene.remove( mesh );
				object.scale.set( 0.3, 0.3, 0.3 );
				mesh = object;
				mesh.add(camera1);
				Qbuff  = mesh.quaternion;
				camera0.lookAt( mesh.position );
				scene.add( mesh );
				if ( V.z == 0.0)
				{
					P.x = 0;
					P.y = 1.2;
					P.z = 3;
				}
				mesh.position.x = P.x;
				mesh.position.y = P.y;
				mesh.position.z = P.z;
				camera.position.set (  -10,    2,  -20 );
				camera0.position.set(    0,    5,   20 );
				camera1.position.set(    0,    5,   20 );
				camera2.position.set(    0,    5,   20 );
			}

			if ( ( ( View_BTN_No == 5 ) && ( Menu.AI1 ) ) || ( ( View_BTN_No == 6 ) && ( Menu.AI1 ) ) )
			{
alert( "Change AI1 model!");
				mesh_AI1.copy( mesh );
			}
			else if ( ( View_BTN_No == 7 ) && ( Menu.AI2 ) )
			{
				scene.remove( mesh_AI2 );
alert( "Change AI2 model!");
				mesh_AI2.copy(mesh);
			}

			if( Menu.WingMan )
			{
				scene.remove( mesh_Wing1 );
				scene.remove( mesh_Wing2 );
alert( "Change Wingman model!");
				mesh_Wing1.copy(mesh);
				mesh_Wing2.copy(mesh);
			}

			Qbuff.x = Qmodel.x;
			Qbuff.y = Qmodel.y;
			Qbuff.z = Qmodel.z;
			Qbuff.w = Qmodel.w;
		}
/*----------------------------------------------------------------------------*/
// ボタン処理
/*----------------------------------------------------------------------------*/
function ModelButtonHandler() {
	Model_BTN_No++;
	if( Model_BTN_No == NN_F2A    ){ Model_BTN_No++; }
	if( Model_BTN_No == NN_2000GT ){ Model_BTN_No++; }
	if( Model_BTN_No == NN_F240Z  ){ Model_BTN_No++; }
	Model_BTN_No %= nameFiles.length;
	scene.remove( mesh );
	ObjectLoad( Model_BTN_No );
}
function View_ButtonHandler() {
	View_BTN_No++;
	View_BTN_No %= ViewMode.length;
	document.f1.View_Button.value = ViewMode[ View_BTN_No ];
}

function VTOL_ButtonHandler() {
	VTOL_BTN_Status++;
	VTOL_BTN_Status %= 3;
	
	if (VTOL_BTN_Status == 0)
	{
		document.f1.VTOL_Button.value='VTOL';
		if( VTOL_V != 0.0 )
		{
			V.z = -VTOL_V;
		}
	}
	else if (VTOL_BTN_Status == 1)
	{
		if ( Model_BTN_No == NN_F35B){ mesh.remove(F35B2_mesh); mesh.add(F35B1_mesh);}
		document.f1.VTOL_Button.value='HOVER';
	}
	else
	{
		if ( Model_BTN_No == NN_F35B){ mesh.remove(F35B1_mesh); mesh.add(F35B2_mesh);}
		document.f1.VTOL_Button.value='PLANE';
	}
}

function OP_ButtonHandler() {
	OP_BTN_Status++;
	if      ( Model_BTN_No == NN_F35B)     { OP_BTN_Status %= 3;}
	else if ( Model_BTN_No == NN_Concorde ){ OP_BTN_Status %= 2;}
	else if ( Model_BTN_No == NN_H2A)      { OP_BTN_Status %= 3;}
	else if ( Model_BTN_No == NN_TB2 )     { OP_BTN_Status %= 3;}
	else if ( Model_BTN_No == NN_UH001 )   { OP_BTN_Status %= 6;}
	else if ( Model_BTN_No == NN_F14 )     { OP_BTN_Status %= 3;}
	else                                   { OP_BTN_Status %= 2;}
	
	if (OP_BTN_Status == 0)
	{
		document.f1.OP_Button.value='Gear';
		mesh.add( Gear_mesh );
		if ( Model_BTN_No == NN_F35B )         { F35B2_mesh.add( Gear2_mesh ); mesh.remove(F35B2_mesh); mesh.add(F35B2_mesh);}
		else if ( Model_BTN_No == NN_Concorde ){ mesh.remove( Corn_mesh );}
		else if ( Model_BTN_No == NN_H2A )     { mesh.add( H2A_1st ); mesh.add( H2A_SRB ); mesh.add( H2A_SSB ); mesh.add( H2A_FL );}
		else if ( Model_BTN_No == NN_TB2 )     { mesh.remove( temp_Mesh3 ); mesh.remove( temp_Mesh2 ); mesh.add( temp_Mesh1 );}
		else if ( Model_BTN_No == NN_UH001 )   { mesh.remove( Bunner_mesh ); mesh.add( temp_Mesh4 );}
		else if ( Model_BTN_No == NN_F14 )     { mesh.remove( Bunner_mesh ); mesh.remove( HW_mesh ); mesh.add( LW_mesh );}
	}
	else if (OP_BTN_Status == 1)
	{
		document.f1.OP_Button.value='Flight';
		mesh.remove( Gear_mesh );
		if ( Model_BTN_No ==  NN_F35B )        { F35B1_mesh.remove( Gear1_mesh ); mesh.remove(F35B2_mesh); mesh.add(F35B1_mesh);}
		else if ( Model_BTN_No == NN_Concorde ){ mesh.add( Corn_mesh );}
		else if ( Model_BTN_No == NN_H2A )     { mesh.remove( H2A_1st ); mesh.remove( H2A_SRB ); mesh.remove( H2A_SSB ); mesh.remove( H2A_FL ); mesh.add( H2A_SEP );}
		else if ( Model_BTN_No == NN_TB2 )     { mesh.add( Bunner_mesh );}
		else if ( Model_BTN_No == NN_UH001 )   { mesh.add( Bunner_mesh );}
		else if ( Model_BTN_No == NN_F14 )     { mesh.add( Bunner_mesh );}
	}
	else if (OP_BTN_Status == 2)
	{//
		document.f1.OP_Button.value='Type2';
		if ( Model_BTN_No == NN_F35B )      { F35B2_mesh.remove( Gear2_mesh ); mesh.remove(F35B1_mesh); mesh.add(F35B2_mesh);}
		else if ( Model_BTN_No == NN_TB2 )  { mesh.remove( temp_Mesh1 ); mesh.add( temp_Mesh2 ); mesh.add( temp_Mesh3 );}
		else if ( Model_BTN_No == NN_H2A )  { mesh.remove( H2A_SEP );}
		else if ( Model_BTN_No == NN_UH001 ){ mesh.remove( Bunner_mesh ); mesh.remove( temp_Mesh4 ); mesh.add( temp_Mesh1 );mesh.add( temp_Mesh3 );}
		else if ( Model_BTN_No == NN_F14 )  { mesh.remove( LW_mesh ); mesh.add( HW_mesh );}
	}
	else if (OP_BTN_Status == 3)
	{// 
		document.f1.OP_Button.value='UH001_1';
		if ( Model_BTN_No == NN_UH001 ){ mesh.remove( temp_Mesh3 );}
	}
	else if (OP_BTN_Status == 4)
	{// 
		document.f1.OP_Button.value='UH001_2';
		if ( Model_BTN_No == NN_UH001 ){ mesh.remove( temp_Mesh1 );mesh.add( temp_Mesh2 );}
	}
	else if (OP_BTN_Status == 5)
	{// 
		document.f1.OP_Button.value='UH001_3';
		if ( Model_BTN_No == NN_UH001 ){ mesh.remove( temp_Mesh2 );mesh.add( temp_Mesh3 );}
	}
}

function STP_ButtonHandler() {
	STP_BTN_Status = !STP_BTN_Status;
	Reset++;
	
	if (STP_BTN_Status){
		document.f1.STP_Button.value='STP';
	} else {
		document.f1.STP_Button.value='RST';
	}
}

function Go_ButtonHandler() {
	Go_BTN_Status = !Go_BTN_Status;
	STP_BTN_Status = true;
	Reset = 0;
	document.f1.STP_Button.value='STP';
	
	if( Go_BTN_Status )
	{
		document.f1.Go_Button.style.background = '#77FF77';
		document.f1.Go_Button.style.opacity = 0.4;
	}
	else
	{
		document.f1.Go_Button.style.background = '#FFFF00';
		document.f1.Go_Button.style.opacity = 0.8;
	}
}

function Back_ButtonHandler() {
	Back_BTN_Status = !Back_BTN_Status;
	STP_BTN_Status = true;
	Reset = 0;
	document.f1.STP_Button.value='STP';
	
	if( Back_BTN_Status )
	{
		document.f1.Back_Button.style.background = '#77FF77';
		document.f1.Back_Button.style.opacity = 0.4;
	}
	else
	{
		document.f1.Back_Button.style.background = '#FFFF00';
		document.f1.Back_Button.style.opacity = 0.8;
	}
}

function YR_ButtonHandler() {
	YR_BTN_Status = !YR_BTN_Status;
	STP_BTN_Status = true;
	Reset = 0;
	document.f1.STP_Button.value='STP';
	
	if ( YR_BTN_Status ) {
		rad_Yaw = 0.0 ;
	} else {
		rad_Yaw = -1.0 ;
	}
	
	if( YR_BTN_Status )
	{
		document.f1.YR_Button.style.background = '#77FF77';
		document.f1.YR_Button.style.opacity = 0.4;
	}
	else
	{
		document.f1.YR_Button.style.background = '#FFFF00';
		document.f1.YR_Button.style.opacity = 0.8;
	}
}

function YL_ButtonHandler() {
	YL_BTN_Status = !YL_BTN_Status;
	STP_BTN_Status = true;
	Reset = 0;
	document.f1.STP_Button.value='STP';
	
	if ( YL_BTN_Status ) {
		rad_Yaw = 0.0 ;
	} else {
		rad_Yaw = 1.0 ;
	}
	if( YL_BTN_Status )
	{
		document.f1.YL_Button.style.background = '#77FF77';
		document.f1.YL_Button.style.opacity = 0.4;
	}
	else
	{
		document.f1.YL_Button.style.background = '#FFFF00';
		document.f1.YL_Button.style.opacity = 0.8;
	}
}

function PU_ButtonHandler() {
	PU_BTN_Status = !PU_BTN_Status;
	STP_BTN_Status = true;
	Reset = 0;
	document.f1.STP_Button.value='STP';
	
	if ( PU_BTN_Status ) {
		rad_Pitch = 0.0 ;
	} else {
		rad_Pitch = 1.0 ;
	}
	if( PU_BTN_Status )
	{
		document.f1.PU_Button.style.background = '#77FF77';
		document.f1.PU_Button.style.opacity = 0.4;
	}
	else
	{
		document.f1.PU_Button.style.background = '#FFFF00';
		document.f1.PU_Button.style.opacity = 0.8;
	}
}

function PD_ButtonHandler() {
	PD_BTN_Status = !PD_BTN_Status;
	STP_BTN_Status = true;
	Reset = 0;
	document.f1.STP_Button.value='STP';
	
	if ( PD_BTN_Status ) {
		rad_Pitch = 0.0 ;
	} else {
		rad_Pitch = -1.0 ;
	}
	if( PD_BTN_Status )
	{
		document.f1.PD_Button.style.background = '#77FF77';
		document.f1.PD_Button.style.opacity = 0.4;
	}
	else
	{
		document.f1.PD_Button.style.background = '#FFFF00';
		document.f1.PD_Button.style.opacity = 0.8;
	}
}

function RR_ButtonHandler() {
	RR_BTN_Status = !RR_BTN_Status;
	STP_BTN_Status = true;
	Reset = 0;
	document.f1.STP_Button.value='STP';
	
	if ( RR_BTN_Status ) {
		rad_Roll = 0.0 ;
	} else {
		rad_Roll = -1.0 ;
	}
	if( RR_BTN_Status )
	{
		document.f1.RR_Button.style.background = '#77FF77';
		document.f1.RR_Button.style.opacity = 0.4;
	}
	else
	{
		document.f1.RR_Button.style.background = '#FFFF00';
		document.f1.RR_Button.style.opacity = 0.8;
	}
}

function RL_ButtonHandler() {
	RL_BTN_Status = !RL_BTN_Status;
	STP_BTN_Status = true;
	Reset = 0;
	document.f1.STP_Button.value='STP';
	
	if ( RL_BTN_Status ) {
		rad_Roll = 0.0 ;
	} else {
		rad_Roll = 1.0 ;
	}
	if( RL_BTN_Status )
	{
		document.f1.RL_Button.style.background = '#77FF77';
		document.f1.RL_Button.style.opacity = 0.4;
	}
	else
	{
		document.f1.RL_Button.style.background = '#FFFF00';
		document.f1.RL_Button.style.opacity = 0.8;
	}
}
/*----------------------------------------------------------------------------*/
// PC Key 入力
/*----------------------------------------------------------------------------*/
function onKeyDown ( event ) {
	switch( event.keyCode ) {
		case 38: /*up*/	  Go_KeyOnHandler(); break;
		case 87: /*W*/ 	  Go_KeyOnHandler(); break;
		case 40: /*down*/ Back_KeyOnHandler(); break;
		case 83: /*S*/ 	  Back_KeyOnHandler(); break;
		case 37: /*left*/ YL_KeyOnHandler(); break;
		//case 65: /*A*/    YL_KeyOnHandler(); break;
		case 39: /*right*/YR_KeyOnHandler(); break;
		case 68: /*D*/    YR_KeyOnHandler(); break;
		case 81: /*Q*/	  armMovement =  1 ; break;
		//case 65: /*A*/	  armMovement = -1 ; break;
		case 65: /*A*/	  armMovement =  0 ; break;
	}
}

function Go_KeyOnHandler() {
	Go_BTN_Status = !Go_BTN_Status;
	STP_BTN_Status = true;
	Reset = 0;
	document.f1.STP_Button.value='STP';
	
	if( Go_BTN_Status )
	{
		document.f1.Go_Button.style.background = '#77FF77';
		document.f1.Go_Button.style.opacity = 0.4;
	}
	else
	{
		document.f1.Go_Button.style.background = '#FFFF00';
		document.f1.Go_Button.style.opacity = 0.8;
	}
}
function Back_KeyOnHandler() {
	Back_BTN_Status = !Back_BTN_Status;
	STP_BTN_Status = true;
	Reset = 0;
	document.f1.STP_Button.value='STP';

	if( Back_BTN_Status )
	{
		document.f1.Back_Button.style.background = '#77FF77';
		document.f1.Back_Button.style.opacity = 0.4;
	}
	else
	{
		document.f1.Back_Button.style.background = '#FFFF00';
		document.f1.Back_Button.style.opacity = 0.8;
	}
}
function YR_KeyOnHandler() {
	YR_BTN_Status = !YR_BTN_Status;
	STP_BTN_Status = true;
	Reset = 0;
	document.f1.STP_Button.value='STP';

	if ( YR_BTN_Status ) {
		rad_Yaw = 0.0 ;
	} else {
		rad_Yaw = -1.0 ;
	}
	
	if( YR_BTN_Status )
	{
		document.f1.YR_Button.style.background = '#77FF77';
		document.f1.YR_Button.style.opacity = 0.4;
	}
	else
	{
		document.f1.YR_Button.style.background = '#FFFF00';
		document.f1.YR_Button.style.opacity = 0.8;
	}
}

function YL_KeyOnHandler() {
	YL_BTN_Status = !YL_BTN_Status;
	STP_BTN_Status = true;
	Reset = 0;
	document.f1.STP_Button.value='STP';

	if ( YL_BTN_Status ) {
		rad_Yaw = 0.0 ;
	} else {
		rad_Yaw = 1.0 ;
	}
	if( YL_BTN_Status )
	{
		document.f1.YL_Button.style.background = '#77FF77';
		document.f1.YL_Button.style.opacity = 0.4;
	}
	else
	{
		document.f1.YL_Button.style.background = '#FFFF00';
		document.f1.YL_Button.style.opacity = 0.8;
	}
}
/*------------------------------------------------------------------------------
物理現象の初期化 Physics configuration
------------------------------------------------------------------------------*/
function initPhysics() {
//	collisionConfiguration = new Ammo.btSoftBodyRigidBodyCollisionConfiguration();
	collisionConfiguration = new Ammo.btDefaultCollisionConfiguration();
	dispatcher = new Ammo.btCollisionDispatcher( collisionConfiguration );
	broadphase = new Ammo.btDbvtBroadphase();
	solver = new Ammo.btSequentialImpulseConstraintSolver();
	softBodySolver = new Ammo.btDefaultSoftBodySolver();
	physicsWorld1 = new Ammo.btSoftRigidDynamicsWorld( dispatcher, broadphase, solver, collisionConfiguration, softBodySolver);
	physicsWorld  = new Ammo.btDiscreteDynamicsWorld( dispatcher, broadphase, solver, collisionConfiguration );
	physicsWorld1.setGravity( new Ammo.btVector3( 0,  gravityConstant1, 0 ) );
	physicsWorld.setGravity( new Ammo.btVector3 ( 0,  gravityConstant,  0 ) );
	physicsWorld1.getWorldInfo().set_m_gravity( new Ammo.btVector3( 0, gravityConstant1, 0 ) );
}
// 物理オブジェクトの生成
function createObject( mass, halfExtents, pos, quat, material ) {
var	object = new THREE.Mesh( new THREE.BoxGeometry( halfExtents.x * 2, halfExtents.y * 2, halfExtents.z * 2 ), material );
	object.position.copy( pos );
	object.quaternion.copy( quat );
	convexBreaker.prepareBreakableObject( object, mass, new THREE.Vector3(), new THREE.Vector3(), true );
	createDebrisFromBreakableObject( object );
}
/*----------------------------------------------------------------------------*/
//  物理オブジェクトの生成
/*----------------------------------------------------------------------------*/
function createParalellepiped( sx, sy, sz, mass, pos, quat, material ) {
var	threeObject = new THREE.Mesh( new THREE.BoxGeometry( sx, sy, sz, 1, 1, 1 ), material );
var	shape = new Ammo.btBoxShape( new Ammo.btVector3( sx * 0.5, sy * 0.5, sz * 0.5 ) );
	shape.setMargin( margin );
	createRigidBody( threeObject, shape, mass, pos, quat );
	return threeObject;
}
function createParalellepipedWithPhysics( sx, sy, sz, mass, pos, quat, material ) {
var	object = new THREE.Mesh( new THREE.BoxGeometry( sx, sy, sz, 1, 1, 1 ), material );
var	shape = new Ammo.btBoxShape( new Ammo.btVector3( sx * 0.5, sy * 0.5, sz * 0.5 ) );
	shape.setMargin( margin );
	createRigidBody( object, shape, mass, pos, quat );
	return object;
}
function createDebrisFromBreakableObject( object ) {
	object.castShadow = true;
	object.receiveShadow = true;
var	shape = createConvexHullPhysicsShape( object.geometry.vertices );
	shape.setMargin( margin );
var	body = createRigidBody( object, shape, object.userData.mass, null, null, object.userData.velocity, object.userData.angularVelocity );
// Set pointer back to the three object only in the debris objects
var	btVecUserData = new Ammo.btVector3( 0, 0, 0 );
	btVecUserData.threeObject = object;
	body.setUserPointer( btVecUserData );
}
function removeDebris( object ) {
	scene.remove( object );
//	physicsWorld.removeRigidBody( object.userData.physicsBody );
	physicsWorld1.removeRigidBody( object.userData.physicsBody );
}
function createConvexHullPhysicsShape( points ) {
var	shape = new Ammo.btConvexHullShape();
	for ( var i = 0, il = points.length; i < il; i++ ) {
		var p = points[ i ];
		this.tempBtVec3_1.setValue( p.x, p.y, p.z );
		var lastOne = ( i === ( il - 1 ) );
		shape.addPoint( this.tempBtVec3_1, lastOne );
	}
	return shape;
}
//
function createRigidBody( object, physicsShape, mass, pos, quat, vel, angVel ) {
	if ( pos ) {
	    object.position.copy( pos );
	}
	else {
	    pos = object.position;
	}

	if ( quat ) {
	    object.quaternion.copy( quat );
	}
	else {
	    quat = object.quaternion;
	}
//
var	transform = new Ammo.btTransform();
	transform.setIdentity();
	transform.setOrigin( new Ammo.btVector3( pos.x, pos.y, pos.z ) );
	transform.setRotation( new Ammo.btQuaternion( quat.x, quat.y, quat.z, quat.w ) );
//
var	motionState = new Ammo.btDefaultMotionState( transform );
var	localInertia = new Ammo.btVector3( 0, 0, 0 );
	physicsShape.calculateLocalInertia( mass, localInertia );
//
var	rbInfo = new Ammo.btRigidBodyConstructionInfo( mass, motionState, physicsShape, localInertia );
var	body = new Ammo.btRigidBody( rbInfo );

	body.setFriction( 0.5 );

	if ( vel ) {
	    body.setLinearVelocity( new Ammo.btVector3( vel.x, vel.y, vel.z ) );
	}
	if ( angVel ) {
	    body.setAngularVelocity( new Ammo.btVector3( angVel.x, angVel.y, angVel.z ) );
	}

	object.userData.physicsBody = body;
	object.userData.collided = false;

	scene.add( object );

	if ( mass > 0 ) {
		rigidBodies.push( object );
		// Disable deactivation
		body.setActivationState( 4 );
	}

//	physicsWorld.addRigidBody( body );
	physicsWorld1.addRigidBody( body );

	return body;
}
//
function createRandomColor() {
	return Math.floor( Math.random() * ( 1 << 24 ) );
}
//
function createMaterial( color ) {
	color = color || createRandomColor();
	return new THREE.MeshPhongMaterial( { color: color } );
}
/*----------------------------------------------------------------------------*/
// 物理現象の更新
/*----------------------------------------------------------------------------*/
function updatePhysics( frameTime ) {

// Step world
	physicsWorld.stepSimulation( frameTime, 100 );
	physicsWorld1.stepSimulation( frameTime, 100 );

// Update rigid bodies
	for ( var i = 0, il = rigidBodies.length; i < il; i++ ) {
var		objThree = rigidBodies[ i ];
var		objPhys = objThree.userData.physicsBody;
var		ms = objPhys.getMotionState();
		if ( ms ) {
			ms.getWorldTransform( transformAux1 );
var			p = transformAux1.getOrigin();
var			q = transformAux1.getRotation();
			objThree.position.set( p.x(), p.y(), p.z() );
			objThree.quaternion.set( q.x(), q.y(), q.z(), q.w() );
			objThree.userData.collided = false;
		}
	}

	for ( var i = 0, il = dispatcher.getNumManifolds(); i < il; i ++ ) {
var		contactManifold = dispatcher.getManifoldByIndexInternal( i );
var		rb0 = contactManifold.getBody0();
var		rb1 = contactManifold.getBody1();
var		threeObject0 = Ammo.castObject( rb0.getUserPointer(), Ammo.btVector3 ).threeObject;
var		threeObject1 = Ammo.castObject( rb1.getUserPointer(), Ammo.btVector3 ).threeObject;

		if ( ! threeObject0 && ! threeObject1 ) {
			continue;
		}

var		userData0 = threeObject0 ? threeObject0.userData : null;
var		userData1 = threeObject1 ? threeObject1.userData : null;
var		breakable0 = userData0 ? userData0.breakable : false;
var		breakable1 = userData1 ? userData1.breakable : false;
var		collided0 = userData0 ? userData0.collided : false;
var		collided1 = userData1 ? userData1.collided : false;

		if ( ( ! breakable0 && ! breakable1 ) || ( collided0 && collided1 ) ) {
			continue;
		}

var		contact = false;
var		maxImpulse = 0;
		for ( var j = 0, jl = contactManifold.getNumContacts(); j < jl; j ++ ) {
var			contactPoint = contactManifold.getContactPoint( j );
			if ( contactPoint.getDistance() < 0 ) {
				contact = true;
var				impulse = contactPoint.getAppliedImpulse();
				if ( impulse > maxImpulse ) {
					maxImpulse = impulse;
var					pos = contactPoint.get_m_positionWorldOnB();
var					normal = contactPoint.get_m_normalWorldOnB();
					impactPoint.set( pos.x(), pos.y(), pos.z() );
					impactNormal.set( normal.x(), normal.y(), normal.z() );
				}
				break;
			}
		}

// If no point has contact, abort
		if ( ! contact ) {
			continue;
		}

// Subdivision
var		fractureImpulse = 250;

		if ( breakable0 && !collided0 && maxImpulse > fractureImpulse ) {
var			debris = convexBreaker.subdivideByImpact( threeObject0, impactPoint, impactNormal , 1, 2, 1.5 );
var			numObjects = debris.length;
			for ( var j = 0; j < numObjects; j++ ) {
				createDebrisFromBreakableObject( debris[ j ] );
			}
			objectsToRemove[ numObjectsToRemove++ ] = threeObject0;
			userData0.collided = true;
		}

		if ( breakable1 && !collided1 && maxImpulse > fractureImpulse ) {
var			debris = convexBreaker.subdivideByImpact( threeObject1, impactPoint, impactNormal , 1, 2, 1.5 );
var			numObjects = debris.length;
			for ( var j = 0; j < numObjects; j++ ) {
				createDebrisFromBreakableObject( debris[ j ] );
			}
			objectsToRemove[ numObjectsToRemove++ ] = threeObject1;
			userData1.collided = true;
		}
	}

	for ( var i = 0; i < numObjectsToRemove; i++ ) {
	    removeDebris( objectsToRemove[ i ] );
	}
	numObjectsToRemove = 0;

// Hinge control
//	hinge.enableAngularMotor( true, 0.2 * armMovement, 50 );
/*
// Update cloth
var	softBody = cloth.userData.physicsBody;
var	clothPositions = cloth.geometry.attributes.position.array;
var	numVerts = clothPositions.length / 3;
var	nodes = softBody.get_m_nodes();
var	indexFloat = 0;
	for ( var i = 0; i < numVerts; i ++ ) {
var		node = nodes.at( i );
var		nodePos = node.get_m_x();
		clothPositions[ indexFloat++ ] = nodePos.x();
		clothPositions[ indexFloat++ ] = nodePos.y();
		clothPositions[ indexFloat++ ] = nodePos.z();
	}
	cloth.geometry.computeVertexNormals();
	cloth.geometry.attributes.position.needsUpdate = true;
	cloth.geometry.attributes.normal.needsUpdate = true;
*/
// Update rigid bodies
	for ( var i = 0, il = rigidBodies.length; i < il; i++ ) {
var		objThree = rigidBodies[ i ];
var		objPhys = objThree.userData.physicsBody;
var		ms = objPhys.getMotionState();
		if ( ms ) {
			ms.getWorldTransform( transformAux1 );
var			p = transformAux1.getOrigin();
var			q = transformAux1.getRotation();
			objThree.position.set( p.x(), p.y(), p.z() );
			objThree.quaternion.set( q.x(), q.y(), q.z(), q.w() );
		}
	}
}

function onDocumentMouseMove( event ) {
	event.preventDefault();
	mouse.x =   ( event.clientX / window.innerWidth  ) * 2 - 1;
	mouse.y = - ( event.clientY / window.innerHeight ) * 2 + 1;
//	console.log( mouse.x, mouse.y );
//	console.log("MouseMoved");
}

function onDocumentMouseDown( event ) {
	event.preventDefault();
//	console.log("MouseDowned");

	mouseCoords.set(
		  ( event.clientX / window.innerWidth  ) * 2 - 1,
		- ( event.clientY / window.innerHeight ) * 2 + 1
	);

//	raycaster.setFromCamera( mouseCoords, camera0 );

// Creates a ball and throws it
var	ballMass = 99;
var	ballRadius = 0.3;

var	ball = new THREE.Mesh( new THREE.SphereGeometry( ballRadius, 14, 10 ), ballMaterial );
	ball.castShadow = true;
	ball.receiveShadow = true;
	ball.position.set( 0,0,0)
var	ball2 = new THREE.Mesh( new THREE.SphereGeometry( ballRadius, 14, 10 ), ballMaterial );
	ball2.castShadow = true;
	ball2.receiveShadow = true;
	ball2.position.set( 0,0,0)
var	ballShape = new Ammo.btSphereShape( ballRadius );
	ballShape.setMargin( margin );
var	ballShape2 = new Ammo.btSphereShape( ballRadius );
	ballShape2.setMargin( margin );

	pos.x  = Gun1.x + P.x;
	pos.y  = Gun1.y + P.y;
	pos.z  = Gun1.z + P.z;
	pos2.x = Gun2.x + P.x;
	pos2.y = Gun2.y + P.y;
	pos2.z = Gun2.z + P.z;

	quat.set ( 0, 0, 0, 1 );
	quat2.set( 0, 0, 0, 1 );

var	ballBody  = createRigidBody( ball,  ballShape,  ballMass, pos, quat );
var	ballBody2 = createRigidBody( ball2, ballShape2, ballMass, pos2, quat2 );

	pos.copy( Heading );
	pos.multiplyScalar( 80 ); //弾の速さ
	pos2.copy( Heading );
	pos2.multiplyScalar( 80 ); //弾の速さ
	ballBody.setLinearVelocity ( new Ammo.btVector3( pos.x,  pos.y,  pos.z  ) );
	ballBody2.setLinearVelocity( new Ammo.btVector3( pos2.x, pos2.y, pos2.z ) );
}
//
function onDocumentMouseUp( event ) {
	event.preventDefault();
//	console.log("MouseUped");
}
/*----------------------------------------------------------------------------*/
// ランダム地形生成処理
/*----------------------------------------------------------------------------*/
function generateHeight( width, height ) {
	var size = width * height, data = new Uint8Array( size ),
	perlin = new ImprovedNoise(), quality = 1, z = Math.random() * 100;
	for ( var j = 0; j < 4; j ++ ) {
		for ( var i = 0; i < size; i ++ ) {
			var x = i % width, y = ~~ ( i / width );
			data[ i ] += Math.abs( perlin.noise( x / quality, y / quality, z ) * quality * 1.75 );
		}
		quality *= 5;
	}
	return data;
}

function generateTexture( data, width, height ) {
	var canvas, canvasScaled, context, image, imageData,
	level, diff, vector3, sun, shade;
	vector3 = new THREE.Vector3( 0, 0, 0 );
	sun = new THREE.Vector3( 1, 1, 1 );
	sun.normalize();
	canvas = document.createElement( 'canvas' );
	canvas.width = width;
	canvas.height = height;
	context = canvas.getContext( '2d' );
	context.fillStyle = '#000';
	context.fillRect( 0, 0, width, height );
	image = context.getImageData( 0, 0, canvas.width, canvas.height );
	imageData = image.data;
	for ( var i = 0, j = 0, l = imageData.length; i < l; i += 4, j ++ ) {
		vector3.x = data[ j - 2 ] - data[ j + 2 ];
		vector3.y = 2;
		vector3.z = data[ j - width * 2 ] - data[ j + width * 2 ];
		vector3.normalize();
		shade = vector3.dot( sun );
		imageData[ i ] = ( 96 + shade * 128 ) * ( 0.5 + data[ j ] * 0.007 );
		imageData[ i + 1 ] = ( 32 + shade * 96 ) * ( 0.5 + data[ j ] * 0.007 );
		imageData[ i + 2 ] = ( shade * 96 ) * ( 0.5 + data[ j ] * 0.007 );
	}
	context.putImageData( image, 0, 0 );
// Scaled 4x
	canvasScaled = document.createElement( 'canvas' );
	canvasScaled.width = width * 4;
	canvasScaled.height = height * 4;
	context = canvasScaled.getContext( '2d' );
	context.scale( 4, 4 );
	context.drawImage( canvas, 0, 0 );
	image = context.getImageData( 0, 0, canvasScaled.width, canvasScaled.height );
	imageData = image.data;
	for ( var i = 0, l = imageData.length; i < l; i += 4 ) {
		var v = ~~ ( Math.random() * 5 );
		imageData[ i ] += v;
		imageData[ i + 1 ] += v;
		imageData[ i + 2 ] += v;
	}
	context.putImageData( image, 0, 0 );
	return canvasScaled;
}

/*----------------------------------------------------------------------------*/
// 鳥の群れ
/*----------------------------------------------------------------------------*/
function Birds() {
// Birds
	birds = [];
	boids = [];
	
	for ( var i = 0; i < 200; i ++ ) {
		boid = boids[ i ] = new Boid();
		boid.position.x = Math.random() * 400 - 200;
		boid.position.y = Math.random() * 400 - 200;
		boid.position.z = Math.random() * 400 - 200;
		boid.velocity.x = Math.random() * 2 - 1;
		boid.velocity.y = Math.random() * 2 - 1;
		boid.velocity.z = Math.random() * 2 - 1;
		boid.setAvoidWalls( true );
		boid.setWorldSize( 500, 500, 400 );
		bird = birds[ i ] = new THREE.Mesh( new Bird(), new THREE.MeshBasicMaterial( { color:Math.random() * 0xffffff, side: THREE.DoubleSide } ) );
		bird.phase = Math.floor( Math.random() * 62.83 );
		scene.add( bird );
	}
	for ( var i = 0; i < 200; i ++ ) {
		scene.add( birds[ i ] );
	}
}

var Boid = function() {
	var vector = new THREE.Vector3(),
	_acceleration, _width = 500, _height = 500, _depth = 200, _goal, _neighborhoodRadius = 100,
	_maxSpeed = 4, _maxSteerForce = 0.1, _avoidWalls = false;
	this.position = new THREE.Vector3();
	this.velocity = new THREE.Vector3();
	_acceleration = new THREE.Vector3();
	
	this.setGoal = function ( target ) {
		_goal = target;
	};
	
	this.setAvoidWalls = function ( value ) {
		_avoidWalls = value;
	};
	
	this.setWorldSize = function ( width, height, depth ) {
		_width = width;
		_height = height;
		_depth = depth;
	};
	
	this.run = function ( boids ) {
		if ( _avoidWalls ) {
			vector.set( - _width, this.position.y, this.position.z );
			vector = this.avoid( vector );
			vector.multiplyScalar( 5 );
			_acceleration.add( vector );
			
			vector.set( _width, this.position.y, this.position.z );
			vector = this.avoid( vector );
			vector.multiplyScalar( 5 );
			_acceleration.add( vector );
			
			vector.set( this.position.x, - _height, this.position.z );
			vector = this.avoid( vector );
			vector.multiplyScalar( 5 );
			_acceleration.add( vector );
			
			vector.set( this.position.x, _height, this.position.z );
			vector = this.avoid( vector );
			vector.multiplyScalar( 5 );
			_acceleration.add( vector );
			
			vector.set( this.position.x, this.position.y, - _depth );
			vector = this.avoid( vector );
			vector.multiplyScalar( 5 );
			_acceleration.add( vector );
			
			vector.set( this.position.x, this.position.y, _depth );
			vector = this.avoid( vector );
			vector.multiplyScalar( 5 );
			_acceleration.add( vector );
		}
		
		if ( Math.random() > 0.5 ) {
			this.flock( boids );
		}
		this.move();
	};
	
	this.flock = function ( boids ) {
		if ( _goal ) {
			_acceleration.add( this.reach( _goal, 0.005 ) );
		}
		_acceleration.add( this.alignment ( boids ) );
		_acceleration.add( this.cohesion  ( boids ) );
		_acceleration.add( this.separation( boids ) );
	};
	
	this.move = function () {
		this.velocity.add( _acceleration );
		var l = this.velocity.length();
		
		if ( l > _maxSpeed ) {
			this.velocity.divideScalar( l / _maxSpeed );
		}
		this.position.add( this.velocity );
		_acceleration.set( 0, 0, 0 );
	};
	
	this.checkBounds = function () {
		if ( this.position.x >   _width  ) this.position.x = - _width;
		if ( this.position.x < - _width  ) this.position.x =   _width;
		if ( this.position.y >   _height ) this.position.y = - _height;
		if ( this.position.y < - _height ) this.position.y =   _height;
		if ( this.position.z >   _depth  ) this.position.z = - _depth;
		if ( this.position.z < - _depth  ) this.position.z =   _depth;
	};
	
	this.avoid = function ( target ) {
		var steer = new THREE.Vector3();
		steer.copy( this.position );
		steer.sub( target );
		steer.multiplyScalar( 1 / this.position.distanceToSquared( target ) );
		return steer;
	};
	
	this.repulse = function ( target ) {
		var distance = this.position.distanceTo( target );
		if ( distance < 150 ) {
			var steer = new THREE.Vector3();
			steer.subVectors( this.position, target );
			steer.multiplyScalar( 0.5 / distance );
			_acceleration.add( steer );
		}
	};
	
	this.reach = function ( target, amount ) {
		var steer = new THREE.Vector3();
		steer.subVectors( target, this.position );
		steer.multiplyScalar( amount );
		return steer;
	};
	
	this.alignment = function ( boids ) {
		var boid, velSum = new THREE.Vector3(),
		count = 0;
		for ( var i = 0, il = boids.length; i < il; i++ ) {
			if ( Math.random() > 0.6 ) continue;
			boid = boids[ i ];
			distance = boid.position.distanceTo( this.position );
			if ( distance > 0 && distance <= _neighborhoodRadius ) {
				velSum.add( boid.velocity );
				count++;
			}
		}
		
		if ( count > 0 ) {
			velSum.divideScalar( count );
			var l = velSum.length();
			if ( l > _maxSteerForce ) {
				velSum.divideScalar( l / _maxSteerForce );
			}
		}
		return velSum;
	};
	
	this.cohesion = function ( boids ) {
		var boid, distance,
		posSum = new THREE.Vector3(),
		steer = new THREE.Vector3(),
		count = 0;
		for ( var i = 0, il = boids.length; i < il; i ++ ) {
			if ( Math.random() > 0.6 ) continue;
			boid = boids[ i ];
			distance = boid.position.distanceTo( this.position );
			if ( distance > 0 && distance <= _neighborhoodRadius ) {
				posSum.add( boid.position );
				count++;
			}
		}
		
		if ( count > 0 ) {
			posSum.divideScalar( count );
		}
		
		steer.subVectors( posSum, this.position );
		var l = steer.length();
		if ( l > _maxSteerForce ) {
			steer.divideScalar( l / _maxSteerForce );
		}
		return steer;
	};
	
	this.separation = function ( boids ) {
		var boid, distance,
		posSum = new THREE.Vector3(),
		repulse = new THREE.Vector3();
		for ( var i = 0, il = boids.length; i < il; i ++ ) {
			if ( Math.random() > 0.6 ) continue;
			boid = boids[ i ];
			distance = boid.position.distanceTo( this.position );
			if ( distance > 0 && distance <= _neighborhoodRadius ) {
				repulse.subVectors( this.position, boid.position );
				repulse.normalize();
				repulse.divideScalar( distance );
				posSum.add( repulse );
			}
		}
		return posSum;
	}
}

/*----------------------------------------------------------------------------*/
// ウィンドウサイズ変更対応
/*----------------------------------------------------------------------------*/
function onWindowResize() {
	SCREEN_WIDTH = window.innerWidth;
	SCREEN_HEIGHT = window.innerHeight;
	renderer.setSize( SCREEN_WIDTH, SCREEN_HEIGHT );
	camera0.aspect = SCREEN_WIDTH / SCREEN_HEIGHT;
	camera0.updateProjectionMatrix();
	camera1.aspect = SCREEN_WIDTH / SCREEN_HEIGHT;
	camera1.updateProjectionMatrix();
	camera2.aspect = SCREEN_WIDTH / SCREEN_HEIGHT;
	camera2.updateProjectionMatrix();
	camera3.aspect = SCREEN_WIDTH / SCREEN_HEIGHT;
	camera3.updateProjectionMatrix();
	camera4.aspect = SCREEN_WIDTH / SCREEN_HEIGHT;
	camera4.updateProjectionMatrix();
	camera5.aspect = SCREEN_WIDTH / SCREEN_HEIGHT;
	camera5.updateProjectionMatrix();
	camera6.aspect = SCREEN_WIDTH / SCREEN_HEIGHT;
	camera6.updateProjectionMatrix();
	camera7.aspect = SCREEN_WIDTH / SCREEN_HEIGHT;
	camera7.updateProjectionMatrix();
	camera8.aspect = SCREEN_WIDTH / SCREEN_HEIGHT;
	camera8.updateProjectionMatrix();
	camera9.aspect = SCREEN_WIDTH / SCREEN_HEIGHT;
	camera9.updateProjectionMatrix();
	camera10.aspect = SCREEN_WIDTH / SCREEN_HEIGHT;
	camera10.updateProjectionMatrix();
	camera11.aspect = SCREEN_WIDTH / SCREEN_HEIGHT;
	camera11.updateProjectionMatrix();
	camera12.aspect = SCREEN_WIDTH / SCREEN_HEIGHT;
	camera12.updateProjectionMatrix();
}
/*----------------------------------------------------------------------------*/
// ファイル出力
/*----------------------------------------------------------------------------*/
function SaveToFile( FileName, Stream ){
	if( window.navigator.msSaveBlob ){
		window.navigator.msSaveBlob(new Blob([Stream], { type: "text/plain" }), FileName);
	}
	else
	{
var		a = document.createElement("a");
		a.href = URL.createObjectURL(new Blob([Stream], { type: "text/plain" }));
		//a.target   = '_blank';
		a.download = FileName;
		document.body.appendChild(a) //  FireFox specification
		a.click();
	}
}
/*----------------------------------------------------------------------------*/
//  テキスト文字を変更する。
/*----------------------------------------------------------------------------*/
function ChangeTxt(txt) {
    document.getElementById("text").innerHTML=txt;
}
/*----------------------------------------------------------------------------*/
//  ダミー関数
/*----------------------------------------------------------------------------*/
function onDummy() {
	;
}
function onProgress() {
	;
}
/*----------------------------------------------------------------------------*/
//  関数
/*----------------------------------------------------------------------------*/
var _handleFileSelect3 = function ( event, pathTexture ) {
var	file = event.target.files[0];
	if(!file.type.match(/text/)){
		alert('テキストファイルを' + '選んでください。');
		return;
	}
var	reader = new FileReader();
	reader.onload = function(evt){
		Flight_Data = evt.target.result.split(/\r\n|\r|\n/);
	}
	reader.readAsText(file, "UTF_8");
	Tc = 0;
	function $(id) {
		return document.querySelector(id);
	}
};
//
var _handleFileSelect2 = function ( event, pathTexture ) {
	fileMtl2 = null;
	files2 = event.target.files;
	for ( var i = 0, file; file = files2[ i ]; i++) {
		if ( file.name.indexOf( '\.mtl' ) > 0 && fileMtl2 === null ) {
			fileMtl2 = file;
		}
	}
var	fileReader = new FileReader();
	fileReader.onload = function( fileDataMtl ) {
		loadFilesUser({
			name: 'userObj',
			objAsArrayBuffer: uint8Array,
			pathTexture: pathTexture,
			mtlAsString: fileDataMtl.target.result
		})
	};
	fileReader.readAsText( fileMtl2 );
};
//
var _handleFileSelect = function ( event, pathTexture ) {
	var fileObj = null;
	var fileMtl = null;
	var filePmd = null;
	var filePmx = null;
	var files = event.target.files;
	for ( var i = 0, file; file = files[ i ]; i++) {
		if ( file.name.indexOf( '\.obj' ) > 0 && fileObj === null ) {
			fileObj = file;
		}
		if ( file.name.indexOf( '\.mtl' ) > 0 && fileMtl === null ) {
			fileMtl = file;
		}
		if ( file.name.indexOf( '\.pmd' ) > 0 && filePmd === null ) {
			filePmd = file;
		}
		if ( file.name.indexOf( '\.pmx' ) > 0 && filePmx === null ) {
			filePmx = file;
		}
	}
//	if (( ! Validator.isValid( fileObj ) )||( ! Validator.isValid( filePmd ) )||( ! Validator.isValid( filePmx ) ))
//	{
//		alert( 'Unable to load Obj/Pmd/Pmx file from given files.' );
//	}
// Obj/Mtl Load
if( !(fileObj === null) )
{
var	fileReader = new FileReader();
	fileReader.onload = function( fileDataObj ) {
		uint8Array = new Uint8Array( fileDataObj.target.result );
		if ( fileMtl === null )
		{
			;
		}
		else
		{
			fileReader.onload = function( fileDataMtl ) {
				loadFilesUser({
					name: 'userObj',
					objAsArrayBuffer: uint8Array,
					pathTexture: pathTexture,
					mtlAsString: fileDataMtl.target.result
				})
			};
			fileReader.readAsText( fileMtl );
		}
	};
	fileReader.readAsArrayBuffer( fileObj );
}
else if( !(filePmd === null) )
{

/*
var	file = event.target.files[0];
var	Pmd_Data;
var	fileReaderPmd = new FileReader();
	fileReaderPmd.onload = function(fileDataPmd){
		Pmd_Data = fileDataPmd.target.result.split(/\r\n|\r|\n/);
alert( Pmd_Data );
	}
	fileReaderPmd.readAsText(filePmd, "UTF_8");
	Tc = 0;
			mmdloader.loadModel( Pmd_Data, function ( object ) {
				scene.remove( mesh );
//				Buffer1 = object;
//				Buffer1.rotation.set ( 0, 3.14, 0 );
//				Buffer1.scale.set    ( 0.5, 0.5, 0.5 );
//				Buffer1.position.set ( 0, -10, 0 );
//				mesh.add( Buffer1 );
				scene.add( object );
			}, null, null );
	function $(id) {
		return document.querySelector(id);
	}
*/

var	fileReaderPmd = new FileReader();
	fileReaderPmd.onload = function( fileDataPmd ) {
		uint8Array = new Uint8Array( fileDataPmd.target.result );
		loadFilesMMD({
			mmdAsArrayBuffer: uint8Array,
		})
	};
	fileReaderPmd.readAsArrayBuffer( filePmd );
}
else if( !(filePmx === null) )
{
// Pmx Lpad
var	fileReaderPmx = new FileReader();
	fileReaderPmx.onload = function( fileDataPmx ) {
		uint8Array = new Uint8Array( fileDataPmx.target.result );
		if ( !(filePmx === null) )
		{
			scene.remove( mesh );
			mmdloader.loadModel( uint8Array, function ( object ) {
//				Buffer1 = object;
//				Buffer1.rotation.set ( 0, 3.14, 0 );
//				Buffer1.scale.set    ( 0.5, 0.5, 0.5 );
//				Buffer1.position.set ( 0, -10, 0 );
//				mesh.add( Buffer1 );
				scene.add( object );
			}, null, null );
		}
	};
	fileReaderPmx.readAsArrayBuffer( filePmx );
}
};
/*----------------------------------------------------------------------------*/
function createPivot() {
	this.pivot = new THREE.Object3D();
	this.pivot.name = 'Pivot';
	this.mesh = this.pivot;
	this.scene.add( this.mesh );
};
/*----------------------------------------------------------------------------*/
var loadFilesUser = function ( objDef ) {
	scene.remove( mesh );
	createPivot();
	var prepData = new THREE.OBJLoader2.WWOBJLoader2.PrepDataArrayBuffer(
		objDef.name, objDef.objAsArrayBuffer, objDef.pathTexture, objDef.mtlAsString
	);
	prepData.setSceneGraphBaseNode( this.pivot );
	prepData.setStreamMeshes( this.streamMeshes );
	this.wwObjLoader2.prepareRun( prepData );
	this.wwObjLoader2.run();
	this.pivot.scale.set(  0.1, 0.1, 0.1  );
};

var loadFilesMMD = function ( mmdDef ) {
alert( mmdDef );
	scene.remove( mesh );
	createPivot();
	var prepData = new THREE.OBJLoader2.WWOBJLoader2.PrepDataArrayBuffer(
		mmdDef.mmdAsArrayBuffer
	);
	prepData.setSceneGraphBaseNode( this.pivot );
	prepData.setStreamMeshes( this.streamMeshes );
	this.wwObjLoader2.prepareRun( prepData );
	this.wwObjLoader2.run();
	this.pivot.scale.set(  0.1, 0.1, 0.1  );
};
/*----------------------------------------------------------------------------*/
var handleFileSelect = function ( event ) {
	_handleFileSelect( event, pathTexture );
};
elemFileInput.addEventListener( 'change' , handleFileSelect, false );

/*----------------------------------------------------------------------------*/
var handleFileSelect2 = function ( event ) {
	_handleFileSelect2( event, pathTexture );
};
elemFileInput2.addEventListener( 'change' , handleFileSelect2, false );
/*----------------------------------------------------------------------------*/
var handleFileSelect3 = function ( event ) {
	_handleFileSelect3( event, pathTexture );
};
elemFileInput3.addEventListener( 'change' , handleFileSelect3, false );
/*-----------------------------------------------------------------------------
クォータニオンを用いた航法計算
-------------------------------------------------------------------------------
機能内容

（１）　クォータニオンを用いた航法計算

------------------------------------------------------------------------------*/
function  Navigation(){
	var Q_tmp  = new THREE.Quaternion();
	var Pv_L   = new THREE.Vector3( 0,  0,  0 );  // 機体速度
	var Av_L   = new THREE.Vector3( 0,  0,  0 );  // 機体角速度
	var upd    =  [ 0, 0, 0,
			0, 0, 0,
			0, 0, 0 ];
	
	Q_tmp  = Oil2qtn( Av_b   );
	Qmodel = Qmult  ( Qmodel, Q_tmp );
	DCM_bL = Q2dcm  ( Qmodel );
	upd    = updmx  ( A_b    );
       	Pv_L   = Mtxvec ( DCM_bL, V );
       	Av_L   = Mtxvec ( upd, Av_b );
     	P      = Vadd   ( P,   Pv_L );
       	A_b    = Vadd   ( A_b, Av_L );
}

/*-----------------------------------------------------------------------------
クォータニオンを用いた航法計算 AI1
-------------------------------------------------------------------------------
機能内容

（１）　クォータニオンを用いた航法計算 AI1

------------------------------------------------------------------------------*/
function  NavigationAI1(){
	var Q_tmp  = new THREE.Quaternion();
	var Pv_L   = new THREE.Vector3( 0,  0,  0 );  // 機体速度
	var Av_L   = new THREE.Vector3( 0,  0,  0 );  // 機体角速度
	var upd    =  [ 0, 0, 0,
			0, 0, 0,
			0, 0, 0 ];
	
	Q_tmp   = Oil2qtn( A1v_b );
	Qmodel1 = Qmult  ( Qmodel1, Q_tmp );
	DCM_AI1 = Q2dcm  ( Qmodel1 );
	upd     = updmx  ( A1_b  );
       	Pv_L    = Mtxvec ( DCM_AI1, V1 );
       	Av_L    = Mtxvec ( upd, A1v_b );
     	P1      = Vadd   ( P1,  Pv_L );
       	A1_b    = Vadd   ( A1_b, Av_L );
}

/*-----------------------------------------------------------------------------
クォータニオンを用いた航法計算 AI2
-------------------------------------------------------------------------------
機能内容

（１）　クォータニオンを用いた航法計算 AI2

------------------------------------------------------------------------------*/
function  NavigationAI2(){
	var Q_tmp  = new THREE.Quaternion();
	var Pv_L   = new THREE.Vector3( 0,  0,  0 );  // 機体速度
	var Av_L   = new THREE.Vector3( 0,  0,  0 );  // 機体角速度
	var upd    =  [ 0, 0, 0,
			0, 0, 0,
			0, 0, 0 ];
	
	Q_tmp   = Oil2qtn( A2v_b );
	Qmodel2 = Qmult  ( Qmodel2, Q_tmp );
	DCM_AI2 = Q2dcm  ( Qmodel2 );
	upd     = updmx  ( A2_b  );
       	Pv_L    = Mtxvec ( DCM_AI2, V2 );
       	Av_L    = Mtxvec ( upd, A2v_b );
     	P2      = Vadd   ( P2,  Pv_L );
       	A2_b    = Vadd   ( A2_b, Av_L );
}

/*-----------------------------------------------------------------------------
クォータニオンを用いた航法計算 AI3
-------------------------------------------------------------------------------
機能内容

（１）　クォータニオンを用いた航法計算 AI3

------------------------------------------------------------------------------*/
function  NavigationAI3(){
	var Q_tmp  = new THREE.Quaternion();
	var Pv_L   = new THREE.Vector3( 0,  0,  0 );  // 機体速度
	var Av_L   = new THREE.Vector3( 0,  0,  0 );  // 機体角速度
	var upd    =  [ 0, 0, 0,
			0, 0, 0,
			0, 0, 0 ];
	
	Q_tmp   = Oil2qtn( A3v_b );
	Qmodel3 = Qmult  ( Qmodel3, Q_tmp );
	DCM_AI3 = Q2dcm  ( Qmodel3 );
	upd     = updmx  ( A3_b  );
       	Pv_L    = Mtxvec ( DCM_AI3, V3 );
       	Av_L    = Mtxvec ( upd, A3v_b );
     	P3      = Vadd   ( P3,  Pv_L );
       	A3_b    = Vadd   ( A3_b, Av_L );
}

/*-----------------------------------------------------------------------------
クォータニオン化ベクトル変換
-------------------------------------------------------------------------------
機能内容

（１）　ベクトル（Ｘ，Ｙ，Ｚ）からクォータニオン（Ｑ０、Ｑ１、Ｑ２、Ｑ３）を
　　　　設定する。

------------------------------------------------------------------------------*/
function  Vec2qtn( V ){
	var	Q= new THREE.Quaternion();
	var	a,b,c;		/* 計算バッファ */
	
	a = V.x * V.x + V.y * V.y + V.z * V.z;
	
	if( a != 0.0 ){
        	a = Math.sqrt( a       );
        	b = Math.cos ( a * 0.5 );
        	c = Math.sin ( a * 0.5 );
        	
        	Q.w = b;
        	Q.x = V.x / a * c;
        	Q.y = V.y / a * c;
        	Q.z = V.z / a * c;
    	}else{
        	Q.w = 1.0; Q.x = Q.y = Q.z = 0.0;
    	}
    	return Q;
}

/*-----------------------------------------------------------------------------
クォータニオン化オイラー変換
-------------------------------------------------------------------------------
機能内容

（１）　オイラー角（Ｘ，Ｙ，Ｚ）からクォータニオン（Ｑ０、Ｑ１、Ｑ２、Ｑ３）を
　　　　設定する。

------------------------------------------------------------------------------*/
function  Oil2qtn( V ){
	var    Q    = new THREE.Quaternion();
	var    qbuf = new THREE.Quaternion();
	var    Vbuf = new THREE.Vector3( 0,  0,  0 );
	
	Vbuf.x = 0.0;
	Vbuf.y = 0.0;
	Vbuf.z = V.z;
	Q = Vec2qtn( Vbuf );
	
	Vbuf.x = 0.0;
	Vbuf.y = V.y;
	Vbuf.z = 0.0;
	qbuf = Vec2qtn( Vbuf );
	Q = Qmult( Q, qbuf );
	
	Vbuf.x = V.x;
	Vbuf.y = 0.0;
	Vbuf.z = 0.0;
	qbuf = Vec2qtn( Vbuf );
	Q = Qmult( Q, qbuf );
    	return Q;
}

/*-----------------------------------------------------------------------------
姿勢更新行列生成
-------------------------------------------------------------------------------
機能内容

（１）　角度ベクトル A_b から 更新行列 upd[]を作成する。

------------------------------------------------------------------------------*/
function  updmx( A_b ){

	var upd    =  [ 0, 0, 0,
			0, 0, 0,
			0, 0, 0 ];
	var sin_p,sin_q,sin_r;
	var cos_p,cos_q,cos_r;
	sin_p = Math.sin( A_b.x );
	sin_q = Math.sin( A_b.y );
	sin_r = Math.sin( A_b.z );
	cos_p = Math.cos( A_b.x );
	cos_q = Math.cos( A_b.y );
	cos_r = Math.cos( A_b.z );
	upd[0] = 1.0;
	upd[1] = sin_p * sin_q / cos_q;
	upd[2] = cos_p * sin_q / cos_q;
	upd[3] = 0.0;
	upd[4] = cos_p;
	upd[5] = (-sin_q * sin_r - sin_p);
	upd[6] = 0.0;
	upd[7] = sin_p / cos_q;
	upd[8] = cos_p / cos_q;
	return upd;
}

/*-----------------------------------------------------------------------------
クォータニオンの積
-------------------------------------------------------------------------------
機能内容

（１）　クォータニオンＱｃ＝Ｑａ＊Ｑｂを計算する。

------------------------------------------------------------------------------*/
function  Qmult( Qa, Qb ){
	var    Qc = new THREE.Quaternion();
	Qc.w = Qa.w * Qb.w - Qa.x * Qb.x - Qa.y * Qb.y - Qa.z * Qb.z;
	Qc.x = Qa.x * Qb.w + Qa.w * Qb.x - Qa.z * Qb.y + Qa.y * Qb.z;
	Qc.y = Qa.y * Qb.w + Qa.z * Qb.x + Qa.w * Qb.y - Qa.x * Qb.z;
	Qc.z = Qa.z * Qb.w - Qa.y * Qb.x + Qa.x * Qb.y + Qa.w * Qb.z;
	return Qc;
}

/*-----------------------------------------------------------------------------
クォータニオンの方向余弦行列化
-------------------------------------------------------------------------------
機能内容

（１）　クォータニオン（Ｑ０、Ｑ１、Ｑ２、Ｑ３）から方向余弦行列を作成する。

------------------------------------------------------------------------------*/
function  Q2dcm( Q ){
	var DCM = [ 0, 0, 0,
		    0, 0, 0,
		    0, 0, 0 ];
	var	q00,q11,q22,q33,
		q01,q02,q03,
		q12,q23,q31;
	
	q00 = Q.w * Q.w; q11 = Q.x * Q.x; q22 = Q.y * Q.y; q33 = Q.z * Q.z;
	q01 = Q.w * Q.x; q02 = Q.w * Q.y; q03 = Q.w * Q.z;
	q12 = Q.x * Q.y; q23 = Q.y * Q.z; q31 = Q.z * Q.x;
	
	DCM[0] = q00 + q11 - q22 - q33;
	DCM[1] = 2.0 * ( q12 - q03 );
	DCM[2] = 2.0 * ( q31 + q02 );
	
	DCM[3] = 2.0 * ( q12 + q03 );
	DCM[4] = q00 - q11 + q22 - q33;
	DCM[5] = 2.0 * ( q23 - q01 );
	
	DCM[6] = 2.0 * ( q31 - q02 );
	DCM[7] = 2.0 * ( q23 + q01 );
	DCM[8] = q00 - q11 - q22 + q33;
	return DCM;
}

/*-----------------------------------------------------------------------------
ベクトル和関数 [3]+[3]
-------------------------------------------------------------------------------
機能内容

（１）　ベクトルＡ＋ベクトルＢをベクトルＡに設定する。

------------------------------------------------------------------------------*/
function  Vadd( A, B ){
	A.x += B.x;
	A.y += B.y;
	A.z += B.z;
	return A;
}

/*-----------------------------------------------------------------------------
行列計算[3*3]*[3]
-------------------------------------------------------------------------------
機能内容

（１）　３×３行列＊３要素ベクトルを計算する。

------------------------------------------------------------------------------*/
function  Mtxvec( DCM, V ){
	var    O = new THREE.Vector3( 0,  0,  0 );
	O.x = DCM[0] * V.x + DCM[1] * V.y + DCM[2] * V.z;
	O.y = DCM[3] * V.x + DCM[4] * V.y + DCM[5] * V.z;
	O.z = DCM[6] * V.x + DCM[7] * V.y + DCM[8] * V.z;
	return O;
}
</script>
<!-- --------------------------------------------------------------------------
関連関数　PFD　 JavaScripts
<style type="text/css">
canvas#c_1 {border:10px solid #000000;}
</style>

--------------------------------------------------------------------------- -->
<script type="text/javascript" class="code">
var mesh_P;
var mesh_Y;
var mesh_R;

var c  = document.getElementById("c_1");
var c2 = document.getElementById("c_1");
var c3 = document.getElementById("c_1");

var cc = document.getElementById("c_2");
var ccc= document.getElementById("c_3");

var ctx  = c.getContext ("2d");
var ctx2 = c2.getContext("2d");
var ctx3 = c3.getContext("2d");

var H_ctx = cc.getContext("2d");
var V_ctx = ccc.getContext("2d");

var imgUrl  = "textures/Attitude.png";
var imgUrl3 = "textures/Attitude3.png";
var imgUrl2 = "textures/heading.png";

var image  = new Image();
var image2 = new Image();
var image3 = new Image();

	image3.src = imgUrl3;
	c3.width  = image3.width;
	c3.height = image3.height;

	image2.src = imgUrl2;
	cc.width  = image2.width;
	cc.height = image2.height;

	image.src = imgUrl;
	c.width  = image.width;
	c.height = image.height;

	ctx.save();
	ctx.drawImage(image, -image.width/2, -image.height/2);
	ctx.restore();

    	ctx2.beginPath();
    	ctx2.arc(c.width / 2, c.height / 2, 130, 0, Math.PI*2, false);
	ctx2.clearRect(0, 0, c.width, c.height);
	ctx2.closePath();
	ctx2.clip();

    	H_ctx.beginPath();
  	H_ctx.arc(cc.width / 2, cc.height / 2 +320 , 180, 0, Math.PI*2, false);
	H_ctx.clearRect(0, 0, cc.width, cc.height +320 );
	H_ctx.closePath();
	H_ctx.clip();

function PFD() {

	if ( Menu.RePlay )
	{
		mesh_P = mesh.rotation.x ;
		mesh_Y = mesh.rotation.y ;
		mesh_R = mesh.rotation.z ;

		if(( mesh_Y > -Math.PI*1.50 ) && ( mesh_Y < -Math.PI*0.5 ))
		{
			mesh_P = -mesh_P;
		}
		else
		{
			mesh_P = mesh_P;
		}

	}
	else
	{
		mesh_P = Oil.x;
		mesh_Y = Oil.y;
		mesh_R = Oil.z;
	}

	if( ( P.x < 1.0E-10 ) && ( P.x > -1.0E-10 )) { P.x = 0.0; }
	if( ( P.y < 1.0E-10 ) && ( P.y > -1.0E-10 )) { P.y = 0.0; }
	if( ( P.z < 1.0E-10 ) && ( P.z > -1.0E-10 )) { P.z = 0.0; }
	if( ( mesh_P < 1.0E-10 ) && ( mesh_P > -1.0E-10 )) { mesh_P = 0.0; }
	if( ( mesh_Y < 1.0E-10 ) && ( mesh_Y > -1.0E-10 )) { mesh_Y = 0.0; }
	if( ( mesh_R < 1.0E-10 ) && ( mesh_R > -1.0E-10 )) { mesh_R = 0.0; }

	  var P_shift = c.height * Math.sin( mesh_P );

	  ctx3.save();
	  ctx3.translate(c3.width / 2, c3.height / 2);
	  ctx3.rotate(mesh_R);
	  ctx3.translate(          0,  P_shift);
	  ctx3.drawImage(image3, -image3.width/2, -image3.height/2);
	  ctx3.restore();

	  H_ctx.save();
	  H_ctx.translate(cc.width / 2, cc.height / 2 +320 );
	  H_ctx.rotate(mesh_Y);
	  H_ctx.drawImage(image2, -image2.width/2, -image2.height/2);
	  H_ctx.restore();

	V_ctx.font = "12px 'ＭＳ Ｐゴシック'";

	V_ctx.fillStyle   = 'rgb( 255,255, 255)';
	V_ctx.fillRect    ( 50,10,40,10);
	V_ctx.fillStyle = "Black";
	V_ctx.fillText("Vb = "+ ( -V.z ).toFixed(2), 30, 20);
	V_ctx.restore();

	V_ctx.fillStyle   = 'rgb( 255,255, 255)';
	V_ctx.fillRect    ( 230,10,40,10);
	V_ctx.fillStyle = "Black";
	V_ctx.fillText("ALT = "+ ( P.y  ).toFixed(2), 200, 20);
	V_ctx.restore();

var Roll;
var Pitch;
var Yaw;

	Roll  = (( mesh_R ) * 180.0 / Math.PI ); Roll  %= 360;
	Pitch = (( mesh_P ) * 180.0 / Math.PI ); Pitch %= 360;
	Yaw   = (( mesh_Y ) * 180.0 / Math.PI ); Yaw   %= 360;

	V_ctx.fillStyle   = 'rgb( 255,255, 255)';
	V_ctx.fillRect    ( 140,15,40,10 );
	V_ctx.fillStyle = "Black";
	V_ctx.fillText("Roll = "+ Roll.toFixed(2), 110, 25);
	V_ctx.restore();

	V_ctx.fillStyle   = 'rgb( 255,255, 255)';
	V_ctx.fillRect    ( 65,65,40,10 );
	V_ctx.fillStyle = "Black";
	V_ctx.fillText("Pitch = "+ Pitch.toFixed(2), 30, 75);
	V_ctx.restore();

	V_ctx.fillStyle   = 'rgb( 255,255, 255)';
	V_ctx.fillRect    ( 80,125,40,10 );
	V_ctx.fillStyle = "Black";
	V_ctx.fillText("Heading = "+ Yaw.toFixed(2), 30, 135);
	V_ctx.restore();

	  V_ctx.strokeStyle = 'rgb( 9, 9, 9)';
	  V_ctx.strokeRect  ( 10,150,12, -150);
  	  V_ctx.fillStyle   = 'rgb( 00,255, 255)';
	  V_ctx.fillRect    ( 11,149,10, -148);
	  V_ctx.fillStyle   = 'rgb( 255,255, 00)';
	  V_ctx.fillRect    ( 11,149,10, -74 ); 
	  V_ctx.fillStyle   = 'rgb(  00,100, 00)';
 	  V_ctx.fillRect    ( 11, 74,10,( V.z * 24 ).toFixed(2) ); 

	  V_ctx.strokeStyle = 'rgb( 9, 9, 9)';
	  V_ctx.strokeRect  ( 280,150,12, -150);
  	  V_ctx.fillStyle   = 'rgb( 00,255, 255)';
	  V_ctx.fillRect    ( 281,149,10, -148);
	  V_ctx.fillStyle   = 'rgb( 255,255, 00)';
	  V_ctx.fillRect    ( 281,149,10, -74 ); 
	  V_ctx.fillStyle   = 'rgb(  00, 00, 100)';
 	  V_ctx.fillRect    ( 281, 74,10,( -P.y * 0.24 ).toFixed(2) ); 
	}
</script>
<!-- --------------------------------------------------------------------------
関連関数　jQuery PLOT　 JavaScripts
--------------------------------------------------------------------------- -->
<script class="include" type="text/javascript" src="js/jquery.jqplot.min.js"></script>
<div class="jqPlot" id="chart1" style="height:200px; width:600px;"></div>
<script type="text/javascript" class="code">
var Pc = 0;
var plot1 = [];
var plot2 = [];
var plot3 = [];
var mesh_P;
var mesh_Y;
var mesh_R;

function PLOT() {
	mesh_P = mesh.rotation.x;
	mesh_Y = mesh.rotation.y;
	mesh_R = mesh.rotation.z;
	Pc++;
	if( ( P.x < 1.0E-10 ) && ( P.x > -1.0E-10 )) { P.x = 0.0; }
	if( ( P.y < 1.0E-10 ) && ( P.y > -1.0E-10 )) { P.y = 0.0; }
	if( ( P.z < 1.0E-10 ) && ( P.z > -1.0E-10 )) { P.z = 0.0; }
	if( ( mesh_P < 1.0E-10 ) && ( mesh_P > -1.0E-10 )) { mesh_P = 0.0; }
	if( ( mesh_Y < 1.0E-10 ) && ( mesh_Y > -1.0E-10 )) { mesh_Y = 0.0; }
	if( ( mesh_R < 1.0E-10 ) && ( mesh_R > -1.0E-10 )) { mesh_R = 0.0; }
	plot1[Pc]=mesh_P;
	plot2[Pc]=mesh_Y;
	plot3[Pc]=mesh_R;
	targetPlot = $.jqplot('chart1', [plot1, plot2, plot3], {
        	seriesDefaults:{ showMarker: false },
        	series:[
          		{label:'Plot1'},
          		{label:'Plot2', yaxis:'y2axis'},
          		{label:'Plot3', yaxis:'y3axis'},
        	],
	}); 
}
</script>
</body>
</html>
<!-- ---------------------------------------
Good Luck
---------------------------------------- -->
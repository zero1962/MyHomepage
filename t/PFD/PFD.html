<!DOCTYPE html>
<html>
<head>
<title>HTML5 Canvas Demo</title>
<!--[if IE]>
  <script type="text/javascript" src="excanvas.js"></script>

<![endif]-->
</head>


//左から20上から40の位置に、幅50高さ100の四角形を描く
context.fillRect(20,40,50,100); 

 //色を指定する
context.strokeStyle = 'rgb(00,00,255)'; //枠線の色は青
context.fillStyle = 'rgb(255,00,00)'; //塗りつぶしの色は赤

//左から200上から80の位置に、幅100高さ50の四角の枠線を描く
context.strokeRect(200,80,100,50);



<style type="text/css">
canvas#c_1 {border:10px solid #000000;}
</style>
<body>
<input id="range_1" type="range" min="-1.0" max="1.0" step="0.01" value="0.0" style="width: 60%;" />
<input id="range_2" type="range" min="-1.0" max="1.0" step="0.01" value="0.0" style="width: 60%;" />
<input id="range_3" type="range" min="-1.0" max="1.0" step="0.01" value="0.0" style="width: 60%;" />
<canvas id='c_1'></canvas>
<script>
var c  = document.getElementById("c_1");
var c2 = document.getElementById("c_1");
	var ctx  = c.getContext ("2d");
	var ctx2 = c2.getContext("2d");

	var imgUrl  = "中計器.bmp";
	var imgUrl2 = "下計器.bmp";
	var image  = new Image();
	var image2 = new Image();

	image2.src = imgUrl2;
	c2.width  = image2.width;
	c2.height = image2.height;

	image.src = imgUrl;
	c.width  = image.width;
	c.height = image.height;

	exec();

	function exec() {
	  var Roll  = document.getElementById("range_1").value * 2 * Math.PI;
	  var Pitch = document.getElementById("range_2").value * 2 * Math.PI;
	  var Yaw   = document.getElementById("range_3").value * 2 * Math.PI;
	  var P_shift = c.height * Math.sin( Pitch );



   // Save the state, so we can undo the clipping

	ctx2.save();
// Create a shape, of some sort
    	ctx2.beginPath();
    	ctx2.arc(c.width / 2, c.height / 2, 120, 0, Math.PI*2, false);
	ctx2.clearRect(0, 0, c.width, c.height);
    	ctx2.arc(c2.width / 2, c2.height / 2  +320, 180, 0, Math.PI*2, false);
	ctx2.clearRect(0, 0, c2.width, c2.height+320);
	ctx.closePath();
// Clip to the current path
	ctx2.clip();

	  //ctx.globalCompositeOperation = "destination-atop";
    	  //ctx.beginPath();
    	  //ctx.arc(c.width / 2, c.height / 2, 120, 0, Math.PI*2, false);
	  //ctx.clearRect(0, 0, c.width, c.height);
	  ctx.save();
	  ctx.translate(c.width / 2, c.height / 2);
	  ctx.rotate(Roll);
	  ctx.translate(          0,  P_shift);
	  ctx.drawImage(image, -image.width/2, -image.height/2);
    	  //ctx.fill();
    	  //ctx.globalCompositeOperation = "source-over";
	  ctx.restore();

	  //ctx2.globalCompositeOperation = "destination-atop";
    	  //ctx2.beginPath();
    	  //ctx2.arc(c2.width / 2, c2.height / 2  +320, 180, 0, Math.PI*2, false);
	  //ctx2.clearRect(0, 0, c2.width, c2.height+320);
	  ctx2.save();
	  ctx2.translate(c2.width / 2, c2.height / 2 +320);
	  ctx2.rotate(Yaw);
	  ctx2.drawImage(image2, -image2.width/2, -image2.height/2);
    	  //ctx2.fill();
    	  //ctx2.globalCompositeOperation = "source-over";
	  ctx2.restore();
	}
	document.getElementById("range_1").onchange = exec;
	document.getElementById("range_2").onchange = exec;
	document.getElementById("range_3").onchange = exec;
</script>
</body>
</html>
